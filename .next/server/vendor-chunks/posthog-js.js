"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/posthog-js";
exports.ids = ["vendor-chunks/posthog-js"];
exports.modules = {

/***/ "(ssr)/./node_modules/posthog-js/dist/module.js":
/*!************************************************!*\
  !*** ./node_modules/posthog-js/dist/module.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COPY_AUTOCAPTURE_EVENT: () => (/* binding */ v),\n/* harmony export */   Compression: () => (/* binding */ e),\n/* harmony export */   PostHog: () => (/* binding */ Eo),\n/* harmony export */   SurveyQuestionBranchingType: () => (/* binding */ kn),\n/* harmony export */   SurveyQuestionType: () => (/* binding */ Sn),\n/* harmony export */   SurveyType: () => (/* binding */ wn),\n/* harmony export */   \"default\": () => (/* binding */ Io),\n/* harmony export */   knownUnsafeEditableEvent: () => (/* binding */ g),\n/* harmony export */   posthog: () => (/* binding */ Io),\n/* harmony export */   severityLevels: () => (/* binding */ f)\n/* harmony export */ });\nvar e,t=\"undefined\"!=typeof window?window:void 0,i=\"undefined\"!=typeof globalThis?globalThis:t,r=Array.prototype,s=r.forEach,n=r.indexOf,o=null==i?void 0:i.navigator,a=null==i?void 0:i.document,l=null==i?void 0:i.location,u=null==i?void 0:i.fetch,c=null!=i&&i.XMLHttpRequest&&\"withCredentials\"in new i.XMLHttpRequest?i.XMLHttpRequest:void 0,d=null==i?void 0:i.AbortController,h=null==o?void 0:o.userAgent,_=null!=t?t:{},p={DEBUG:!1,LIB_VERSION:\"1.215.6\"},v=\"$copy_autocapture\",g=[\"$snapshot\",\"$pageview\",\"$pageleave\",\"$set\",\"survey dismissed\",\"survey sent\",\"survey shown\",\"$identify\",\"$groupidentify\",\"$create_alias\",\"$$client_ingestion_warning\",\"$web_experiment_applied\",\"$feature_enrollment_update\",\"$feature_flag_called\"];!function(e){e.GZipJS=\"gzip-js\",e.Base64=\"base64\"}(e||(e={}));var f=[\"fatal\",\"error\",\"warning\",\"log\",\"info\",\"debug\"],m={};function b(e,t,i){if(B(e))if(s&&e.forEach===s)e.forEach(t,i);else if(\"length\"in e&&e.length===+e.length)for(var r=0,n=e.length;r<n;r++)if(r in e&&t.call(i,e[r],r)===m)return}function y(e,t,i){if(!J(e)){if(B(e))return b(e,t,i);if(X(e)){for(var r of e.entries())if(t.call(i,r[1],r[0])===m)return}else for(var s in e)if(N.call(e,s)&&t.call(i,e[s],s)===m)return}}var w=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return b(i,(function(t){for(var i in t)void 0!==t[i]&&(e[i]=t[i])})),e},S=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return b(i,(function(t){b(t,(function(t){e.push(t)}))})),e};function k(e){for(var t=Object.keys(e),i=t.length,r=new Array(i);i--;)r[i]=[t[i],e[t[i]]];return r}var E=function(e){try{return e()}catch(e){return}},x=function(e){return function(){try{for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e.apply(this,i)}catch(e){ee.critical(\"Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A.\"),ee.critical(e)}}},I=function(e){var t={};return y(e,(function(e,i){W(e)&&e.length>0&&(t[i]=e)})),t};function C(e,t){return i=e,r=e=>W(e)&&!G(t)?e.slice(0,t):e,s=new Set,function e(t,i){return t!==Object(t)?r?r(t,i):t:s.has(t)?void 0:(s.add(t),B(t)?(n=[],b(t,(t=>{n.push(e(t))}))):(n={},y(t,((t,i)=>{s.has(t)||(n[i]=e(t,i))}))),n);var n}(i);var i,r,s}var P=[\"herokuapp.com\",\"vercel.app\",\"netlify.app\"];function F(e){var t=null==e?void 0:e.hostname;if(!W(t))return!1;var i=t.split(\".\").slice(-2).join(\".\");for(var r of P)if(i===r)return!1;return!0}function T(e,t){for(var i=0;i<e.length;i++)if(t(e[i]))return e[i]}function R(e,t,i,r){var{capture:s=!1,passive:n=!0}=null!=r?r:{};null==e||e.addEventListener(t,i,{capture:s,passive:n})}function $(e,t){return-1!==e.indexOf(t)}var O=function(e){return e.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\"\")},M=function(e){return e.replace(/^\\$/,\"\")};var A=function(e,t){if(!function(e){try{new RegExp(e)}catch(e){return!1}return!0}(t))return!1;try{return new RegExp(t).test(e)}catch(e){return!1}},L=Array.isArray,D=Object.prototype,N=D.hasOwnProperty,q=D.toString,B=L||function(e){return\"[object Array]\"===q.call(e)},H=e=>\"function\"==typeof e,U=e=>e===Object(e)&&!B(e),j=e=>{if(U(e)){for(var t in e)if(N.call(e,t))return!1;return!0}return!1},z=e=>void 0===e,W=e=>\"[object String]\"==q.call(e),V=e=>W(e)&&0===e.trim().length,G=e=>null===e,J=e=>z(e)||G(e),Y=e=>\"[object Number]\"==q.call(e),K=e=>\"[object Boolean]\"===q.call(e),X=e=>e instanceof FormData,Q=e=>$(g,e),Z=e=>{var i={_log:function(i){if(t&&(p.DEBUG||_.POSTHOG_DEBUG)&&!z(t.console)&&t.console){for(var r=(\"__rrweb_original__\"in t.console[i]?t.console[i].__rrweb_original__:t.console[i]),s=arguments.length,n=new Array(s>1?s-1:0),o=1;o<s;o++)n[o-1]=arguments[o];r(e,...n)}},info:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i._log(\"log\",...t)},warn:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i._log(\"warn\",...t)},error:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i._log(\"error\",...t)},critical:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];console.error(e,...i)},uninitializedWarning:e=>{i.error(\"You must initialize PostHog before calling \".concat(e))},createLogger:t=>Z(\"\".concat(e,\" \").concat(t))};return i},ee=Z(\"[PostHog.js]\"),te=ee.createLogger,ie=te(\"[ExternalScriptsLoader]\"),re=(e,t,i)=>{if(e.config.disable_external_dependency_loading)return ie.warn(\"\".concat(t,\" was requested but loading of external scripts is disabled.\")),i(\"Loading of external scripts is disabled\");var r=()=>{if(!a)return i(\"document not found\");var r=a.createElement(\"script\");if(r.type=\"text/javascript\",r.crossOrigin=\"anonymous\",r.src=t,r.onload=e=>i(void 0,e),r.onerror=e=>i(e),e.config.prepare_external_dependency_script&&(r=e.config.prepare_external_dependency_script(r)),!r)return i(\"prepare_external_dependency_script returned null\");var s,n=a.querySelectorAll(\"body > script\");n.length>0?null===(s=n[0].parentNode)||void 0===s||s.insertBefore(r,n[0]):a.body.appendChild(r)};null!=a&&a.body?r():null==a||a.addEventListener(\"DOMContentLoaded\",r)};function se(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function ne(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?se(Object(i),!0).forEach((function(t){oe(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):se(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function oe(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ae(e,t){if(null==e)return{};var i,r,s=function(e,t){if(null==e)return{};var i,r,s={},n=Object.keys(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||(s[i]=e[i]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(s[i]=e[i])}return s}_.__PosthogExtensions__=_.__PosthogExtensions__||{},_.__PosthogExtensions__.loadExternalDependency=(e,t,i)=>{var r=\"/static/\".concat(t,\".js\")+\"?v=\".concat(e.version);if(\"remote-config\"===t&&(r=\"/array/\".concat(e.config.token,\"/config.js\")),\"toolbar\"===t){var s=3e5,n=Math.floor(Date.now()/s)*s;r=\"\".concat(r,\"&t=\").concat(n)}var o=e.requestRouter.endpointFor(\"assets\",r);re(e,o,i)},_.__PosthogExtensions__.loadSiteApp=(e,t,i)=>{var r=e.requestRouter.endpointFor(\"api\",t);re(e,r,i)};var le=\"$people_distinct_id\",ue=\"__alias\",ce=\"__timers\",de=\"$autocapture_disabled_server_side\",he=\"$heatmaps_enabled_server_side\",_e=\"$exception_capture_enabled_server_side\",pe=\"$web_vitals_enabled_server_side\",ve=\"$dead_clicks_enabled_server_side\",ge=\"$web_vitals_allowed_metrics\",fe=\"$session_recording_enabled_server_side\",me=\"$console_log_recording_enabled_server_side\",be=\"$session_recording_network_payload_capture\",ye=\"$session_recording_canvas_recording\",we=\"$replay_sample_rate\",Se=\"$replay_minimum_duration\",ke=\"$replay_script_config\",Ee=\"$sesid\",xe=\"$session_is_sampled\",Ie=\"$session_recording_url_trigger_activated_session\",Ce=\"$session_recording_event_trigger_activated_session\",Pe=\"$enabled_feature_flags\",Fe=\"$early_access_features\",Te=\"$stored_person_properties\",Re=\"$stored_group_properties\",$e=\"$surveys\",Oe=\"$surveys_activated\",Me=\"$flag_call_reported\",Ae=\"$user_state\",Le=\"$client_session_props\",De=\"$capture_rate_limit\",Ne=\"$initial_campaign_params\",qe=\"$initial_referrer_info\",Be=\"$initial_person_info\",He=\"$epp\",Ue=\"__POSTHOG_TOOLBAR__\",je=\"$posthog_cookieless\",ze=[le,ue,\"__cmpns\",ce,fe,he,Ee,Pe,Ae,Fe,Re,Te,$e,Me,Le,De,Ne,qe,He],We=te(\"[FeatureFlags]\"),Ve=\"$active_feature_flags\",Ge=\"$override_feature_flags\",Je=\"$feature_flag_payloads\",Ye=\"$override_feature_flag_payloads\",Ke=e=>{var t={};for(var[i,r]of k(e||{}))r&&(t[i]=r);return t};class Xe{constructor(e){oe(this,\"_override_warning\",!1),oe(this,\"_hasLoadedFlags\",!1),oe(this,\"_requestInFlight\",!1),oe(this,\"_reloadingDisabled\",!1),oe(this,\"_additionalReloadRequested\",!1),oe(this,\"_decideCalled\",!1),oe(this,\"_flagsLoadedFromRemote\",!1),this.instance=e,this.featureFlagEventHandlers=[]}decide(){if(this.instance.config.__preview_remote_config)this._decideCalled=!0;else{var e=!this._reloadDebouncer&&(this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load);this._callDecideEndpoint({disableFlags:e})}}get hasLoadedFlags(){return this._hasLoadedFlags}getFlags(){return Object.keys(this.getFlagVariants())}getFlagVariants(){var e=this.instance.get_property(Pe),t=this.instance.get_property(Ge);if(!t)return e||{};for(var i=w({},e),r=Object.keys(t),s=0;s<r.length;s++)i[r[s]]=t[r[s]];return this._override_warning||(We.warn(\" Overriding feature flags!\",{enabledFlags:e,overriddenFlags:t,finalFlags:i}),this._override_warning=!0),i}getFlagPayloads(){var e=this.instance.get_property(Je),t=this.instance.get_property(Ye);if(!t)return e||{};for(var i=w({},e||{}),r=Object.keys(t),s=0;s<r.length;s++)i[r[s]]=t[r[s]];return this._override_warning||(We.warn(\" Overriding feature flag payloads!\",{flagPayloads:e,overriddenPayloads:t,finalPayloads:i}),this._override_warning=!0),i}reloadFeatureFlags(){this._reloadingDisabled||this.instance.config.advanced_disable_feature_flags||this._reloadDebouncer||(this._reloadDebouncer=setTimeout((()=>{this._callDecideEndpoint()}),5))}clearDebouncer(){clearTimeout(this._reloadDebouncer),this._reloadDebouncer=void 0}ensureFlagsLoaded(){this._hasLoadedFlags||this._requestInFlight||this._reloadDebouncer||this.reloadFeatureFlags()}setAnonymousDistinctId(e){this.$anon_distinct_id=e}setReloadingPaused(e){this._reloadingDisabled=e}_callDecideEndpoint(t){if(this.clearDebouncer(),!this.instance.config.advanced_disable_decide)if(this._requestInFlight)this._additionalReloadRequested=!0;else{var i={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:this.instance.get_property(Te),group_properties:this.instance.get_property(Re)};(null!=t&&t.disableFlags||this.instance.config.advanced_disable_feature_flags)&&(i.disable_flags=!0),this._requestInFlight=!0,this.instance._send_request({method:\"POST\",url:this.instance.requestRouter.endpointFor(\"api\",\"/decide/?v=3\"),data:i,compression:this.instance.config.disable_compression?void 0:e.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:e=>{var t,r,s=!0;(200===e.statusCode&&(this.$anon_distinct_id=void 0,s=!1),this._requestInFlight=!1,this._decideCalled)||(this._decideCalled=!0,this.instance._onRemoteConfig(null!==(r=e.json)&&void 0!==r?r:{}));i.disable_flags||(this._flagsLoadedFromRemote=!s,this.receivedFeatureFlags(null!==(t=e.json)&&void 0!==t?t:{},s),this._additionalReloadRequested&&(this._additionalReloadRequested=!1,this._callDecideEndpoint()))}})}}getFeatureFlag(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._hasLoadedFlags||this.getFlags()&&this.getFlags().length>0){var i,r,s,n,o,a=this.getFlagVariants()[e],l=\"\".concat(a),u=this.instance.get_property(Me)||{};if(t.send_event||!(\"send_event\"in t))if(!(e in u)||!u[e].includes(l))B(u[e])?u[e].push(l):u[e]=[l],null===(i=this.instance.persistence)||void 0===i||i.register({[Me]:u}),this.instance.capture(\"$feature_flag_called\",{$feature_flag:e,$feature_flag_response:a,$feature_flag_payload:this.getFeatureFlagPayload(e)||null,$feature_flag_bootstrapped_response:(null===(r=this.instance.config.bootstrap)||void 0===r||null===(s=r.featureFlags)||void 0===s?void 0:s[e])||null,$feature_flag_bootstrapped_payload:(null===(n=this.instance.config.bootstrap)||void 0===n||null===(o=n.featureFlagPayloads)||void 0===o?void 0:o[e])||null,$used_bootstrap_value:!this._flagsLoadedFromRemote});return a}We.warn('getFeatureFlag for key \"'+e+\"\\\" failed. Feature flags didn't load in time.\")}getFeatureFlagPayload(e){return this.getFlagPayloads()[e]}isFeatureEnabled(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._hasLoadedFlags||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,t);We.warn('isFeatureEnabled for key \"'+e+\"\\\" failed. Feature flags didn't load in time.\")}addFeatureFlagsHandler(e){this.featureFlagEventHandlers.push(e)}removeFeatureFlagsHandler(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter((t=>t!==e))}receivedFeatureFlags(e,t){if(this.instance.persistence){this._hasLoadedFlags=!0;var i=this.getFlagVariants(),r=this.getFlagPayloads();!function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=e.featureFlags,n=e.featureFlagPayloads;if(s)if(B(s)){var o={};if(s)for(var a=0;a<s.length;a++)o[s[a]]=!0;t&&t.register({[Ve]:s,[Pe]:o})}else{var l=s,u=n;e.errorsWhileComputingFlags&&(l=ne(ne({},i),l),u=ne(ne({},r),u)),t&&t.register({[Ve]:Object.keys(Ke(l)),[Pe]:l||{},[Je]:u||{}})}}(e,this.instance.persistence,i,r),this._fireFeatureFlagsCallbacks(t)}}override(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];We.warn(\"override is deprecated. Please use overrideFeatureFlags instead.\"),this.overrideFeatureFlags({flags:e,suppressWarning:t})}overrideFeatureFlags(e){if(!this.instance.__loaded||!this.instance.persistence)return We.uninitializedWarning(\"posthog.feature_flags.overrideFeatureFlags\");if(!1===e)return this.instance.persistence.unregister(Ge),this.instance.persistence.unregister(Ye),void this._fireFeatureFlagsCallbacks();if(e&&\"object\"==typeof e&&(\"flags\"in e||\"payloads\"in e)){var t,i=e;if(this._override_warning=Boolean(null!==(t=i.suppressWarning)&&void 0!==t&&t),\"flags\"in i)if(!1===i.flags)this.instance.persistence.unregister(Ge);else if(i.flags)if(B(i.flags)){for(var r={},s=0;s<i.flags.length;s++)r[i.flags[s]]=!0;this.instance.persistence.register({[Ge]:r})}else this.instance.persistence.register({[Ge]:i.flags});return\"payloads\"in i&&(!1===i.payloads?this.instance.persistence.unregister(Ye):i.payloads&&this.instance.persistence.register({[Ye]:i.payloads})),void this._fireFeatureFlagsCallbacks()}this._fireFeatureFlagsCallbacks()}onFeatureFlags(e){if(this.addFeatureFlagsHandler(e),this._hasLoadedFlags){var{flags:t,flagVariants:i}=this._prepareFeatureFlagsForCallbacks();e(t,i)}return()=>this.removeFeatureFlagsHandler(e)}updateEarlyAccessFeatureEnrollment(e,t){var i,r=(this.instance.get_property(Fe)||[]).find((t=>t.flagKey===e)),s={[\"$feature_enrollment/\".concat(e)]:t},n={$feature_flag:e,$feature_enrollment:t,$set:s};r&&(n.$early_access_feature_name=r.name),this.instance.capture(\"$feature_enrollment_update\",n),this.setPersonPropertiesForFlags(s,!1);var o=ne(ne({},this.getFlagVariants()),{},{[e]:t});null===(i=this.instance.persistence)||void 0===i||i.register({[Ve]:Object.keys(Ke(o)),[Pe]:o}),this._fireFeatureFlagsCallbacks()}getEarlyAccessFeatures(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.instance.get_property(Fe);if(i&&!t)return e(i);this.instance._send_request({url:this.instance.requestRouter.endpointFor(\"api\",\"/api/early_access_features/?token=\".concat(this.instance.config.token)),method:\"GET\",callback:t=>{var i;if(t.json){var r=t.json.earlyAccessFeatures;return null===(i=this.instance.persistence)||void 0===i||i.register({[Fe]:r}),e(r)}}})}_prepareFeatureFlagsForCallbacks(){var e=this.getFlags(),t=this.getFlagVariants();return{flags:e.filter((e=>t[e])),flagVariants:Object.keys(t).filter((e=>t[e])).reduce(((e,i)=>(e[i]=t[i],e)),{})}}_fireFeatureFlagsCallbacks(e){var{flags:t,flagVariants:i}=this._prepareFeatureFlagsForCallbacks();this.featureFlagEventHandlers.forEach((r=>r(t,i,{errorsLoading:e})))}setPersonPropertiesForFlags(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.instance.get_property(Te)||{};this.instance.register({[Te]:ne(ne({},i),e)}),t&&this.instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this.instance.unregister(Te)}setGroupPropertiesForFlags(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.instance.get_property(Re)||{};0!==Object.keys(i).length&&Object.keys(i).forEach((t=>{i[t]=ne(ne({},i[t]),e[t]),delete e[t]})),this.instance.register({[Re]:ne(ne({},i),e)}),t&&this.instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(e){if(e){var t=this.instance.get_property(Re)||{};this.instance.register({[Re]:ne(ne({},t),{},{[e]:{}})})}else this.instance.unregister(Re)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return Y(e)&&isFinite(e)&&Math.floor(e)===e});var Qe=\"0123456789abcdef\";class Ze{constructor(e){if(this.bytes=e,16!==e.length)throw new TypeError(\"not 128-bit length\")}static fromFieldsV7(e,t,i,r){if(!Number.isInteger(e)||!Number.isInteger(t)||!Number.isInteger(i)||!Number.isInteger(r)||e<0||t<0||i<0||r<0||e>0xffffffffffff||t>4095||i>1073741823||r>4294967295)throw new RangeError(\"invalid field value\");var s=new Uint8Array(16);return s[0]=e/Math.pow(2,40),s[1]=e/Math.pow(2,32),s[2]=e/Math.pow(2,24),s[3]=e/Math.pow(2,16),s[4]=e/Math.pow(2,8),s[5]=e,s[6]=112|t>>>8,s[7]=t,s[8]=128|i>>>24,s[9]=i>>>16,s[10]=i>>>8,s[11]=i,s[12]=r>>>24,s[13]=r>>>16,s[14]=r>>>8,s[15]=r,new Ze(s)}toString(){for(var e=\"\",t=0;t<this.bytes.length;t++)e=e+Qe.charAt(this.bytes[t]>>>4)+Qe.charAt(15&this.bytes[t]),3!==t&&5!==t&&7!==t&&9!==t||(e+=\"-\");if(36!==e.length)throw new Error(\"Invalid UUIDv7 was generated\");return e}clone(){return new Ze(this.bytes.slice(0))}equals(e){return 0===this.compareTo(e)}compareTo(e){for(var t=0;t<16;t++){var i=this.bytes[t]-e.bytes[t];if(0!==i)return Math.sign(i)}return 0}}class et{constructor(){oe(this,\"timestamp\",0),oe(this,\"counter\",0),oe(this,\"random\",new rt)}generate(){var e=this.generateOrAbort();if(z(e)){this.timestamp=0;var t=this.generateOrAbort();if(z(t))throw new Error(\"Could not generate UUID after timestamp reset\");return t}return e}generateOrAbort(){var e=Date.now();if(e>this.timestamp)this.timestamp=e,this.resetCounter();else{if(!(e+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return Ze.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}resetCounter(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}var tt,it=e=>{if(\"undefined\"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw new Error(\"no cryptographically strong RNG available\");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};t&&!z(t.crypto)&&crypto.getRandomValues&&(it=e=>crypto.getRandomValues(e));class rt{constructor(){oe(this,\"buffer\",new Uint32Array(8)),oe(this,\"cursor\",1/0)}nextUint32(){return this.cursor>=this.buffer.length&&(it(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}var st=()=>nt().toString(),nt=()=>(tt||(tt=new et)).generate(),ot=\"Thu, 01 Jan 1970 00:00:00 GMT\",at=\"\";var lt=/[a-z0-9][a-z0-9-]+\\.[a-z]{2,}$/i;function ut(e,t){if(t){var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if(at)return at;if(!t)return\"\";if([\"localhost\",\"127.0.0.1\"].includes(e))return\"\";for(var i=e.split(\".\"),r=Math.min(i.length,8),s=\"dmn_chk_\"+st(),n=new RegExp(\"(^|;)\\\\s*\"+s+\"=1\");!at&&r--;){var o=i.slice(r).join(\".\"),l=s+\"=1;domain=.\"+o;t.cookie=l,n.test(t.cookie)&&(t.cookie=l+\";expires=\"+ot,at=o)}return at}(e);if(!i){var r=(e=>{var t=e.match(lt);return t?t[0]:\"\"})(e);r!==i&&ee.info(\"Warning: cookie subdomain discovery mismatch\",r,i),i=r}return i?\"; domain=.\"+i:\"\"}return\"\"}var ct={is_supported:()=>!!a,error:function(e){ee.error(\"cookieStore error: \"+e)},get:function(e){if(a){try{for(var t=e+\"=\",i=a.cookie.split(\";\").filter((e=>e.length)),r=0;r<i.length;r++){for(var s=i[r];\" \"==s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(t))return decodeURIComponent(s.substring(t.length,s.length))}}catch(e){}return null}},parse:function(e){var t;try{t=JSON.parse(ct.get(e))||{}}catch(e){}return t},set:function(e,t,i,r,s){if(a)try{var n=\"\",o=\"\",l=ut(a.location.hostname,r);if(i){var u=new Date;u.setTime(u.getTime()+24*i*60*60*1e3),n=\"; expires=\"+u.toUTCString()}s&&(o=\"; secure\");var c=e+\"=\"+encodeURIComponent(JSON.stringify(t))+n+\"; SameSite=Lax; path=/\"+l+o;return c.length>3686.4&&ee.warn(\"cookieStore warning: large cookie, len=\"+c.length),a.cookie=c,c}catch(e){return}},remove:function(e,t){try{ct.set(e,\"\",-1,t)}catch(e){return}}},dt=null,ht={is_supported:function(){if(!G(dt))return dt;var e=!0;if(z(t))e=!1;else try{var i=\"__mplssupport__\";ht.set(i,\"xyz\"),'\"xyz\"'!==ht.get(i)&&(e=!1),ht.remove(i)}catch(t){e=!1}return e||ee.error(\"localStorage unsupported; falling back to cookie store\"),dt=e,e},error:function(e){ee.error(\"localStorage error: \"+e)},get:function(e){try{return null==t?void 0:t.localStorage.getItem(e)}catch(e){ht.error(e)}return null},parse:function(e){try{return JSON.parse(ht.get(e))||{}}catch(e){}return null},set:function(e,i){try{null==t||t.localStorage.setItem(e,JSON.stringify(i))}catch(e){ht.error(e)}},remove:function(e){try{null==t||t.localStorage.removeItem(e)}catch(e){ht.error(e)}}},_t=[\"distinct_id\",Ee,xe,He,Be],pt=ne(ne({},ht),{},{parse:function(e){try{var t={};try{t=ct.parse(e)||{}}catch(e){}var i=w(t,JSON.parse(ht.get(e)||\"{}\"));return ht.set(e,i),i}catch(e){}return null},set:function(e,t,i,r,s,n){try{ht.set(e,t,void 0,void 0,n);var o={};_t.forEach((e=>{t[e]&&(o[e]=t[e])})),Object.keys(o).length&&ct.set(e,o,i,r,s,n)}catch(e){ht.error(e)}},remove:function(e,i){try{null==t||t.localStorage.removeItem(e),ct.remove(e,i)}catch(e){ht.error(e)}}}),vt={},gt={is_supported:function(){return!0},error:function(e){ee.error(\"memoryStorage error: \"+e)},get:function(e){return vt[e]||null},parse:function(e){return vt[e]||null},set:function(e,t){vt[e]=t},remove:function(e){delete vt[e]}},ft=null,mt={is_supported:function(){if(!G(ft))return ft;if(ft=!0,z(t))ft=!1;else try{var e=\"__support__\";mt.set(e,\"xyz\"),'\"xyz\"'!==mt.get(e)&&(ft=!1),mt.remove(e)}catch(e){ft=!1}return ft},error:function(e){ee.error(\"sessionStorage error: \",e)},get:function(e){try{return null==t?void 0:t.sessionStorage.getItem(e)}catch(e){mt.error(e)}return null},parse:function(e){try{return JSON.parse(mt.get(e))||null}catch(e){}return null},set:function(e,i){try{null==t||t.sessionStorage.setItem(e,JSON.stringify(i))}catch(e){mt.error(e)}},remove:function(e){try{null==t||t.sessionStorage.removeItem(e)}catch(e){mt.error(e)}}},bt=[\"localhost\",\"127.0.0.1\"],yt=e=>{var t=null==a?void 0:a.createElement(\"a\");return z(t)?null:(t.href=e,t)},wt=function(e){var t,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"&\",s=[];return y(e,(function(e,r){z(e)||z(r)||\"undefined\"===r||(t=encodeURIComponent((e=>e instanceof File)(e)?e.name:e.toString()),i=encodeURIComponent(r),s[s.length]=i+\"=\"+t)})),s.join(r)},St=function(e,t){for(var i,r=((e.split(\"#\")[0]||\"\").split(\"?\")[1]||\"\").split(\"&\"),s=0;s<r.length;s++){var n=r[s].split(\"=\");if(n[0]===t){i=n;break}}if(!B(i)||i.length<2)return\"\";var o=i[1];try{o=decodeURIComponent(o)}catch(e){ee.error(\"Skipping decoding for malformed query param: \"+o)}return o.replace(/\\+/g,\" \")},kt=function(e,t,i){if(!e||!t||!t.length)return e;for(var r=e.split(\"#\"),s=r[0]||\"\",n=r[1],o=s.split(\"?\"),a=o[1],l=o[0],u=(a||\"\").split(\"&\"),c=[],d=0;d<u.length;d++){var h=u[d].split(\"=\");B(h)&&(t.includes(h[0])?c.push(h[0]+\"=\"+i):c.push(u[d]))}var _=l;return null!=a&&(_+=\"?\"+c.join(\"&\")),null!=n&&(_+=\"#\"+n),_},Et=function(e,t){var i=e.match(new RegExp(t+\"=([^&]*)\"));return i?i[1]:null},xt=\"Mobile\",It=\"iOS\",Ct=\"Android\",Pt=\"Tablet\",Ft=Ct+\" \"+Pt,Tt=\"iPad\",Rt=\"Apple\",$t=Rt+\" Watch\",Ot=\"Safari\",Mt=\"BlackBerry\",At=\"Samsung\",Lt=At+\"Browser\",Dt=At+\" Internet\",Nt=\"Chrome\",qt=Nt+\" OS\",Bt=Nt+\" \"+It,Ht=\"Internet Explorer\",Ut=Ht+\" \"+xt,jt=\"Opera\",zt=jt+\" Mini\",Wt=\"Edge\",Vt=\"Microsoft \"+Wt,Gt=\"Firefox\",Jt=Gt+\" \"+It,Yt=\"Nintendo\",Kt=\"PlayStation\",Xt=\"Xbox\",Qt=Ct+\" \"+xt,Zt=xt+\" \"+Ot,ei=\"Windows\",ti=ei+\" Phone\",ii=\"Nokia\",ri=\"Ouya\",si=\"Generic\",ni=si+\" \"+xt.toLowerCase(),oi=si+\" \"+Pt.toLowerCase(),ai=\"Konqueror\",li=\"(\\\\d+(\\\\.\\\\d+)?)\",ui=new RegExp(\"Version/\"+li),ci=new RegExp(Xt,\"i\"),di=new RegExp(Kt+\" \\\\w+\",\"i\"),hi=new RegExp(Yt+\" \\\\w+\",\"i\"),_i=new RegExp(Mt+\"|PlayBook|BB10\",\"i\"),pi={\"NT3.51\":\"NT 3.11\",\"NT4.0\":\"NT 4.0\",\"5.0\":\"2000\",5.1:\"XP\",5.2:\"XP\",\"6.0\":\"Vista\",6.1:\"7\",6.2:\"8\",6.3:\"8.1\",6.4:\"10\",\"10.0\":\"10\"};var vi=(e,t)=>t&&$(t,Rt)||function(e){return $(e,Ot)&&!$(e,Nt)&&!$(e,Ct)}(e),gi=function(e,t){return t=t||\"\",$(e,\" OPR/\")&&$(e,\"Mini\")?zt:$(e,\" OPR/\")?jt:_i.test(e)?Mt:$(e,\"IE\"+xt)||$(e,\"WPDesktop\")?Ut:$(e,Lt)?Dt:$(e,Wt)||$(e,\"Edg/\")?Vt:$(e,\"FBIOS\")?\"Facebook \"+xt:$(e,\"UCWEB\")||$(e,\"UCBrowser\")?\"UC Browser\":$(e,\"CriOS\")?Bt:$(e,\"CrMo\")||$(e,Nt)?Nt:$(e,Ct)&&$(e,Ot)?Qt:$(e,\"FxiOS\")?Jt:$(e.toLowerCase(),ai.toLowerCase())?ai:vi(e,t)?$(e,xt)?Zt:Ot:$(e,Gt)?Gt:$(e,\"MSIE\")||$(e,\"Trident/\")?Ht:$(e,\"Gecko\")?Gt:\"\"},fi={[Ut]:[new RegExp(\"rv:\"+li)],[Vt]:[new RegExp(Wt+\"?\\\\/\"+li)],[Nt]:[new RegExp(\"(\"+Nt+\"|CrMo)\\\\/\"+li)],[Bt]:[new RegExp(\"CriOS\\\\/\"+li)],\"UC Browser\":[new RegExp(\"(UCBrowser|UCWEB)\\\\/\"+li)],[Ot]:[ui],[Zt]:[ui],[jt]:[new RegExp(\"(Opera|OPR)\\\\/\"+li)],[Gt]:[new RegExp(Gt+\"\\\\/\"+li)],[Jt]:[new RegExp(\"FxiOS\\\\/\"+li)],[ai]:[new RegExp(\"Konqueror[:/]?\"+li,\"i\")],[Mt]:[new RegExp(Mt+\" \"+li),ui],[Qt]:[new RegExp(\"android\\\\s\"+li,\"i\")],[Dt]:[new RegExp(Lt+\"\\\\/\"+li)],[Ht]:[new RegExp(\"(rv:|MSIE )\"+li)],Mozilla:[new RegExp(\"rv:\"+li)]},mi=[[new RegExp(Xt+\"; \"+Xt+\" (.*?)[);]\",\"i\"),e=>[Xt,e&&e[1]||\"\"]],[new RegExp(Yt,\"i\"),[Yt,\"\"]],[new RegExp(Kt,\"i\"),[Kt,\"\"]],[_i,[Mt,\"\"]],[new RegExp(ei,\"i\"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[ti,\"\"];if(new RegExp(xt).test(t)&&!/IEMobile\\b/.test(t))return[ei+\" \"+xt,\"\"];var i=/Windows NT ([0-9.]+)/i.exec(t);if(i&&i[1]){var r=i[1],s=pi[r]||\"\";return/arm/i.test(t)&&(s=\"RT\"),[ei,s]}return[ei,\"\"]}],[/((iPhone|iPad|iPod).*?OS (\\d+)_(\\d+)_?(\\d+)?|iPhone)/,e=>{if(e&&e[3]){var t=[e[3],e[4],e[5]||\"0\"];return[It,t.join(\".\")]}return[It,\"\"]}],[/(watch.*\\/(\\d+\\.\\d+\\.\\d+)|watch os,(\\d+\\.\\d+),)/i,e=>{var t=\"\";return e&&e.length>=3&&(t=z(e[2])?e[3]:e[2]),[\"watchOS\",t]}],[new RegExp(\"(\"+Ct+\" (\\\\d+)\\\\.(\\\\d+)\\\\.?(\\\\d+)?|\"+Ct+\")\",\"i\"),e=>{if(e&&e[2]){var t=[e[2],e[3],e[4]||\"0\"];return[Ct,t.join(\".\")]}return[Ct,\"\"]}],[/Mac OS X (\\d+)[_.](\\d+)[_.]?(\\d+)?/i,e=>{var t=[\"Mac OS X\",\"\"];if(e&&e[1]){var i=[e[1],e[2],e[3]||\"0\"];t[1]=i.join(\".\")}return t}],[/Mac/i,[\"Mac OS X\",\"\"]],[/CrOS/,[qt,\"\"]],[/Linux|debian/i,[\"Linux\",\"\"]]],bi=function(e){return hi.test(e)?Yt:di.test(e)?Kt:ci.test(e)?Xt:new RegExp(ri,\"i\").test(e)?ri:new RegExp(\"(\"+ti+\"|WPDesktop)\",\"i\").test(e)?ti:/iPad/.test(e)?Tt:/iPod/.test(e)?\"iPod Touch\":/iPhone/.test(e)?\"iPhone\":/(watch)(?: ?os[,/]|\\d,\\d\\/)[\\d.]+/i.test(e)?$t:_i.test(e)?Mt:/(kobo)\\s(ereader|touch)/i.test(e)?\"Kobo\":new RegExp(ii,\"i\").test(e)?ii:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\\))/i.test(e)||/(kf[a-z]+)( bui|\\)).+silk\\//i.test(e)?\"Kindle Fire\":/(Android|ZTE)/i.test(e)?!new RegExp(xt).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?Ct:Ft:Ct:new RegExp(\"(pda|\"+xt+\")\",\"i\").test(e)?ni:new RegExp(Pt,\"i\").test(e)&&!new RegExp(Pt+\" pc\",\"i\").test(e)?oi:\"\"},yi=\"https?://(.*)\",wi=[\"gclid\",\"gclsrc\",\"dclid\",\"gbraid\",\"wbraid\",\"fbclid\",\"msclkid\",\"twclid\",\"li_fat_id\",\"igshid\",\"ttclid\",\"rdt_cid\",\"irclid\",\"_kx\"],Si=S([\"utm_source\",\"utm_medium\",\"utm_campaign\",\"utm_content\",\"utm_term\",\"gad_source\",\"mc_cid\"],wi),ki=\"<masked>\",Ei={campaignParams:function(){var{customTrackedParams:e,maskPersonalDataProperties:t,customPersonalDataProperties:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!a)return{};var r=t?S([],wi,i||[]):[];return this._campaignParamsFromUrl(kt(a.URL,r,ki),e)},_campaignParamsFromUrl:function(e,t){var i=Si.concat(t||[]),r={};return y(i,(function(t){var i=St(e,t);r[t]=i||null})),r},_searchEngine:function(e){return e?0===e.search(yi+\"google.([^/?]*)\")?\"google\":0===e.search(yi+\"bing.com\")?\"bing\":0===e.search(yi+\"yahoo.com\")?\"yahoo\":0===e.search(yi+\"duckduckgo.com\")?\"duckduckgo\":null:null},_searchInfoFromReferrer:function(e){var t=Ei._searchEngine(e),i=\"yahoo\"!=t?\"q\":\"p\",r={};if(!G(t)){r.$search_engine=t;var s=a?St(a.referrer,i):\"\";s.length&&(r.ph_keyword=s)}return r},searchInfo:function(){var e=null==a?void 0:a.referrer;return e?this._searchInfoFromReferrer(e):{}},browser:gi,browserVersion:function(e,t){var i=gi(e,t),r=fi[i];if(z(r))return null;for(var s=0;s<r.length;s++){var n=r[s],o=e.match(n);if(o)return parseFloat(o[o.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},browserLanguagePrefix:function(){var e=this.browserLanguage();return\"string\"==typeof e?e.split(\"-\")[0]:void 0},os:function(e){for(var t=0;t<mi.length;t++){var[i,r]=mi[t],s=i.exec(e),n=s&&(H(r)?r(s,e):r);if(n)return n}return[\"\",\"\"]},device:bi,deviceType:function(e){var t=bi(e);return t===Tt||t===Ft||\"Kobo\"===t||\"Kindle Fire\"===t||t===oi?Pt:t===Yt||t===Xt||t===Kt||t===ri?\"Console\":t===$t?\"Wearable\":t?xt:\"Desktop\"},referrer:function(){return(null==a?void 0:a.referrer)||\"$direct\"},referringDomain:function(){var e;return null!=a&&a.referrer&&(null===(e=yt(a.referrer))||void 0===e?void 0:e.host)||\"$direct\"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},initialPersonInfo:function(){return{r:this.referrer().substring(0,1e3),u:null==l?void 0:l.href.substring(0,1e3)}},initialPersonPropsFromInfo:function(e){var t,{r:i,u:r}=e,s={$initial_referrer:i,$initial_referring_domain:null==i?void 0:\"$direct\"==i?\"$direct\":null===(t=yt(i))||void 0===t?void 0:t.host};if(r){s.$initial_current_url=r;var n=yt(r);s.$initial_host=null==n?void 0:n.host,s.$initial_pathname=null==n?void 0:n.pathname,y(this._campaignParamsFromUrl(r),(function(e,t){s[\"$initial_\"+M(t)]=e}))}i&&y(this._searchInfoFromReferrer(i),(function(e,t){s[\"$initial_\"+M(t)]=e}));return s},timezone:function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return}},timezoneOffset:function(){try{return(new Date).getTimezoneOffset()}catch(e){return}},properties:function(){var{maskPersonalDataProperties:e,customPersonalDataProperties:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!h)return{};var r=e?S([],wi,i||[]):[],[s,n]=Ei.os(h);return w(I({$os:s,$os_version:n,$browser:Ei.browser(h,navigator.vendor),$device:Ei.device(h),$device_type:Ei.deviceType(h),$timezone:Ei.timezone(),$timezone_offset:Ei.timezoneOffset()}),{$current_url:kt(null==l?void 0:l.href,r,ki),$host:null==l?void 0:l.host,$pathname:null==l?void 0:l.pathname,$raw_user_agent:h.length>1e3?h.substring(0,997)+\"...\":h,$browser_version:Ei.browserVersion(h,navigator.vendor),$browser_language:Ei.browserLanguage(),$browser_language_prefix:Ei.browserLanguagePrefix(),$screen_height:null==t?void 0:t.screen.height,$screen_width:null==t?void 0:t.screen.width,$viewport_height:null==t?void 0:t.innerHeight,$viewport_width:null==t?void 0:t.innerWidth,$lib:\"web\",$lib_version:p.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})},people_properties:function(){if(!h)return{};var[e,t]=Ei.os(h);return w(I({$os:e,$os_version:t,$browser:Ei.browser(h,navigator.vendor)}),{$browser_version:Ei.browserVersion(h,navigator.vendor)})}},xi=[\"cookie\",\"localstorage\",\"localstorage+cookie\",\"sessionstorage\",\"memory\"];class Ii{constructor(e){this.config=e,this.props={},this.campaign_params_saved=!1,this.name=(e=>{var t=\"\";return e.token&&(t=e.token.replace(/\\+/g,\"PL\").replace(/\\//g,\"SL\").replace(/=/g,\"EQ\")),e.persistence_name?\"ph_\"+e.persistence_name:\"ph_\"+t+\"_posthog\"})(e),this.storage=this.buildStorage(e),this.load(),e.debug&&ee.info(\"Persistence loaded\",e.persistence,ne({},this.props)),this.update_config(e,e),this.save()}buildStorage(e){-1===xi.indexOf(e.persistence.toLowerCase())&&(ee.critical(\"Unknown persistence type \"+e.persistence+\"; falling back to localStorage+cookie\"),e.persistence=\"localStorage+cookie\");var t=e.persistence.toLowerCase();return\"localstorage\"===t&&ht.is_supported()?ht:\"localstorage+cookie\"===t&&pt.is_supported()?pt:\"sessionstorage\"===t&&mt.is_supported()?mt:\"memory\"===t?gt:\"cookie\"===t?ct:pt.is_supported()?pt:ct}properties(){var e={};return y(this.props,(function(t,i){if(i===Pe&&U(t))for(var r=Object.keys(t),s=0;s<r.length;s++)e[\"$feature/\".concat(r[s])]=t[r[s]];else a=i,l=!1,(G(o=ze)?l:n&&o.indexOf===n?-1!=o.indexOf(a):(y(o,(function(e){if(l||(l=e===a))return m})),l))||(e[i]=t);var o,a,l})),e}load(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=w({},e))}}save(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure,this.config.debug)}remove(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}clear(){this.remove(),this.props={}}register_once(e,t,i){if(U(e)){z(t)&&(t=\"None\"),this.expire_days=z(i)?this.default_expiry:i;var r=!1;if(y(e,((e,i)=>{this.props.hasOwnProperty(i)&&this.props[i]!==t||(this.props[i]=e,r=!0)})),r)return this.save(),!0}return!1}register(e,t){if(U(e)){this.expire_days=z(t)?this.default_expiry:t;var i=!1;if(y(e,((t,r)=>{e.hasOwnProperty(r)&&this.props[r]!==t&&(this.props[r]=t,i=!0)})),i)return this.save(),!0}return!1}unregister(e){e in this.props&&(delete this.props[e],this.save())}update_campaign_params(){if(!this.campaign_params_saved){var e=Ei.campaignParams({customTrackedParams:this.config.custom_campaign_params,maskPersonalDataProperties:this.config.mask_personal_data_properties,customPersonalDataProperties:this.config.custom_personal_data_properties});j(I(e))||this.register(e),this.campaign_params_saved=!0}}update_search_keyword(){this.register(Ei.searchInfo())}update_referrer_info(){this.register_once(Ei.referrerInfo(),void 0)}set_initial_person_info(){this.props[Ne]||this.props[qe]||this.register_once({[Be]:Ei.initialPersonInfo()},void 0)}get_referrer_info(){return I({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}get_initial_props(){var e={};y([qe,Ne],(t=>{var i=this.props[t];i&&y(i,(function(t,i){e[\"$initial_\"+M(i)]=t}))}));var t=this.props[Be];if(t){var i=Ei.initialPersonPropsFromInfo(t);w(e,i)}return e}safe_merge(e){return y(this.props,(function(t,i){i in e||(e[i]=t)})),e}update_config(e,t){if(this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==t.persistence){var i=this.buildStorage(e),r=this.props;this.clear(),this.storage=i,this.props=r,this.save()}}set_disabled(e){this.disabled=e,this.disabled?this.remove():this.save()}set_cross_subdomain(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())}get_cross_subdomain(){return!!this.cross_subdomain}set_secure(e){e!==this.secure&&(this.secure=e,this.remove(),this.save())}set_event_timer(e,t){var i=this.props[ce]||{};i[e]=t,this.props[ce]=i,this.save()}remove_event_timer(e){var t=(this.props[ce]||{})[e];return z(t)||(delete this.props[ce][e],this.save()),t}get_property(e){return this.props[e]}set_property(e,t){this.props[e]=t,this.save()}}function Ci(e){var t,i;return(null===(t=JSON.stringify(e,(i=[],function(e,t){if(U(t)){for(;i.length>0&&i[i.length-1]!==this;)i.pop();return i.includes(t)?\"[Circular]\":(i.push(t),t)}return t})))||void 0===t?void 0:t.length)||0}function Pi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6606028.8;if(e.size>=t&&e.data.length>1){var i=Math.floor(e.data.length/2),r=e.data.slice(0,i),s=e.data.slice(i);return[Pi({size:Ci(r),data:r,sessionId:e.sessionId,windowId:e.windowId}),Pi({size:Ci(s),data:s,sessionId:e.sessionId,windowId:e.windowId})].flatMap((e=>e))}return[e]}var Fi=(e=>(e[e.DomContentLoaded=0]=\"DomContentLoaded\",e[e.Load=1]=\"Load\",e[e.FullSnapshot=2]=\"FullSnapshot\",e[e.IncrementalSnapshot=3]=\"IncrementalSnapshot\",e[e.Meta=4]=\"Meta\",e[e.Custom=5]=\"Custom\",e[e.Plugin=6]=\"Plugin\",e))(Fi||{}),Ti=(e=>(e[e.Mutation=0]=\"Mutation\",e[e.MouseMove=1]=\"MouseMove\",e[e.MouseInteraction=2]=\"MouseInteraction\",e[e.Scroll=3]=\"Scroll\",e[e.ViewportResize=4]=\"ViewportResize\",e[e.Input=5]=\"Input\",e[e.TouchMove=6]=\"TouchMove\",e[e.MediaInteraction=7]=\"MediaInteraction\",e[e.StyleSheetRule=8]=\"StyleSheetRule\",e[e.CanvasMutation=9]=\"CanvasMutation\",e[e.Font=10]=\"Font\",e[e.Log=11]=\"Log\",e[e.Drag=12]=\"Drag\",e[e.StyleDeclaration=13]=\"StyleDeclaration\",e[e.Selection=14]=\"Selection\",e[e.AdoptedStyleSheet=15]=\"AdoptedStyleSheet\",e[e.CustomElement=16]=\"CustomElement\",e))(Ti||{});function Ri(e){var t;return e instanceof Element&&(e.id===Ue||!(null===(t=e.closest)||void 0===t||!t.call(e,\".toolbar-global-fade-container\")))}function $i(e){return!!e&&1===e.nodeType}function Oi(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function Mi(e){return!!e&&3===e.nodeType}function Ai(e){return!!e&&11===e.nodeType}function Li(e){return e?O(e).split(/\\s+/):[]}function Di(e){var i=null==t?void 0:t.location.href;return!!(i&&e&&e.some((e=>i.match(e))))}function Ni(e){var t=\"\";switch(typeof e.className){case\"string\":t=e.className;break;case\"object\":t=(e.className&&\"baseVal\"in e.className?e.className.baseVal:null)||e.getAttribute(\"class\")||\"\";break;default:t=\"\"}return Li(t)}function qi(e){return J(e)?null:O(e).split(/(\\s+)/).filter((e=>Zi(e))).join(\"\").replace(/[\\r\\n]/g,\" \").replace(/[ ]+/g,\" \").substring(0,255)}function Bi(e){var t=\"\";return Wi(e)&&!Vi(e)&&e.childNodes&&e.childNodes.length&&y(e.childNodes,(function(e){var i;Mi(e)&&e.textContent&&(t+=null!==(i=qi(e.textContent))&&void 0!==i?i:\"\")})),O(t)}function Hi(e){return z(e.target)?e.srcElement||null:null!==(t=e.target)&&void 0!==t&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}var Ui=[\"a\",\"button\",\"form\",\"input\",\"select\",\"textarea\",\"label\"];function ji(e){var t=e.parentNode;return!(!t||!$i(t))&&t}function zi(e,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0;if(!t||!e||Oi(e,\"html\")||!$i(e))return!1;if(null!=r&&r.url_allowlist&&!Di(r.url_allowlist))return!1;if(null!=r&&r.url_ignorelist&&Di(r.url_ignorelist))return!1;if(null!=r&&r.dom_event_allowlist){var o=r.dom_event_allowlist;if(o&&!o.some((e=>i.type===e)))return!1}for(var a=!1,l=[e],u=!0,c=e;c.parentNode&&!Oi(c,\"body\");)if(Ai(c.parentNode))l.push(c.parentNode.host),c=c.parentNode.host;else{if(!(u=ji(c)))break;if(s||Ui.indexOf(u.tagName.toLowerCase())>-1)a=!0;else{var d=t.getComputedStyle(u);d&&\"pointer\"===d.getPropertyValue(\"cursor\")&&(a=!0)}l.push(u),c=u}if(!function(e,t){var i=null==t?void 0:t.element_allowlist;if(z(i))return!0;var r=function(e){if(i.some((t=>e.tagName.toLowerCase()===t)))return{v:!0}};for(var s of e){var n=r(s);if(\"object\"==typeof n)return n.v}return!1}(l,r))return!1;if(!function(e,t){var i=null==t?void 0:t.css_selector_allowlist;if(z(i))return!0;var r=function(e){if(i.some((t=>e.matches(t))))return{v:!0}};for(var s of e){var n=r(s);if(\"object\"==typeof n)return n.v}return!1}(l,r))return!1;var h=t.getComputedStyle(e);if(h&&\"pointer\"===h.getPropertyValue(\"cursor\")&&\"click\"===i.type)return!0;var _=e.tagName.toLowerCase();switch(_){case\"html\":return!1;case\"form\":return(n||[\"submit\"]).indexOf(i.type)>=0;case\"input\":case\"select\":case\"textarea\":return(n||[\"change\",\"click\"]).indexOf(i.type)>=0;default:return a?(n||[\"click\"]).indexOf(i.type)>=0:(n||[\"click\"]).indexOf(i.type)>=0&&(Ui.indexOf(_)>-1||\"true\"===e.getAttribute(\"contenteditable\"))}}function Wi(e){for(var t=e;t.parentNode&&!Oi(t,\"body\");t=t.parentNode){var i=Ni(t);if($(i,\"ph-sensitive\")||$(i,\"ph-no-capture\"))return!1}if($(Ni(e),\"ph-include\"))return!0;var r=e.type||\"\";if(W(r))switch(r.toLowerCase()){case\"hidden\":case\"password\":return!1}var s=e.name||e.id||\"\";if(W(s)){if(/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(s.replace(/[^a-zA-Z0-9]/g,\"\")))return!1}return!0}function Vi(e){return!!(Oi(e,\"input\")&&![\"button\",\"checkbox\",\"submit\",\"reset\"].includes(e.type)||Oi(e,\"select\")||Oi(e,\"textarea\")||\"true\"===e.getAttribute(\"contenteditable\"))}var Gi=\"(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})\",Ji=new RegExp(\"^(?:\".concat(Gi,\")$\")),Yi=new RegExp(Gi),Ki=\"\\\\d{3}-?\\\\d{2}-?\\\\d{4}\",Xi=new RegExp(\"^(\".concat(Ki,\")$\")),Qi=new RegExp(\"(\".concat(Ki,\")\"));function Zi(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(J(e))return!1;if(W(e)){if(e=O(e),(t?Ji:Yi).test((e||\"\").replace(/[- ]/g,\"\")))return!1;if((t?Xi:Qi).test(e))return!1}return!0}function er(e){var t=Bi(e);return Zi(t=\"\".concat(t,\" \").concat(tr(e)).trim())?t:\"\"}function tr(e){var t=\"\";return e&&e.childNodes&&e.childNodes.length&&y(e.childNodes,(function(e){var i;if(e&&\"span\"===(null===(i=e.tagName)||void 0===i?void 0:i.toLowerCase()))try{var r=Bi(e);t=\"\".concat(t,\" \").concat(r).trim(),e.childNodes&&e.childNodes.length&&(t=\"\".concat(t,\" \").concat(tr(e)).trim())}catch(e){ee.error(\"[AutoCapture]\",e)}})),t}function ir(e){return function(e){var t=e.map((e=>{var t,i,r=\"\";if(e.tag_name&&(r+=e.tag_name),e.attr_class)for(var s of(e.attr_class.sort(),e.attr_class))r+=\".\".concat(s.replace(/\"/g,\"\"));var n=ne(ne(ne(ne({},e.text?{text:e.text}:{}),{},{\"nth-child\":null!==(t=e.nth_child)&&void 0!==t?t:0,\"nth-of-type\":null!==(i=e.nth_of_type)&&void 0!==i?i:0},e.href?{href:e.href}:{}),e.attr_id?{attr_id:e.attr_id}:{}),e.attributes),o={};return k(n).sort(((e,t)=>{var[i]=e,[r]=t;return i.localeCompare(r)})).forEach((e=>{var[t,i]=e;return o[rr(t.toString())]=rr(i.toString())})),r+=\":\",r+=k(n).map((e=>{var[t,i]=e;return\"\".concat(t,'=\"').concat(i,'\"')})).join(\"\")}));return t.join(\";\")}(function(e){return e.map((e=>{var t,i,r={text:null===(t=e.$el_text)||void 0===t?void 0:t.slice(0,400),tag_name:e.tag_name,href:null===(i=e.attr__href)||void 0===i?void 0:i.slice(0,2048),attr_class:sr(e),attr_id:e.attr__id,nth_child:e.nth_child,nth_of_type:e.nth_of_type,attributes:{}};return k(e).filter((e=>{var[t]=e;return 0===t.indexOf(\"attr__\")})).forEach((e=>{var[t,i]=e;return r.attributes[t]=i})),r}))}(e))}function rr(e){return e.replace(/\"|\\\\\"/g,'\\\\\"')}function sr(e){var t=e.attr__class;return t?B(t)?t:Li(t):void 0}var nr=\"[SessionRecording]\",or=\"redacted\",ar={initiatorTypes:[\"audio\",\"beacon\",\"body\",\"css\",\"early-hint\",\"embed\",\"fetch\",\"frame\",\"iframe\",\"icon\",\"image\",\"img\",\"input\",\"link\",\"navigation\",\"object\",\"ping\",\"script\",\"track\",\"video\",\"xmlhttprequest\"],maskRequestFn:e=>e,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:[\"first-input\",\"navigation\",\"paint\",\"resource\"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[\".lr-ingest.io\",\".ingest.sentry.io\",\".clarity.ms\",\"analytics.google.com\"]},lr=[\"authorization\",\"x-forwarded-for\",\"authorization\",\"cookie\",\"set-cookie\",\"x-api-key\",\"x-real-ip\",\"remote-addr\",\"forwarded\",\"proxy-authorization\",\"x-csrf-token\",\"x-csrftoken\",\"x-xsrf-token\"],ur=[\"password\",\"secret\",\"passwd\",\"api_key\",\"apikey\",\"auth\",\"credentials\",\"mysql_pwd\",\"privatekey\",\"private_key\",\"token\"],cr=[\"/s/\",\"/e/\",\"/i/\"];function dr(e,t,i,r){if(J(e))return e;var s=(null==t?void 0:t[\"content-length\"])||function(e){return new Blob([e]).size}(e);return W(s)&&(s=parseInt(s)),s>i?nr+\" \".concat(r,\" body too large to record (\").concat(s,\" bytes)\"):e}function hr(e,t){if(J(e))return e;var i=e;return Zi(i,!1)||(i=nr+\" \"+t+\" body \"+or),y(ur,(e=>{var r,s;null!==(r=i)&&void 0!==r&&r.length&&-1!==(null===(s=i)||void 0===s?void 0:s.indexOf(e))&&(i=nr+\" \"+t+\" body \"+or+\" as might contain: \"+e)})),i}var _r=(e,t)=>{var i,r,s,n={payloadSizeLimitBytes:ar.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...ar.performanceEntryTypeToObserve],payloadHostDenyList:[...t.payloadHostDenyList||[],...ar.payloadHostDenyList]},o=!1!==e.session_recording.recordHeaders&&t.recordHeaders,a=!1!==e.session_recording.recordBody&&t.recordBody,l=!1!==e.capture_performance&&t.recordPerformance,u=(i=n,s=Math.min(1e6,null!==(r=i.payloadSizeLimitBytes)&&void 0!==r?r:1e6),e=>(null!=e&&e.requestBody&&(e.requestBody=dr(e.requestBody,e.requestHeaders,s,\"Request\")),null!=e&&e.responseBody&&(e.responseBody=dr(e.responseBody,e.responseHeaders,s,\"Response\")),e)),c=t=>{return u(((e,t)=>{var i,r=yt(e.name),s=0===t.indexOf(\"http\")?null===(i=yt(t))||void 0===i?void 0:i.pathname:t;\"/\"===s&&(s=\"\");var n=null==r?void 0:r.pathname.replace(s||\"\",\"\");if(!(r&&n&&cr.some((e=>0===n.indexOf(e)))))return e})((r=(i=t).requestHeaders,J(r)||y(Object.keys(null!=r?r:{}),(e=>{lr.includes(e.toLowerCase())&&(r[e]=or)})),i),e.api_host));var i,r},d=H(e.session_recording.maskNetworkRequestFn);return d&&H(e.session_recording.maskCapturedNetworkRequestFn)&&ee.warn(\"Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored.\"),d&&(e.session_recording.maskCapturedNetworkRequestFn=t=>{var i=e.session_recording.maskNetworkRequestFn({url:t.name});return ne(ne({},t),{},{name:null==i?void 0:i.url})}),n.maskRequestFn=H(e.session_recording.maskCapturedNetworkRequestFn)?t=>{var i,r,s,n=c(t);return n&&null!==(i=null===(r=(s=e.session_recording).maskCapturedNetworkRequestFn)||void 0===r?void 0:r.call(s,n))&&void 0!==i?i:void 0}:e=>function(e){if(!z(e))return e.requestBody=hr(e.requestBody,\"Request\"),e.responseBody=hr(e.responseBody,\"Response\"),e}(c(e)),ne(ne(ne({},ar),n),{},{recordHeaders:o,recordBody:a,recordPerformance:l,recordInitialRequests:l})};function pr(e,t,i,r,s){return t>i&&(ee.warn(\"min cannot be greater than max.\"),t=i),Y(e)?e>i?(r&&ee.warn(r+\" cannot be  greater than max: \"+i+\". Using max value instead.\"),i):e<t?(r&&ee.warn(r+\" cannot be less than min: \"+t+\". Using min value instead.\"),t):e:(r&&ee.warn(r+\" must be a number. using max or fallback. max: \"+i+\", fallback: \"+s),pr(s||i,t,i,r))}class vr{constructor(e){var t,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};oe(this,\"bucketSize\",100),oe(this,\"refillRate\",10),oe(this,\"mutationBuckets\",{}),oe(this,\"loggedTracker\",{}),oe(this,\"refillBuckets\",(()=>{Object.keys(this.mutationBuckets).forEach((e=>{this.mutationBuckets[e]=this.mutationBuckets[e]+this.refillRate,this.mutationBuckets[e]>=this.bucketSize&&delete this.mutationBuckets[e]}))})),oe(this,\"getNodeOrRelevantParent\",(e=>{var t=this.rrweb.mirror.getNode(e);if(\"svg\"!==(null==t?void 0:t.nodeName)&&t instanceof Element){var i=t.closest(\"svg\");if(i)return[this.rrweb.mirror.getId(i),i]}return[e,t]})),oe(this,\"numberOfChanges\",(e=>{var t,i,r,s,n,o,a,l;return(null!==(t=null===(i=e.removes)||void 0===i?void 0:i.length)&&void 0!==t?t:0)+(null!==(r=null===(s=e.attributes)||void 0===s?void 0:s.length)&&void 0!==r?r:0)+(null!==(n=null===(o=e.texts)||void 0===o?void 0:o.length)&&void 0!==n?n:0)+(null!==(a=null===(l=e.adds)||void 0===l?void 0:l.length)&&void 0!==a?a:0)})),oe(this,\"throttleMutations\",(e=>{if(3!==e.type||0!==e.data.source)return e;var t=e.data,i=this.numberOfChanges(t);t.attributes&&(t.attributes=t.attributes.filter((e=>{var t,i,r,[s,n]=this.getNodeOrRelevantParent(e.id);if(0===this.mutationBuckets[s])return!1;(this.mutationBuckets[s]=null!==(t=this.mutationBuckets[s])&&void 0!==t?t:this.bucketSize,this.mutationBuckets[s]=Math.max(this.mutationBuckets[s]-1,0),0===this.mutationBuckets[s])&&(this.loggedTracker[s]||(this.loggedTracker[s]=!0,null===(i=(r=this.options).onBlockedNode)||void 0===i||i.call(r,s,n)));return e})));var r=this.numberOfChanges(t);return 0!==r||i===r?e:void 0})),this.rrweb=e,this.options=r,this.refillRate=pr(null!==(t=this.options.refillRate)&&void 0!==t?t:this.refillRate,0,100,\"mutation throttling refill rate\"),this.bucketSize=pr(null!==(i=this.options.bucketSize)&&void 0!==i?i:this.bucketSize,0,100,\"mutation throttling bucket size\"),setInterval((()=>{this.refillBuckets()}),1e3)}}var gr=Uint8Array,fr=Uint16Array,mr=Uint32Array,br=new gr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),yr=new gr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),wr=new gr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Sr=function(e,t){for(var i=new fr(31),r=0;r<31;++r)i[r]=t+=1<<e[r-1];var s=new mr(i[30]);for(r=1;r<30;++r)for(var n=i[r];n<i[r+1];++n)s[n]=n-i[r]<<5|r;return[i,s]},kr=Sr(br,2),Er=kr[0],xr=kr[1];Er[28]=258,xr[258]=28;for(var Ir=Sr(yr,0)[1],Cr=new fr(32768),Pr=0;Pr<32768;++Pr){var Fr=(43690&Pr)>>>1|(21845&Pr)<<1;Fr=(61680&(Fr=(52428&Fr)>>>2|(13107&Fr)<<2))>>>4|(3855&Fr)<<4,Cr[Pr]=((65280&Fr)>>>8|(255&Fr)<<8)>>>1}var Tr=function(e,t,i){for(var r=e.length,s=0,n=new fr(t);s<r;++s)++n[e[s]-1];var o,a=new fr(t);for(s=0;s<t;++s)a[s]=a[s-1]+n[s-1]<<1;if(i){o=new fr(1<<t);var l=15-t;for(s=0;s<r;++s)if(e[s])for(var u=s<<4|e[s],c=t-e[s],d=a[e[s]-1]++<<c,h=d|(1<<c)-1;d<=h;++d)o[Cr[d]>>>l]=u}else for(o=new fr(r),s=0;s<r;++s)o[s]=Cr[a[e[s]-1]++]>>>15-e[s];return o},Rr=new gr(288);for(Pr=0;Pr<144;++Pr)Rr[Pr]=8;for(Pr=144;Pr<256;++Pr)Rr[Pr]=9;for(Pr=256;Pr<280;++Pr)Rr[Pr]=7;for(Pr=280;Pr<288;++Pr)Rr[Pr]=8;var $r=new gr(32);for(Pr=0;Pr<32;++Pr)$r[Pr]=5;var Or=Tr(Rr,9,0),Mr=Tr($r,5,0),Ar=function(e){return(e/8>>0)+(7&e&&1)},Lr=function(e,t,i){(null==i||i>e.length)&&(i=e.length);var r=new(e instanceof fr?fr:e instanceof mr?mr:gr)(i-t);return r.set(e.subarray(t,i)),r},Dr=function(e,t,i){i<<=7&t;var r=t/8>>0;e[r]|=i,e[r+1]|=i>>>8},Nr=function(e,t,i){i<<=7&t;var r=t/8>>0;e[r]|=i,e[r+1]|=i>>>8,e[r+2]|=i>>>16},qr=function(e,t){for(var i=[],r=0;r<e.length;++r)e[r]&&i.push({s:r,f:e[r]});var s=i.length,n=i.slice();if(!s)return[new gr(0),0];if(1==s){var o=new gr(i[0].s+1);return o[i[0].s]=1,[o,1]}i.sort((function(e,t){return e.f-t.f})),i.push({s:-1,f:25001});var a=i[0],l=i[1],u=0,c=1,d=2;for(i[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=s-1;)a=i[i[u].f<i[d].f?u++:d++],l=i[u!=c&&i[u].f<i[d].f?u++:d++],i[c++]={s:-1,f:a.f+l.f,l:a,r:l};var h=n[0].s;for(r=1;r<s;++r)n[r].s>h&&(h=n[r].s);var _=new fr(h+1),p=Br(i[c-1],_,0);if(p>t){r=0;var v=0,g=p-t,f=1<<g;for(n.sort((function(e,t){return _[t.s]-_[e.s]||e.f-t.f}));r<s;++r){var m=n[r].s;if(!(_[m]>t))break;v+=f-(1<<p-_[m]),_[m]=t}for(v>>>=g;v>0;){var b=n[r].s;_[b]<t?v-=1<<t-_[b]++-1:++r}for(;r>=0&&v;--r){var y=n[r].s;_[y]==t&&(--_[y],++v)}p=t}return[new gr(_),p]},Br=function(e,t,i){return-1==e.s?Math.max(Br(e.l,t,i+1),Br(e.r,t,i+1)):t[e.s]=i},Hr=function(e){for(var t=e.length;t&&!e[--t];);for(var i=new fr(++t),r=0,s=e[0],n=1,o=function(e){i[r++]=e},a=1;a<=t;++a)if(e[a]==s&&a!=t)++n;else{if(!s&&n>2){for(;n>138;n-=138)o(32754);n>2&&(o(n>10?n-11<<5|28690:n-3<<5|12305),n=0)}else if(n>3){for(o(s),--n;n>6;n-=6)o(8304);n>2&&(o(n-3<<5|8208),n=0)}for(;n--;)o(s);n=1,s=e[a]}return[i.subarray(0,r),t]},Ur=function(e,t){for(var i=0,r=0;r<t.length;++r)i+=e[r]*t[r];return i},jr=function(e,t,i){var r=i.length,s=Ar(t+2);e[s]=255&r,e[s+1]=r>>>8,e[s+2]=255^e[s],e[s+3]=255^e[s+1];for(var n=0;n<r;++n)e[s+n+4]=i[n];return 8*(s+4+r)},zr=function(e,t,i,r,s,n,o,a,l,u,c){Dr(t,c++,i),++s[256];for(var d=qr(s,15),h=d[0],_=d[1],p=qr(n,15),v=p[0],g=p[1],f=Hr(h),m=f[0],b=f[1],y=Hr(v),w=y[0],S=y[1],k=new fr(19),E=0;E<m.length;++E)k[31&m[E]]++;for(E=0;E<w.length;++E)k[31&w[E]]++;for(var x=qr(k,7),I=x[0],C=x[1],P=19;P>4&&!I[wr[P-1]];--P);var F,T,R,$,O=u+5<<3,M=Ur(s,Rr)+Ur(n,$r)+o,A=Ur(s,h)+Ur(n,v)+o+14+3*P+Ur(k,I)+(2*k[16]+3*k[17]+7*k[18]);if(O<=M&&O<=A)return jr(t,c,e.subarray(l,l+u));if(Dr(t,c,1+(A<M)),c+=2,A<M){F=Tr(h,_,0),T=h,R=Tr(v,g,0),$=v;var L=Tr(I,C,0);Dr(t,c,b-257),Dr(t,c+5,S-1),Dr(t,c+10,P-4),c+=14;for(E=0;E<P;++E)Dr(t,c+3*E,I[wr[E]]);c+=3*P;for(var D=[m,w],N=0;N<2;++N){var q=D[N];for(E=0;E<q.length;++E){var B=31&q[E];Dr(t,c,L[B]),c+=I[B],B>15&&(Dr(t,c,q[E]>>>5&127),c+=q[E]>>>12)}}}else F=Or,T=Rr,R=Mr,$=$r;for(E=0;E<a;++E)if(r[E]>255){B=r[E]>>>18&31;Nr(t,c,F[B+257]),c+=T[B+257],B>7&&(Dr(t,c,r[E]>>>23&31),c+=br[B]);var H=31&r[E];Nr(t,c,R[H]),c+=$[H],H>3&&(Nr(t,c,r[E]>>>5&8191),c+=yr[H])}else Nr(t,c,F[r[E]]),c+=T[r[E]];return Nr(t,c,F[256]),c+T[256]},Wr=new mr([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Vr=function(){for(var e=new mr(256),t=0;t<256;++t){for(var i=t,r=9;--r;)i=(1&i&&3988292384)^i>>>1;e[t]=i}return e}(),Gr=function(){var e=4294967295;return{p:function(t){for(var i=e,r=0;r<t.length;++r)i=Vr[255&i^t[r]]^i>>>8;e=i},d:function(){return 4294967295^e}}},Jr=function(e,t,i,r,s){return function(e,t,i,r,s,n){var o=e.length,a=new gr(r+o+5*(1+Math.floor(o/7e3))+s),l=a.subarray(r,a.length-s),u=0;if(!t||o<8)for(var c=0;c<=o;c+=65535){var d=c+65535;d<o?u=jr(l,u,e.subarray(c,d)):(l[c]=n,u=jr(l,u,e.subarray(c,o)))}else{for(var h=Wr[t-1],_=h>>>13,p=8191&h,v=(1<<i)-1,g=new fr(32768),f=new fr(v+1),m=Math.ceil(i/3),b=2*m,y=function(t){return(e[t]^e[t+1]<<m^e[t+2]<<b)&v},w=new mr(25e3),S=new fr(288),k=new fr(32),E=0,x=0,I=(c=0,0),C=0,P=0;c<o;++c){var F=y(c),T=32767&c,R=f[F];if(g[T]=R,f[F]=T,C<=c){var $=o-c;if((E>7e3||I>24576)&&$>423){u=zr(e,l,0,w,S,k,x,I,P,c-P,u),I=E=x=0,P=c;for(var O=0;O<286;++O)S[O]=0;for(O=0;O<30;++O)k[O]=0}var M=2,A=0,L=p,D=T-R&32767;if($>2&&F==y(c-D))for(var N=Math.min(_,$)-1,q=Math.min(32767,c),B=Math.min(258,$);D<=q&&--L&&T!=R;){if(e[c+M]==e[c+M-D]){for(var H=0;H<B&&e[c+H]==e[c+H-D];++H);if(H>M){if(M=H,A=D,H>N)break;var U=Math.min(D,H-2),j=0;for(O=0;O<U;++O){var z=c-D+O+32768&32767,W=z-g[z]+32768&32767;W>j&&(j=W,R=z)}}}D+=(T=R)-(R=g[T])+32768&32767}if(A){w[I++]=268435456|xr[M]<<18|Ir[A];var V=31&xr[M],G=31&Ir[A];x+=br[V]+yr[G],++S[257+V],++k[G],C=c+M,++E}else w[I++]=e[c],++S[e[c]]}}u=zr(e,l,n,w,S,k,x,I,P,c-P,u)}return Lr(a,0,r+Ar(u)+s)}(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,i,r,!s)},Yr=function(e,t,i){for(;i;++t)e[t]=i,i>>>=8},Kr=function(e,t){var i=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&Yr(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),i){e[3]=8;for(var r=0;r<=i.length;++r)e[r+10]=i.charCodeAt(r)}},Xr=function(e){return 10+(e.filename&&e.filename.length+1||0)};function Qr(e,t){void 0===t&&(t={});var i=Gr(),r=e.length;i.p(e);var s=Jr(e,t,Xr(t),8),n=s.length;return Kr(s,t),Yr(s,n-8,i.d()),Yr(s,n-4,r),s}function Zr(e,t){var i=e.length;if(\"undefined\"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var r=new gr(e.length+(e.length>>>1)),s=0,n=function(e){r[s++]=e},o=0;o<i;++o){if(s+5>r.length){var a=new gr(s+8+(i-o<<1));a.set(r),r=a}var l=e.charCodeAt(o);l<128||t?n(l):l<2048?(n(192|l>>>6),n(128|63&l)):l>55295&&l<57344?(n(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++o))>>>18),n(128|l>>>12&63),n(128|l>>>6&63),n(128|63&l)):(n(224|l>>>12),n(128|l>>>6&63),n(128|63&l))}return Lr(r,0,s)}function es(e,t){return function(e){for(var t=0,i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return Math.abs(t)}(e)%100<pr(100*t,0,100)}var ts=\"[SessionRecording]\",is=te(ts),rs=3e5,ss=[Ti.MouseMove,Ti.MouseInteraction,Ti.Scroll,Ti.ViewportResize,Ti.Input,Ti.TouchMove,Ti.MediaInteraction,Ti.Drag],ns=e=>({rrwebMethod:e,enqueuedAt:Date.now(),attempt:1});function os(e){return function(e,t){for(var i=\"\",r=0;r<e.length;){var s=e[r++];s<128||t?i+=String.fromCharCode(s):s<224?i+=String.fromCharCode((31&s)<<6|63&e[r++]):s<240?i+=String.fromCharCode((15&s)<<12|(63&e[r++])<<6|63&e[r++]):(s=((15&s)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536,i+=String.fromCharCode(55296|s>>10,56320|1023&s))}return i}(Qr(Zr(JSON.stringify(e))),!0)}function as(e){return e.type===Fi.Custom&&\"sessionIdle\"===e.data.tag}function ls(e,t){return t.some((t=>\"regex\"===t.matching&&new RegExp(t.url).test(e)))}class us{get sessionIdleThresholdMilliseconds(){return this.instance.config.session_recording.session_idle_threshold_ms||3e5}get rrwebRecord(){var e,t;return null==_||null===(e=_.__PosthogExtensions__)||void 0===e||null===(t=e.rrweb)||void 0===t?void 0:t.record}get started(){return this._captureStarted}get sessionManager(){if(!this.instance.sessionManager)throw new Error(ts+\" must be started with a valid sessionManager.\");return this.instance.sessionManager}get fullSnapshotIntervalMillis(){var e,t;return\"trigger_pending\"===this.triggerStatus?6e4:null!==(e=null===(t=this.instance.config.session_recording)||void 0===t?void 0:t.full_snapshot_interval_millis)&&void 0!==e?e:rs}get isSampled(){var e=this.instance.get_property(xe);return K(e)?e:null}get sessionDuration(){var e,t,i=null===(e=this.buffer)||void 0===e?void 0:e.data[(null===(t=this.buffer)||void 0===t?void 0:t.data.length)-1],{sessionStartTimestamp:r}=this.sessionManager.checkAndGetSessionAndWindowId(!0);return i?i.timestamp-r:null}get isRecordingEnabled(){var e=!!this.instance.get_property(fe),i=!this.instance.config.disable_session_recording;return t&&e&&i}get isConsoleLogCaptureEnabled(){var e=!!this.instance.get_property(me),t=this.instance.config.enable_recording_console_log;return null!=t?t:e}get canvasRecording(){var e,t,i,r,s,n,o=this.instance.config.session_recording.captureCanvas,a=this.instance.get_property(ye),l=null!==(e=null!==(t=null==o?void 0:o.recordCanvas)&&void 0!==t?t:null==a?void 0:a.enabled)&&void 0!==e&&e,u=null!==(i=null!==(r=null==o?void 0:o.canvasFps)&&void 0!==r?r:null==a?void 0:a.fps)&&void 0!==i?i:0,c=null!==(s=null!==(n=null==o?void 0:o.canvasQuality)&&void 0!==n?n:null==a?void 0:a.quality)&&void 0!==s?s:0;return{enabled:l,fps:pr(u,0,12,\"canvas recording fps\"),quality:pr(c,0,1,\"canvas recording quality\")}}get networkPayloadCapture(){var e,t,i=this.instance.get_property(be),r={recordHeaders:null===(e=this.instance.config.session_recording)||void 0===e?void 0:e.recordHeaders,recordBody:null===(t=this.instance.config.session_recording)||void 0===t?void 0:t.recordBody},s=(null==r?void 0:r.recordHeaders)||(null==i?void 0:i.recordHeaders),n=(null==r?void 0:r.recordBody)||(null==i?void 0:i.recordBody),o=U(this.instance.config.capture_performance)?this.instance.config.capture_performance.network_timing:this.instance.config.capture_performance,a=!!(K(o)?o:null==i?void 0:i.capturePerformance);return s||n||a?{recordHeaders:s,recordBody:n,recordPerformance:a}:void 0}get sampleRate(){var e=this.instance.get_property(we);return Y(e)?e:null}get minimumDuration(){var e=this.instance.get_property(Se);return Y(e)?e:null}get status(){return this.receivedDecide?this.isRecordingEnabled?!1===this.isSampled?\"disabled\":this._urlBlocked?\"paused\":J(this._linkedFlag)||this._linkedFlagSeen?\"trigger_pending\"===this.triggerStatus?\"buffering\":K(this.isSampled)?this.isSampled?\"sampled\":\"disabled\":\"active\":\"buffering\":\"disabled\":\"buffering\"}get urlTriggerStatus(){var e;return 0===this._urlTriggers.length?\"trigger_disabled\":(null===(e=this.instance)||void 0===e?void 0:e.get_property(Ie))===this.sessionId?\"trigger_activated\":\"trigger_pending\"}get eventTriggerStatus(){var e;return 0===this._eventTriggers.length?\"trigger_disabled\":(null===(e=this.instance)||void 0===e?void 0:e.get_property(Ce))===this.sessionId?\"trigger_activated\":\"trigger_pending\"}get triggerStatus(){var e=\"trigger_activated\"===this.eventTriggerStatus||\"trigger_activated\"===this.urlTriggerStatus,t=\"trigger_pending\"===this.eventTriggerStatus||\"trigger_pending\"===this.urlTriggerStatus;return e?\"trigger_activated\":t?\"trigger_pending\":\"trigger_disabled\"}constructor(e){if(oe(this,\"queuedRRWebEvents\",[]),oe(this,\"isIdle\",!1),oe(this,\"_linkedFlagSeen\",!1),oe(this,\"_lastActivityTimestamp\",Date.now()),oe(this,\"_linkedFlag\",null),oe(this,\"_removePageViewCaptureHook\",void 0),oe(this,\"_onSessionIdListener\",void 0),oe(this,\"_persistDecideOnSessionListener\",void 0),oe(this,\"_samplingSessionListener\",void 0),oe(this,\"_urlTriggers\",[]),oe(this,\"_urlBlocklist\",[]),oe(this,\"_urlBlocked\",!1),oe(this,\"_eventTriggers\",[]),oe(this,\"_removeEventTriggerCaptureHook\",void 0),oe(this,\"_forceAllowLocalhostNetworkCapture\",!1),oe(this,\"_onBeforeUnload\",(()=>{this._flushBuffer()})),oe(this,\"_onOffline\",(()=>{this._tryAddCustomEvent(\"browser offline\",{})})),oe(this,\"_onOnline\",(()=>{this._tryAddCustomEvent(\"browser online\",{})})),oe(this,\"_onVisibilityChange\",(()=>{if(null!=a&&a.visibilityState){var e=\"window \"+a.visibilityState;this._tryAddCustomEvent(e,{})}})),this.instance=e,this._captureStarted=!1,this._endpoint=\"/s/\",this.stopRrweb=void 0,this.receivedDecide=!1,!this.instance.sessionManager)throw is.error(\"started without valid sessionManager\"),new Error(ts+\" started without valid sessionManager. This is a bug.\");if(this.instance.config.__preview_experimental_cookieless_mode)throw new Error(ts+\" cannot be used with __preview_experimental_cookieless_mode.\");var{sessionId:t,windowId:i}=this.sessionManager.checkAndGetSessionAndWindowId();this.sessionId=t,this.windowId=i,this.buffer=this.clearBuffer(),this.sessionIdleThresholdMilliseconds>=this.sessionManager.sessionTimeoutMs&&is.warn(\"session_idle_threshold_ms (\".concat(this.sessionIdleThresholdMilliseconds,\") is greater than the session timeout (\").concat(this.sessionManager.sessionTimeoutMs,\"). Session will never be detected as idle\"))}startIfEnabledOrStop(e){this.isRecordingEnabled?(this._startCapture(e),R(t,\"beforeunload\",this._onBeforeUnload),R(t,\"offline\",this._onOffline),R(t,\"online\",this._onOnline),R(t,\"visibilitychange\",this._onVisibilityChange),this._setupSampling(),this._addEventTriggerListener(),J(this._removePageViewCaptureHook)&&(this._removePageViewCaptureHook=this.instance.on(\"eventCaptured\",(e=>{try{if(\"$pageview\"===e.event){var t=null!=e&&e.properties.$current_url?this._maskUrl(null==e?void 0:e.properties.$current_url):\"\";if(!t)return;this._tryAddCustomEvent(\"$pageview\",{href:t})}}catch(e){is.error(\"Could not add $pageview to rrweb session\",e)}}))),this._onSessionIdListener||(this._onSessionIdListener=this.sessionManager.onSessionId(((e,t,i)=>{var r,s,n,o;i&&(this._tryAddCustomEvent(\"$session_id_change\",{sessionId:e,windowId:t,changeReason:i}),null===(r=this.instance)||void 0===r||null===(s=r.persistence)||void 0===s||s.unregister(Ce),null===(n=this.instance)||void 0===n||null===(o=n.persistence)||void 0===o||o.unregister(Ie))})))):this.stopRecording()}stopRecording(){var e,i,r,s;this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,null==t||t.removeEventListener(\"beforeunload\",this._onBeforeUnload),null==t||t.removeEventListener(\"offline\",this._onOffline),null==t||t.removeEventListener(\"online\",this._onOnline),null==t||t.removeEventListener(\"visibilitychange\",this._onVisibilityChange),this.clearBuffer(),clearInterval(this._fullSnapshotTimer),null===(e=this._removePageViewCaptureHook)||void 0===e||e.call(this),this._removePageViewCaptureHook=void 0,null===(i=this._removeEventTriggerCaptureHook)||void 0===i||i.call(this),this._removeEventTriggerCaptureHook=void 0,null===(r=this._onSessionIdListener)||void 0===r||r.call(this),this._onSessionIdListener=void 0,null===(s=this._samplingSessionListener)||void 0===s||s.call(this),this._samplingSessionListener=void 0,is.info(\"stopped\"))}makeSamplingDecision(e){var t,i=this.sessionId!==e,r=this.sampleRate;if(Y(r)){var s=this.isSampled,n=i||!K(s),o=n?es(e,r):s;n&&(o?this._reportStarted(\"sampled\"):is.warn(\"Sample rate (\".concat(r,\") has determined that this sessionId (\").concat(e,\") will not be sent to the server.\")),this._tryAddCustomEvent(\"samplingDecisionMade\",{sampleRate:r,isSampled:o})),null===(t=this.instance.persistence)||void 0===t||t.register({[xe]:o})}else{var a;null===(a=this.instance.persistence)||void 0===a||a.register({[xe]:null})}}onRemoteConfig(e){var t,i,r,s,n,o;(this._tryAddCustomEvent(\"$remote_config_received\",e),this._persistRemoteConfig(e),this._linkedFlag=(null===(t=e.sessionRecording)||void 0===t?void 0:t.linkedFlag)||null,null!==(i=e.sessionRecording)&&void 0!==i&&i.endpoint)&&(this._endpoint=null===(o=e.sessionRecording)||void 0===o?void 0:o.endpoint);if(this._setupSampling(),!J(this._linkedFlag)&&!this._linkedFlagSeen){var a=W(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,l=W(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags(((e,t)=>{var i=U(t)&&a in t,r=l?t[a]===l:i;r&&this._reportStarted(\"linked_flag_matched\",{linkedFlag:a,linkedVariant:l}),this._linkedFlagSeen=r}))}null!==(r=e.sessionRecording)&&void 0!==r&&r.urlTriggers&&(this._urlTriggers=e.sessionRecording.urlTriggers),null!==(s=e.sessionRecording)&&void 0!==s&&s.urlBlocklist&&(this._urlBlocklist=e.sessionRecording.urlBlocklist),null!==(n=e.sessionRecording)&&void 0!==n&&n.eventTriggers&&(this._eventTriggers=e.sessionRecording.eventTriggers),this.receivedDecide=!0,this.startIfEnabledOrStop()}_setupSampling(){Y(this.sampleRate)&&J(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId((e=>{this.makeSamplingDecision(e)})))}_persistRemoteConfig(e){if(this.instance.persistence){var t,i=this.instance.persistence,r=()=>{var t,r,s,n,o,a,l,u,c=null===(t=e.sessionRecording)||void 0===t?void 0:t.sampleRate,d=J(c)?null:parseFloat(c),h=null===(r=e.sessionRecording)||void 0===r?void 0:r.minimumDurationMilliseconds;i.register({[fe]:!!e.sessionRecording,[me]:null===(s=e.sessionRecording)||void 0===s?void 0:s.consoleLogRecordingEnabled,[be]:ne({capturePerformance:e.capturePerformance},null===(n=e.sessionRecording)||void 0===n?void 0:n.networkPayloadCapture),[ye]:{enabled:null===(o=e.sessionRecording)||void 0===o?void 0:o.recordCanvas,fps:null===(a=e.sessionRecording)||void 0===a?void 0:a.canvasFps,quality:null===(l=e.sessionRecording)||void 0===l?void 0:l.canvasQuality},[we]:d,[Se]:z(h)?null:h,[ke]:null===(u=e.sessionRecording)||void 0===u?void 0:u.scriptConfig})};r(),null===(t=this._persistDecideOnSessionListener)||void 0===t||t.call(this),this._persistDecideOnSessionListener=this.sessionManager.onSessionId(r)}}log(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"log\";null===(t=this.instance.sessionRecording)||void 0===t||t.onRRwebEmit({type:6,data:{plugin:\"rrweb/console@1\",payload:{level:i,trace:[],payload:[JSON.stringify(e)]}},timestamp:Date.now()})}_startCapture(e){if(!z(Object.assign)&&!z(Array.from)&&!(this._captureStarted||this.instance.config.disable_session_recording||this.instance.consent.isOptedOut())){var t,i;if(this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),this.rrwebRecord)this._onScriptLoaded();else null===(t=_.__PosthogExtensions__)||void 0===t||null===(i=t.loadExternalDependency)||void 0===i||i.call(t,this.instance,this.scriptName,(e=>{if(e)return is.error(\"could not load recorder\",e);this._onScriptLoaded()}));is.info(\"starting\"),\"active\"===this.status&&this._reportStarted(e||\"recording_initialized\")}}get scriptName(){var e,t,i;return(null===(e=this.instance)||void 0===e||null===(t=e.persistence)||void 0===t||null===(i=t.get_property(ke))||void 0===i?void 0:i.script)||\"recorder\"}isInteractiveEvent(e){var t;return 3===e.type&&-1!==ss.indexOf(null===(t=e.data)||void 0===t?void 0:t.source)}_updateWindowAndSessionIds(e){var t=this.isInteractiveEvent(e);t||this.isIdle||e.timestamp-this._lastActivityTimestamp>this.sessionIdleThresholdMilliseconds&&(this.isIdle=!0,clearInterval(this._fullSnapshotTimer),this._tryAddCustomEvent(\"sessionIdle\",{eventTimestamp:e.timestamp,lastActivityTimestamp:this._lastActivityTimestamp,threshold:this.sessionIdleThresholdMilliseconds,bufferLength:this.buffer.data.length,bufferSize:this.buffer.size}),this._flushBuffer());var i=!1;if(t&&(this._lastActivityTimestamp=e.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent(\"sessionNoLongerIdle\",{reason:\"user activity\",type:e.type}),i=!0)),!this.isIdle){var{windowId:r,sessionId:s}=this.sessionManager.checkAndGetSessionAndWindowId(!t,e.timestamp),n=this.sessionId!==s,o=this.windowId!==r;this.windowId=r,this.sessionId=s,n||o?(this.stopRecording(),this.startIfEnabledOrStop(\"session_id_changed\")):i&&this._scheduleFullSnapshot()}}_tryRRWebMethod(e){try{return e.rrwebMethod(),!0}catch(t){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:e.enqueuedAt||Date.now(),attempt:e.attempt++,rrwebMethod:e.rrwebMethod}):is.warn(\"could not emit queued rrweb event.\",t,e),!1}}_tryAddCustomEvent(e,t){return this._tryRRWebMethod(ns((()=>this.rrwebRecord.addCustomEvent(e,t))))}_tryTakeFullSnapshot(){return this._tryRRWebMethod(ns((()=>this.rrwebRecord.takeFullSnapshot())))}_onScriptLoaded(){var e,t={blockClass:\"ph-no-capture\",blockSelector:void 0,ignoreClass:\"ph-ignore-input\",maskTextClass:\"ph-mask\",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},i=this.instance.config.session_recording;for(var[r,s]of Object.entries(i||{}))r in t&&(\"maskInputOptions\"===r?t.maskInputOptions=ne({password:!0},s):t[r]=s);if(this.canvasRecording&&this.canvasRecording.enabled&&(t.recordCanvas=!0,t.sampling={canvas:this.canvasRecording.fps},t.dataURLOptions={type:\"image/webp\",quality:this.canvasRecording.quality}),this.rrwebRecord){this.mutationRateLimiter=null!==(e=this.mutationRateLimiter)&&void 0!==e?e:new vr(this.rrwebRecord,{refillRate:this.instance.config.session_recording.__mutationRateLimiterRefillRate,bucketSize:this.instance.config.session_recording.__mutationRateLimiterBucketSize,onBlockedNode:(e,t)=>{var i=\"Too many mutations on node '\".concat(e,\"'. Rate limiting. This could be due to SVG animations or something similar\");is.info(i,{node:t}),this.log(ts+\" \"+i,\"warn\")}});var n=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord(ne({emit:e=>{this.onRRwebEmit(e)},plugins:n},t)),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent(\"$session_options\",{sessionRecordingOptions:t,activePlugins:n.map((e=>null==e?void 0:e.name))}),this._tryAddCustomEvent(\"$posthog_config\",{config:this.instance.config})}else is.error(\"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.\")}_scheduleFullSnapshot(){if(this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),!this.isIdle){var e=this.fullSnapshotIntervalMillis;e&&(this._fullSnapshotTimer=setInterval((()=>{this._tryTakeFullSnapshot()}),e))}}_gatherRRWebPlugins(){var e,t,i,r,s=[],n=null===(e=_.__PosthogExtensions__)||void 0===e||null===(t=e.rrwebPlugins)||void 0===t?void 0:t.getRecordConsolePlugin;n&&this.isConsoleLogCaptureEnabled&&s.push(n());var o=null===(i=_.__PosthogExtensions__)||void 0===i||null===(r=i.rrwebPlugins)||void 0===r?void 0:r.getRecordNetworkPlugin;this.networkPayloadCapture&&H(o)&&(!bt.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?s.push(o(_r(this.instance.config,this.networkPayloadCapture))):is.info(\"NetworkCapture not started because we are on localhost.\"));return s}onRRwebEmit(e){var t;if(this._processQueuedEvents(),e&&U(e)){if(e.type===Fi.Meta){var i=this._maskUrl(e.data.href);if(this._lastHref=i,!i)return;e.data.href=i}else this._pageViewFallBack();if(this._checkUrlTriggerConditions(),!this._urlBlocked||function(e){return e.type===Fi.Custom&&\"recording paused\"===e.data.tag}(e)){e.type===Fi.FullSnapshot&&this._scheduleFullSnapshot(),e.type===Fi.FullSnapshot&&\"trigger_pending\"===this.triggerStatus&&this.clearBuffer();var r=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(e):e;if(r){var s=function(e){var t=e;if(t&&U(t)&&6===t.type&&U(t.data)&&\"rrweb/console@1\"===t.data.plugin){t.data.payload.payload.length>10&&(t.data.payload.payload=t.data.payload.payload.slice(0,10),t.data.payload.payload.push(\"...[truncated]\"));for(var i=[],r=0;r<t.data.payload.payload.length;r++)t.data.payload.payload[r]&&t.data.payload.payload[r].length>2e3?i.push(t.data.payload.payload[r].slice(0,2e3)+\"...[truncated]\"):i.push(t.data.payload.payload[r]);return t.data.payload.payload=i,e}return e}(r);if(this._updateWindowAndSessionIds(s),!this.isIdle||as(s)){if(as(s)){var n=s.data.payload;if(n){var o=n.lastActivityTimestamp,a=n.threshold;s.timestamp=o+a}}var l=null===(t=this.instance.config.session_recording.compress_events)||void 0===t||t?function(e){if(Ci(e)<1024)return e;try{if(e.type===Fi.FullSnapshot)return ne(ne({},e),{},{data:os(e.data),cv:\"2024-10\"});if(e.type===Fi.IncrementalSnapshot&&e.data.source===Ti.Mutation)return ne(ne({},e),{},{cv:\"2024-10\",data:ne(ne({},e.data),{},{texts:os(e.data.texts),attributes:os(e.data.attributes),removes:os(e.data.removes),adds:os(e.data.adds)})});if(e.type===Fi.IncrementalSnapshot&&e.data.source===Ti.StyleSheetRule)return ne(ne({},e),{},{cv:\"2024-10\",data:ne(ne({},e.data),{},{adds:os(e.data.adds),removes:os(e.data.removes)})})}catch(e){is.error(\"could not compress event - will use uncompressed event\",e)}return e}(s):s,u={$snapshot_bytes:Ci(l),$snapshot_data:l,$session_id:this.sessionId,$window_id:this.windowId};\"disabled\"!==this.status?this._captureSnapshotBuffered(u):this.clearBuffer()}}}}}_pageViewFallBack(){if(!this.instance.config.capture_pageview&&t){var e=this._maskUrl(t.location.href);this._lastHref!==e&&(this._tryAddCustomEvent(\"$url_changed\",{href:e}),this._lastHref=e)}}_processQueuedEvents(){if(this.queuedRRWebEvents.length){var e=[...this.queuedRRWebEvents];this.queuedRRWebEvents=[],e.forEach((e=>{Date.now()-e.enqueuedAt<=2e3&&this._tryRRWebMethod(e)}))}}_maskUrl(e){var t=this.instance.config.session_recording;if(t.maskNetworkRequestFn){var i,r={url:e};return null===(i=r=t.maskNetworkRequestFn(r))||void 0===i?void 0:i.url}return e}clearBuffer(){return this.buffer={size:0,data:[],sessionId:this.sessionId,windowId:this.windowId},this.buffer}_flushBuffer(){this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var e=this.minimumDuration,t=this.sessionDuration,i=Y(t)&&t>=0,r=Y(e)&&i&&t<e;if(\"buffering\"===this.status||\"paused\"===this.status||\"disabled\"===this.status||r)return this.flushBufferTimer=setTimeout((()=>{this._flushBuffer()}),2e3),this.buffer;this.buffer.data.length>0&&Pi(this.buffer).forEach((e=>{this._captureSnapshot({$snapshot_bytes:e.size,$snapshot_data:e.data,$session_id:e.sessionId,$window_id:e.windowId,$lib:\"web\",$lib_version:p.LIB_VERSION})}));return this.clearBuffer()}_captureSnapshotBuffered(e){var t,i=2+((null===(t=this.buffer)||void 0===t?void 0:t.data.length)||0);!this.isIdle&&(this.buffer.size+e.$snapshot_bytes+i>943718.4||this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),this.buffer.size+=e.$snapshot_bytes,this.buffer.data.push(e.$snapshot_data),this.flushBufferTimer||this.isIdle||(this.flushBufferTimer=setTimeout((()=>{this._flushBuffer()}),2e3))}_captureSnapshot(e){this.instance.capture(\"$snapshot\",e,{_url:this.instance.requestRouter.endpointFor(\"api\",this._endpoint),_noTruncate:!0,_batchKey:\"recordings\",skip_client_rate_limiting:!0})}_checkUrlTriggerConditions(){if(void 0!==t&&t.location.href){var e=t.location.href,i=this._urlBlocked,r=ls(e,this._urlBlocklist);r&&!i?this._pauseRecording():!r&&i&&this._resumeRecording(),ls(e,this._urlTriggers)&&this._activateTrigger(\"url\")}}_activateTrigger(e){var t,i;\"trigger_pending\"===this.triggerStatus&&(null===(t=this.instance)||void 0===t||null===(i=t.persistence)||void 0===i||i.register({[\"url\"===e?Ie:Ce]:this.sessionId}),this._flushBuffer(),this._reportStarted(e+\"_trigger_matched\"))}_pauseRecording(){this._urlBlocked||(this._urlBlocked=!0,clearInterval(this._fullSnapshotTimer),is.info(\"recording paused due to URL blocker\"),this._tryAddCustomEvent(\"recording paused\",{reason:\"url blocker\"}))}_resumeRecording(){this._urlBlocked&&(this._urlBlocked=!1,this._tryTakeFullSnapshot(),this._scheduleFullSnapshot(),this._tryAddCustomEvent(\"recording resumed\",{reason:\"left blocked url\"}),is.info(\"recording resumed\"))}_addEventTriggerListener(){0!==this._eventTriggers.length&&J(this._removeEventTriggerCaptureHook)&&(this._removeEventTriggerCaptureHook=this.instance.on(\"eventCaptured\",(e=>{try{this._eventTriggers.includes(e.event)&&this._activateTrigger(\"event\")}catch(e){is.error(\"Could not activate event trigger\",e)}})))}overrideLinkedFlag(){this._linkedFlagSeen=!0,this._tryTakeFullSnapshot(),this._reportStarted(\"linked_flag_overridden\")}overrideSampling(){var e;null===(e=this.instance.persistence)||void 0===e||e.register({[xe]:!0}),this._tryTakeFullSnapshot(),this._reportStarted(\"sampling_overridden\")}overrideTrigger(e){this._activateTrigger(e)}_reportStarted(e,t){this.instance.register_for_session({$session_recording_start_reason:e}),is.info(e.replace(\"_\",\" \"),t),$([\"recording_initialized\",\"session_id_changed\"],e)||this._tryAddCustomEvent(e,t)}}var cs=te(\"[RemoteConfig]\");class ds{constructor(e){this.instance=e}get remoteConfig(){var e,t;return null===(e=_._POSTHOG_REMOTE_CONFIG)||void 0===e||null===(t=e[this.instance.config.token])||void 0===t?void 0:t.config}_loadRemoteConfigJs(e){var t,i,r;null!==(t=_.__PosthogExtensions__)&&void 0!==t&&t.loadExternalDependency?null===(i=_.__PosthogExtensions__)||void 0===i||null===(r=i.loadExternalDependency)||void 0===r||r.call(i,this.instance,\"remote-config\",(()=>e(this.remoteConfig))):(cs.error(\"PostHog Extensions not found. Cannot load remote config.\"),e())}_loadRemoteConfigJSON(e){this.instance._send_request({method:\"GET\",url:this.instance.requestRouter.endpointFor(\"assets\",\"/array/\".concat(this.instance.config.token,\"/config\")),callback:t=>{e(t.json)}})}load(){try{if(this.remoteConfig)return cs.info(\"Using preloaded remote config\",this.remoteConfig),void this.onRemoteConfig(this.remoteConfig);if(this.instance.config.advanced_disable_decide)return void cs.warn(\"Remote config is disabled. Falling back to local config.\");this._loadRemoteConfigJs((e=>{if(!e)return cs.info(\"No config found after loading remote JS config. Falling back to JSON.\"),void this._loadRemoteConfigJSON((e=>{this.onRemoteConfig(e)}));this.onRemoteConfig(e)}))}catch(e){cs.error(\"Error loading remote config\",e)}}onRemoteConfig(e){e?this.instance.config.__preview_remote_config?(this.instance._onRemoteConfig(e),!1!==e.hasFeatureFlags&&this.instance.featureFlags.ensureFlagsLoaded()):cs.info(\"__preview_remote_config is disabled. Logging config instead\",e):cs.error(\"Failed to fetch remote config from PostHog.\")}}var hs,_s=null!=t&&t.location?Et(t.location.hash,\"__posthog\")||Et(location.hash,\"state\"):null,ps=\"_postHogToolbarParams\",vs=te(\"[Toolbar]\");!function(e){e[e.UNINITIALIZED=0]=\"UNINITIALIZED\",e[e.LOADING=1]=\"LOADING\",e[e.LOADED=2]=\"LOADED\"}(hs||(hs={}));class gs{constructor(e){this.instance=e}setToolbarState(e){_.ph_toolbar_state=e}getToolbarState(){var e;return null!==(e=_.ph_toolbar_state)&&void 0!==e?e:hs.UNINITIALIZED}maybeLoadToolbar(){var e,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!t||!a)return!1;r=null!==(e=r)&&void 0!==e?e:t.location,n=null!==(i=n)&&void 0!==i?i:t.history;try{if(!s){try{t.localStorage.setItem(\"test\",\"test\"),t.localStorage.removeItem(\"test\")}catch(e){return!1}s=null==t?void 0:t.localStorage}var o,l=_s||Et(r.hash,\"__posthog\")||Et(r.hash,\"state\"),u=l?E((()=>JSON.parse(atob(decodeURIComponent(l)))))||E((()=>JSON.parse(decodeURIComponent(l)))):null;return u&&\"ph_authorize\"===u.action?((o=u).source=\"url\",o&&Object.keys(o).length>0&&(u.desiredHash?r.hash=u.desiredHash:n?n.replaceState(n.state,\"\",r.pathname+r.search):r.hash=\"\")):((o=JSON.parse(s.getItem(ps)||\"{}\")).source=\"localstorage\",delete o.userIntent),!(!o.token||this.instance.config.token!==o.token)&&(this.loadToolbar(o),!0)}catch(e){return!1}}_callLoadToolbar(e){var t=_.ph_load_toolbar||_.ph_load_editor;!J(t)&&H(t)?t(e,this.instance):vs.warn(\"No toolbar load function found\")}loadToolbar(e){var i=!(null==a||!a.getElementById(Ue));if(!t||i)return!1;var r=\"custom\"===this.instance.requestRouter.region&&this.instance.config.advanced_disable_toolbar_metrics,s=ne(ne({token:this.instance.config.token},e),{},{apiURL:this.instance.requestRouter.endpointFor(\"ui\")},r?{instrument:!1}:{});if(t.localStorage.setItem(ps,JSON.stringify(ne(ne({},s),{},{source:void 0}))),this.getToolbarState()===hs.LOADED)this._callLoadToolbar(s);else if(this.getToolbarState()===hs.UNINITIALIZED){var n,o;this.setToolbarState(hs.LOADING),null===(n=_.__PosthogExtensions__)||void 0===n||null===(o=n.loadExternalDependency)||void 0===o||o.call(n,this.instance,\"toolbar\",(e=>{if(e)return vs.error(\"[Toolbar] Failed to load\",e),void this.setToolbarState(hs.UNINITIALIZED);this.setToolbarState(hs.LOADED),this._callLoadToolbar(s)})),R(t,\"turbolinks:load\",(()=>{this.setToolbarState(hs.UNINITIALIZED),this.loadToolbar(s)}))}return!0}_loadEditor(e){return this.loadToolbar(e)}maybeLoadEditor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return this.maybeLoadToolbar(e,t,i)}}var fs=3e3;class ms{constructor(e,t){oe(this,\"isPaused\",!0),oe(this,\"queue\",[]),this.flushTimeoutMs=pr((null==t?void 0:t.flush_interval_ms)||fs,250,5e3,\"flush interval\",fs),this.sendRequest=e}enqueue(e){this.queue.push(e),this.flushTimeout||this.setFlushTimeout()}unload(){this.clearFlushTimeout();var e=this.queue.length>0?this.formatQueue():{},t=Object.values(e),i=[...t.filter((e=>0===e.url.indexOf(\"/e\"))),...t.filter((e=>0!==e.url.indexOf(\"/e\")))];i.map((e=>{this.sendRequest(ne(ne({},e),{},{transport:\"sendBeacon\"}))}))}enable(){this.isPaused=!1,this.setFlushTimeout()}setFlushTimeout(){var e=this;this.isPaused||(this.flushTimeout=setTimeout((()=>{if(this.clearFlushTimeout(),this.queue.length>0){var t=this.formatQueue(),i=function(i){var r=t[i],s=(new Date).getTime();r.data&&B(r.data)&&y(r.data,(e=>{e.offset=Math.abs(e.timestamp-s),delete e.timestamp})),e.sendRequest(r)};for(var r in t)i(r)}}),this.flushTimeoutMs))}clearFlushTimeout(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}formatQueue(){var e={};return y(this.queue,(t=>{var i,r=t,s=(r?r.batchKey:null)||r.url;z(e[s])&&(e[s]=ne(ne({},r),{},{data:[]})),null===(i=e[s].data)||void 0===i||i.push(r.data)})),this.queue=[],e}}var bs=function(e){var t,i,r,s,n=\"\";for(t=i=0,r=(e=(e+\"\").replace(/\\r\\n/g,\"\\n\").replace(/\\r/g,\"\\n\")).length,s=0;s<r;s++){var o=e.charCodeAt(s),a=null;o<128?i++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),G(a)||(i>t&&(n+=e.substring(t,i)),n+=a,t=i=s+1)}return i>t&&(n+=e.substring(t,e.length)),n},ys=!!c||!!u,ws=\"text/plain\",Ss=(e,t)=>{var[i,r]=e.split(\"?\"),s=ne({},t);null==r||r.split(\"&\").forEach((e=>{var[t]=e.split(\"=\");delete s[t]}));var n=wt(s);return n=n?(r?r+\"&\":\"\")+n:r,\"\".concat(i,\"?\").concat(n)},ks=(e,t)=>JSON.stringify(e,((e,t)=>\"bigint\"==typeof t?t.toString():t),t),Es=t=>{var{data:i,compression:r}=t;if(i){if(r===e.GZipJS){var s=Qr(Zr(ks(i)),{mtime:0}),n=new Blob([s],{type:ws});return{contentType:ws,body:n,estimatedSize:n.size}}if(r===e.Base64){var o=function(e){var t,i,r,s,n,o=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",a=0,l=0,u=\"\",c=[];if(!e)return e;e=bs(e);do{t=(n=e.charCodeAt(a++)<<16|e.charCodeAt(a++)<<8|e.charCodeAt(a++))>>18&63,i=n>>12&63,r=n>>6&63,s=63&n,c[l++]=o.charAt(t)+o.charAt(i)+o.charAt(r)+o.charAt(s)}while(a<e.length);switch(u=c.join(\"\"),e.length%3){case 1:u=u.slice(0,-2)+\"==\";break;case 2:u=u.slice(0,-1)+\"=\"}return u}(ks(i)),a=(e=>\"data=\"+encodeURIComponent(\"string\"==typeof e?e:ks(e)))(o);return{contentType:\"application/x-www-form-urlencoded\",body:a,estimatedSize:new Blob([a]).size}}var l=ks(i);return{contentType:\"application/json\",body:l,estimatedSize:new Blob([l]).size}}},xs=[];u&&xs.push({transport:\"fetch\",method:e=>{var t,i,{contentType:r,body:s,estimatedSize:n}=null!==(t=Es(e))&&void 0!==t?t:{},o=new Headers;y(e.headers,(function(e,t){o.append(t,e)})),r&&o.append(\"Content-Type\",r);var a=e.url,l=null;if(d){var c=new d;l={signal:c.signal,timeout:setTimeout((()=>c.abort()),e.timeout)}}u(a,ne({method:(null==e?void 0:e.method)||\"GET\",headers:o,keepalive:\"POST\"===e.method&&(n||0)<52428.8,body:s,signal:null===(i=l)||void 0===i?void 0:i.signal},e.fetchOptions)).then((t=>t.text().then((i=>{var r,s={statusCode:t.status,text:i};if(200===t.status)try{s.json=JSON.parse(i)}catch(e){ee.error(e)}null===(r=e.callback)||void 0===r||r.call(e,s)})))).catch((t=>{var i;ee.error(t),null===(i=e.callback)||void 0===i||i.call(e,{statusCode:0,text:t})})).finally((()=>l?clearTimeout(l.timeout):null))}}),c&&xs.push({transport:\"XHR\",method:e=>{var t,i=new c;i.open(e.method||\"GET\",e.url,!0);var{contentType:r,body:s}=null!==(t=Es(e))&&void 0!==t?t:{};y(e.headers,(function(e,t){i.setRequestHeader(t,e)})),r&&i.setRequestHeader(\"Content-Type\",r),e.timeout&&(i.timeout=e.timeout),i.withCredentials=!0,i.onreadystatechange=()=>{if(4===i.readyState){var t,r={statusCode:i.status,text:i.responseText};if(200===i.status)try{r.json=JSON.parse(i.responseText)}catch(e){}null===(t=e.callback)||void 0===t||t.call(e,r)}},i.send(s)}}),null!=o&&o.sendBeacon&&xs.push({transport:\"sendBeacon\",method:e=>{var t=Ss(e.url,{beacon:\"1\"});try{var i,{contentType:r,body:s}=null!==(i=Es(e))&&void 0!==i?i:{},n=\"string\"==typeof s?new Blob([s],{type:r}):s;o.sendBeacon(t,n)}catch(e){}}});var Is=[\"retriesPerformedSoFar\"];class Cs{constructor(e){oe(this,\"isPolling\",!1),oe(this,\"pollIntervalMs\",3e3),oe(this,\"queue\",[]),this.instance=e,this.queue=[],this.areWeOnline=!0,!z(t)&&\"onLine\"in t.navigator&&(this.areWeOnline=t.navigator.onLine,R(t,\"online\",(()=>{this.areWeOnline=!0,this.flush()})),R(t,\"offline\",(()=>{this.areWeOnline=!1})))}retriableRequest(e){var{retriesPerformedSoFar:t}=e,i=ae(e,Is);Y(t)&&t>0&&(i.url=Ss(i.url,{retry_count:t})),this.instance._send_request(ne(ne({},i),{},{callback:e=>{var r;200!==e.statusCode&&(e.statusCode<400||e.statusCode>=500)&&(null!=t?t:0)<10?this.enqueue(ne({retriesPerformedSoFar:t},i)):null===(r=i.callback)||void 0===r||r.call(i,e)}}))}enqueue(e){var t=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=t+1;var i=function(e){var t=3e3*Math.pow(2,e),i=t/2,r=Math.min(18e5,t),s=(Math.random()-.5)*(r-i);return Math.ceil(r+s)}(t),r=Date.now()+i;this.queue.push({retryAt:r,requestOptions:e});var s=\"Enqueued failed request for retry in \".concat(i);navigator.onLine||(s+=\" (Browser is offline)\"),ee.warn(s),this.isPolling||(this.isPolling=!0,this.poll())}poll(){this.poller&&clearTimeout(this.poller),this.poller=setTimeout((()=>{this.areWeOnline&&this.queue.length>0&&this.flush(),this.poll()}),this.pollIntervalMs)}flush(){var e=Date.now(),t=[],i=this.queue.filter((i=>i.retryAt<e||(t.push(i),!1)));if(this.queue=t,i.length>0)for(var{requestOptions:r}of i)this.retriableRequest(r)}unload(){for(var{requestOptions:e}of(this.poller&&(clearTimeout(this.poller),this.poller=void 0),this.queue))try{this.instance._send_request(ne(ne({},e),{},{transport:\"sendBeacon\"}))}catch(e){ee.error(e)}this.queue=[]}}var Ps,Fs=te(\"[SessionId]\");class Ts{constructor(e,t,i){var r;if(oe(this,\"_sessionIdChangedHandlers\",[]),!e.persistence)throw new Error(\"SessionIdManager requires a PostHogPersistence instance\");if(e.config.__preview_experimental_cookieless_mode)throw new Error(\"SessionIdManager cannot be used with __preview_experimental_cookieless_mode\");this.config=e.config,this.persistence=e.persistence,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=t||st,this._windowIdGenerator=i||st;var s=this.config.persistence_name||this.config.token,n=this.config.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*pr(n,60,36e3,\"session_idle_timeout_seconds\",1800),e.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.resetIdleTimer(),this._window_id_storage_key=\"ph_\"+s+\"_window_id\",this._primary_window_exists_storage_key=\"ph_\"+s+\"_primary_window_exists\",this._canUseSessionStorage()){var o=mt.parse(this._window_id_storage_key),a=mt.parse(this._primary_window_exists_storage_key);o&&!a?this._windowId=o:mt.remove(this._window_id_storage_key),mt.set(this._primary_window_exists_storage_key,!0)}if(null!==(r=this.config.bootstrap)&&void 0!==r&&r.sessionID)try{var l=(e=>{var t=e.replace(/-/g,\"\");if(32!==t.length)throw new Error(\"Not a valid UUID\");if(\"7\"!==t[12])throw new Error(\"Not a UUIDv7\");return parseInt(t.substring(0,12),16)})(this.config.bootstrap.sessionID);this._setSessionId(this.config.bootstrap.sessionID,(new Date).getTime(),l)}catch(e){Fs.error(\"Invalid sessionID in bootstrap\",e)}this._listenToReloadWindow()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(e){return z(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(e),this._sessionId&&e(this._sessionId,this._windowId),()=>{this._sessionIdChangedHandlers=this._sessionIdChangedHandlers.filter((t=>t!==e))}}_canUseSessionStorage(){return\"memory\"!==this.config.persistence&&!this.persistence.disabled&&mt.is_supported()}_setWindowId(e){e!==this._windowId&&(this._windowId=e,this._canUseSessionStorage()&&mt.set(this._window_id_storage_key,e))}_getWindowId(){return this._windowId?this._windowId:this._canUseSessionStorage()?mt.parse(this._window_id_storage_key):null}_setSessionId(e,t,i){e===this._sessionId&&t===this._sessionActivityTimestamp&&i===this._sessionStartTimestamp||(this._sessionStartTimestamp=i,this._sessionActivityTimestamp=t,this._sessionId=e,this.persistence.register({[Ee]:[t,e,i]}))}_getSessionId(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var e=this.persistence.props[Ee];return B(e)&&2===e.length&&e.push(e[0]),e||[0,null,0]}resetSessionId(){this._setSessionId(null,null,null)}_listenToReloadWindow(){R(t,\"beforeunload\",(()=>{this._canUseSessionStorage()&&mt.remove(this._primary_window_exists_storage_key)}),{capture:!1})}checkAndGetSessionAndWindowId(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.config.__preview_experimental_cookieless_mode)throw new Error(\"checkAndGetSessionAndWindowId should not be called in __preview_experimental_cookieless_mode\");var i=t||(new Date).getTime(),[r,s,n]=this._getSessionId(),o=this._getWindowId(),a=Y(n)&&n>0&&Math.abs(i-n)>864e5,l=!1,u=!s,c=!e&&Math.abs(i-r)>this.sessionTimeoutMs;u||c||a?(s=this._sessionIdGenerator(),o=this._windowIdGenerator(),Fs.info(\"new session ID generated\",{sessionId:s,windowId:o,changeReason:{noSessionId:u,activityTimeout:c,sessionPastMaximumLength:a}}),n=i,l=!0):o||(o=this._windowIdGenerator(),l=!0);var d=0===r||!e||a?i:r,h=0===n?(new Date).getTime():n;return this._setWindowId(o),this._setSessionId(s,d,h),e||this.resetIdleTimer(),l&&this._sessionIdChangedHandlers.forEach((e=>e(s,o,l?{noSessionId:u,activityTimeout:c,sessionPastMaximumLength:a}:void 0))),{sessionId:s,windowId:o,sessionStartTimestamp:h,changeReason:l?{noSessionId:u,activityTimeout:c,sessionPastMaximumLength:a}:void 0,lastActivityTimestamp:r}}resetIdleTimer(){clearTimeout(this._enforceIdleTimeout),this._enforceIdleTimeout=setTimeout((()=>{this.resetSessionId()}),1.1*this.sessionTimeoutMs)}}!function(e){e.US=\"us\",e.EU=\"eu\",e.CUSTOM=\"custom\"}(Ps||(Ps={}));var Rs=\"i.posthog.com\";class $s{constructor(e){oe(this,\"_regionCache\",{}),this.instance=e}get apiHost(){var e=this.instance.config.api_host.trim().replace(/\\/$/,\"\");return\"https://app.posthog.com\"===e?\"https://us.i.posthog.com\":e}get uiHost(){var e,t=null===(e=this.instance.config.ui_host)||void 0===e?void 0:e.replace(/\\/$/,\"\");return t||(t=this.apiHost.replace(\".\".concat(Rs),\".posthog.com\")),\"https://app.posthog.com\"===t?\"https://us.posthog.com\":t}get region(){return this._regionCache[this.apiHost]||(/https:\\/\\/(app|us|us-assets)(\\.i)?\\.posthog\\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Ps.US:/https:\\/\\/(eu|eu-assets)(\\.i)?\\.posthog\\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Ps.EU:this._regionCache[this.apiHost]=Ps.CUSTOM),this._regionCache[this.apiHost]}endpointFor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";if(t&&(t=\"/\"===t[0]?t:\"/\".concat(t)),\"ui\"===e)return this.uiHost+t;if(this.region===Ps.CUSTOM)return this.apiHost+t;var i=Rs+t;switch(e){case\"assets\":return\"https://\".concat(this.region,\"-assets.\").concat(i);case\"api\":return\"https://\".concat(this.region,\".\").concat(i)}}}var Os=\"posthog-js\";function Ms(e){var{organization:t,projectId:i,prefix:r,severityAllowList:s=[\"error\"]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{var o,a,l,u,c;if(!(\"*\"===s||s.includes(n.level))||!e.__loaded)return n;n.tags||(n.tags={});var d=e.requestRouter.endpointFor(\"ui\",\"/project/\".concat(e.config.token,\"/person/\").concat(e.get_distinct_id()));n.tags[\"PostHog Person URL\"]=d,e.sessionRecordingStarted()&&(n.tags[\"PostHog Recording URL\"]=e.get_session_replay_url({withTimestamp:!0}));var h=(null===(o=n.exception)||void 0===o?void 0:o.values)||[];h.forEach((e=>{e.stacktrace&&(e.stacktrace.type=\"raw\",e.stacktrace.frames.forEach((e=>{e.platform=\"web:javascript\"})))}));var _={$exception_message:(null===(a=h[0])||void 0===a?void 0:a.value)||n.message,$exception_type:null===(l=h[0])||void 0===l?void 0:l.type,$exception_personURL:d,$exception_level:n.level,$exception_list:h,$sentry_event_id:n.event_id,$sentry_exception:n.exception,$sentry_exception_message:(null===(u=h[0])||void 0===u?void 0:u.value)||n.message,$sentry_exception_type:null===(c=h[0])||void 0===c?void 0:c.type,$sentry_tags:n.tags};return t&&i&&(_.$sentry_url=(r||\"https://sentry.io/organizations/\")+t+\"/issues/?project=\"+i+\"&query=\"+n.event_id),e.exceptions.sendExceptionEvent(_),n}}class As{constructor(e,t,i,r,s){this.name=Os,this.setupOnce=function(n){n(Ms(e,{organization:t,projectId:i,prefix:r,severityAllowList:s}))}}}var Ls=te(\"[SegmentIntegration]\");function Ds(e,t){var i=e.config.segment;if(!i)return t();!function(e,t){var i=e.config.segment;if(!i)return t();var r=i=>{var r=()=>i.anonymousId()||st();e.config.get_device_id=r,i.id()&&(e.register({distinct_id:i.id(),$device_id:r()}),e.persistence.set_property(Ae,\"identified\")),t()},s=i.user();\"then\"in s&&H(s.then)?s.then((e=>r(e))):r(s)}(e,(()=>{i.register((e=>{Promise&&Promise.resolve||Ls.warn(\"This browser does not have Promise support, and can not use the segment integration\");var t=(t,i)=>{var r;if(!i)return t;t.event.userId||t.event.anonymousId===e.get_distinct_id()||(Ls.info(\"No userId set, resetting PostHog\"),e.reset()),t.event.userId&&t.event.userId!==e.get_distinct_id()&&(Ls.info(\"UserId set, identifying with PostHog\"),e.identify(t.event.userId));var s=e._calculate_event_properties(i,null!==(r=t.event.properties)&&void 0!==r?r:{},new Date);return t.event.properties=Object.assign({},s,t.event.properties),t};return{name:\"PostHog JS\",type:\"enrichment\",version:\"1.0.0\",isLoaded:()=>!0,load:()=>Promise.resolve(),track:e=>t(e,e.event.event),page:e=>t(e,\"$pageview\"),identify:e=>t(e,\"$identify\"),screen:e=>t(e,\"$screen\")}})(e)).then((()=>{t()}))}))}class Ns{constructor(e){this._instance=e}doPageView(e,i){var r,s=this._previousPageViewProperties(e,i);return this._currentPageview={pathname:null!==(r=null==t?void 0:t.location.pathname)&&void 0!==r?r:\"\",pageViewId:i,timestamp:e},this._instance.scrollManager.resetContext(),s}doPageLeave(e){var t;return this._previousPageViewProperties(e,null===(t=this._currentPageview)||void 0===t?void 0:t.pageViewId)}doEvent(){var e;return{$pageview_id:null===(e=this._currentPageview)||void 0===e?void 0:e.pageViewId}}_previousPageViewProperties(e,t){var i=this._currentPageview;if(!i)return{$pageview_id:t};var r={$pageview_id:t,$prev_pageview_id:i.pageViewId},s=this._instance.scrollManager.getContext();if(s&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:n,lastScrollY:o,maxScrollY:a,maxContentHeight:l,lastContentY:u,maxContentY:c}=s;if(!(z(n)||z(o)||z(a)||z(l)||z(u)||z(c))){n=Math.ceil(n),o=Math.ceil(o),a=Math.ceil(a),l=Math.ceil(l),u=Math.ceil(u),c=Math.ceil(c);var d=n<=1?1:pr(o/n,0,1),h=n<=1?1:pr(a/n,0,1),_=l<=1?1:pr(u/l,0,1),p=l<=1?1:pr(c/l,0,1);r=w(r,{$prev_pageview_last_scroll:o,$prev_pageview_last_scroll_percentage:d,$prev_pageview_max_scroll:a,$prev_pageview_max_scroll_percentage:h,$prev_pageview_last_content:u,$prev_pageview_last_content_percentage:_,$prev_pageview_max_content:c,$prev_pageview_max_content_percentage:p})}}return i.pathname&&(r.$prev_pageview_pathname=i.pathname),i.timestamp&&(r.$prev_pageview_duration=(e.getTime()-i.timestamp.getTime())/1e3),r}}var qs,Bs,Hs,Us,js,zs,Ws,Vs,Gs={},Js=[],Ys=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ks=Array.isArray;function Xs(e,t){for(var i in t)e[i]=t[i];return e}function Qs(e){var t=e.parentNode;t&&t.removeChild(e)}function Zs(e,t,i,r,s){var n={type:e,props:t,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==s?++Hs:s,__i:-1,__u:0};return null==s&&null!=Bs.vnode&&Bs.vnode(n),n}function en(e){return e.children}function tn(e,t){this.props=e,this.context=t}function rn(e,t){if(null==t)return e.__?rn(e.__,e.__i+1):null;for(var i;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e)return i.__e;return\"function\"==typeof e.type?rn(e):null}function sn(e){var t,i;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e){e.__e=e.__c.base=i.__e;break}return sn(e)}}function nn(e){(!e.__d&&(e.__d=!0)&&Us.push(e)&&!on.__r++||js!==Bs.debounceRendering)&&((js=Bs.debounceRendering)||zs)(on)}function on(){var e,t,i,r,s,n,o,a,l;for(Us.sort(Ws);e=Us.shift();)e.__d&&(t=Us.length,r=void 0,n=(s=(i=e).__v).__e,a=[],l=[],(o=i.__P)&&((r=Xs({},s)).__v=s.__v+1,Bs.vnode&&Bs.vnode(r),vn(o,r,s,i.__n,void 0!==o.ownerSVGElement,32&s.__u?[n]:null,a,null==n?rn(s):n,!!(32&s.__u),l),r.__.__k[r.__i]=r,gn(a,r,l),r.__e!=n&&sn(r)),Us.length>t&&Us.sort(Ws));on.__r=0}function an(e,t,i,r,s,n,o,a,l,u,c){var d,h,_,p,v,g=r&&r.__k||Js,f=t.length;for(i.__d=l,ln(i,t,g),l=i.__d,d=0;d<f;d++)null!=(_=i.__k[d])&&\"boolean\"!=typeof _&&\"function\"!=typeof _&&(h=-1===_.__i?Gs:g[_.__i]||Gs,_.__i=d,vn(e,_,h,s,n,o,a,l,u,c),p=_.__e,_.ref&&h.ref!=_.ref&&(h.ref&&mn(h.ref,null,_),c.push(_.ref,_.__c||p,_)),null==v&&null!=p&&(v=p),65536&_.__u||h.__k===_.__k?l=un(_,l,e):\"function\"==typeof _.type&&void 0!==_.__d?l=_.__d:p&&(l=p.nextSibling),_.__d=void 0,_.__u&=-196609);i.__d=l,i.__e=v}function ln(e,t,i){var r,s,n,o,a,l=t.length,u=i.length,c=u,d=0;for(e.__k=[],r=0;r<l;r++)null!=(s=e.__k[r]=null==(s=t[r])||\"boolean\"==typeof s||\"function\"==typeof s?null:\"string\"==typeof s||\"number\"==typeof s||\"bigint\"==typeof s||s.constructor==String?Zs(null,s,null,null,s):Ks(s)?Zs(en,{children:s},null,null,null):void 0===s.constructor&&s.__b>0?Zs(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s)?(s.__=e,s.__b=e.__b+1,a=cn(s,i,o=r+d,c),s.__i=a,n=null,-1!==a&&(c--,(n=i[a])&&(n.__u|=131072)),null==n||null===n.__v?(-1==a&&d--,\"function\"!=typeof s.type&&(s.__u|=65536)):a!==o&&(a===o+1?d++:a>o?c>l-o?d+=a-o:d--:d=a<o&&a==o-1?a-o:0,a!==r+d&&(s.__u|=65536))):(n=i[r])&&null==n.key&&n.__e&&(n.__e==e.__d&&(e.__d=rn(n)),bn(n,n,!1),i[r]=null,c--);if(c)for(r=0;r<u;r++)null!=(n=i[r])&&0==(131072&n.__u)&&(n.__e==e.__d&&(e.__d=rn(n)),bn(n,n))}function un(e,t,i){var r,s;if(\"function\"==typeof e.type){for(r=e.__k,s=0;r&&s<r.length;s++)r[s]&&(r[s].__=e,t=un(r[s],t,i));return t}return e.__e!=t&&(i.insertBefore(e.__e,t||null),t=e.__e),t&&t.nextSibling}function cn(e,t,i,r){var s=e.key,n=e.type,o=i-1,a=i+1,l=t[i];if(null===l||l&&s==l.key&&n===l.type)return i;if(r>(null!=l&&0==(131072&l.__u)?1:0))for(;o>=0||a<t.length;){if(o>=0){if((l=t[o])&&0==(131072&l.__u)&&s==l.key&&n===l.type)return o;o--}if(a<t.length){if((l=t[a])&&0==(131072&l.__u)&&s==l.key&&n===l.type)return a;a++}}return-1}function dn(e,t,i){\"-\"===t[0]?e.setProperty(t,null==i?\"\":i):e[t]=null==i?\"\":\"number\"!=typeof i||Ys.test(t)?i:i+\"px\"}function hn(e,t,i,r,s){var n;e:if(\"style\"===t)if(\"string\"==typeof i)e.style.cssText=i;else{if(\"string\"==typeof r&&(e.style.cssText=r=\"\"),r)for(t in r)i&&t in i||dn(e.style,t,\"\");if(i)for(t in i)r&&i[t]===r[t]||dn(e.style,t,i[t])}else if(\"o\"===t[0]&&\"n\"===t[1])n=t!==(t=t.replace(/(PointerCapture)$|Capture$/,\"$1\")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+n]=i,i?r?i.u=r.u:(i.u=Date.now(),e.addEventListener(t,n?pn:_n,n)):e.removeEventListener(t,n?pn:_n,n);else{if(s)t=t.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==t&&\"height\"!==t&&\"href\"!==t&&\"list\"!==t&&\"form\"!==t&&\"tabIndex\"!==t&&\"download\"!==t&&\"rowSpan\"!==t&&\"colSpan\"!==t&&\"role\"!==t&&t in e)try{e[t]=null==i?\"\":i;break e}catch(e){}\"function\"==typeof i||(null==i||!1===i&&\"-\"!==t[4]?e.removeAttribute(t):e.setAttribute(t,i))}}function _n(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(Bs.event?Bs.event(e):e)}function pn(e){return this.l[e.type+!0](Bs.event?Bs.event(e):e)}function vn(e,t,i,r,s,n,o,a,l,u){var c,d,h,_,p,v,g,f,m,b,y,w,S,k,E,x=t.type;if(void 0!==t.constructor)return null;128&i.__u&&(l=!!(32&i.__u),n=[a=t.__e=i.__e]),(c=Bs.__b)&&c(t);e:if(\"function\"==typeof x)try{if(f=t.props,m=(c=x.contextType)&&r[c.__c],b=c?m?m.props.value:c.__:r,i.__c?g=(d=t.__c=i.__c).__=d.__E:(\"prototype\"in x&&x.prototype.render?t.__c=d=new x(f,b):(t.__c=d=new tn(f,b),d.constructor=x,d.render=yn),m&&m.sub(d),d.props=f,d.state||(d.state={}),d.context=b,d.__n=r,h=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=x.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=Xs({},d.__s)),Xs(d.__s,x.getDerivedStateFromProps(f,d.__s))),_=d.props,p=d.state,d.__v=t,h)null==x.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==x.getDerivedStateFromProps&&f!==_&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(f,b),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(f,d.__s,b)||t.__v===i.__v)){for(t.__v!==i.__v&&(d.props=f,d.state=d.__s,d.__d=!1),t.__e=i.__e,t.__k=i.__k,t.__k.forEach((function(e){e&&(e.__=t)})),y=0;y<d._sb.length;y++)d.__h.push(d._sb[y]);d._sb=[],d.__h.length&&o.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(f,d.__s,b),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(_,p,v)}))}if(d.context=b,d.props=f,d.__P=e,d.__e=!1,w=Bs.__r,S=0,\"prototype\"in x&&x.prototype.render){for(d.state=d.__s,d.__d=!1,w&&w(t),c=d.render(d.props,d.state,d.context),k=0;k<d._sb.length;k++)d.__h.push(d._sb[k]);d._sb=[]}else do{d.__d=!1,w&&w(t),c=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++S<25);d.state=d.__s,null!=d.getChildContext&&(r=Xs(Xs({},r),d.getChildContext())),h||null==d.getSnapshotBeforeUpdate||(v=d.getSnapshotBeforeUpdate(_,p)),an(e,Ks(E=null!=c&&c.type===en&&null==c.key?c.props.children:c)?E:[E],t,i,r,s,n,o,a,l,u),d.base=t.__e,t.__u&=-161,d.__h.length&&o.push(d),g&&(d.__E=d.__=null)}catch(e){t.__v=null,l||null!=n?(t.__e=a,t.__u|=l?160:32,n[n.indexOf(a)]=null):(t.__e=i.__e,t.__k=i.__k),Bs.__e(e,t,i)}else null==n&&t.__v===i.__v?(t.__k=i.__k,t.__e=i.__e):t.__e=fn(i.__e,t,i,r,s,n,o,l,u);(c=Bs.diffed)&&c(t)}function gn(e,t,i){t.__d=void 0;for(var r=0;r<i.length;r++)mn(i[r],i[++r],i[++r]);Bs.__c&&Bs.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){Bs.__e(e,t.__v)}}))}function fn(e,t,i,r,s,n,o,a,l){var u,c,d,h,_,p,v,g=i.props,f=t.props,m=t.type;if(\"svg\"===m&&(s=!0),null!=n)for(u=0;u<n.length;u++)if((_=n[u])&&\"setAttribute\"in _==!!m&&(m?_.localName===m:3===_.nodeType)){e=_,n[u]=null;break}if(null==e){if(null===m)return document.createTextNode(f);e=s?document.createElementNS(\"http://www.w3.org/2000/svg\",m):document.createElement(m,f.is&&f),n=null,a=!1}if(null===m)g===f||a&&e.data===f||(e.data=f);else{if(n=n&&qs.call(e.childNodes),g=i.props||Gs,!a&&null!=n)for(g={},u=0;u<e.attributes.length;u++)g[(_=e.attributes[u]).name]=_.value;for(u in g)_=g[u],\"children\"==u||(\"dangerouslySetInnerHTML\"==u?d=_:\"key\"===u||u in f||hn(e,u,null,_,s));for(u in f)_=f[u],\"children\"==u?h=_:\"dangerouslySetInnerHTML\"==u?c=_:\"value\"==u?p=_:\"checked\"==u?v=_:\"key\"===u||a&&\"function\"!=typeof _||g[u]===_||hn(e,u,_,g[u],s);if(c)a||d&&(c.__html===d.__html||c.__html===e.innerHTML)||(e.innerHTML=c.__html),t.__k=[];else if(d&&(e.innerHTML=\"\"),an(e,Ks(h)?h:[h],t,i,r,s&&\"foreignObject\"!==m,n,o,n?n[0]:i.__k&&rn(i,0),a,l),null!=n)for(u=n.length;u--;)null!=n[u]&&Qs(n[u]);a||(u=\"value\",void 0!==p&&(p!==e[u]||\"progress\"===m&&!p||\"option\"===m&&p!==g[u])&&hn(e,u,p,g[u],!1),u=\"checked\",void 0!==v&&v!==e[u]&&hn(e,u,v,g[u],!1))}return e}function mn(e,t,i){try{\"function\"==typeof e?e(t):e.current=t}catch(e){Bs.__e(e,i)}}function bn(e,t,i){var r,s;if(Bs.unmount&&Bs.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||mn(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){Bs.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(s=0;s<r.length;s++)r[s]&&bn(r[s],t,i||\"function\"!=typeof e.type);i||null==e.__e||Qs(e.__e),e.__=e.__e=e.__d=void 0}function yn(e,t,i){return this.constructor(e,i)}qs=Js.slice,Bs={__e:function(e,t,i,r){for(var s,n,o;t=t.__;)if((s=t.__c)&&!s.__)try{if((n=s.constructor)&&null!=n.getDerivedStateFromError&&(s.setState(n.getDerivedStateFromError(e)),o=s.__d),null!=s.componentDidCatch&&(s.componentDidCatch(e,r||{}),o=s.__d),o)return s.__E=s}catch(t){e=t}throw e}},Hs=0,tn.prototype.setState=function(e,t){var i;i=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Xs({},this.state),\"function\"==typeof e&&(e=e(Xs({},i),this.props)),e&&Xs(i,e),null!=e&&this.__v&&(t&&this._sb.push(t),nn(this))},tn.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),nn(this))},tn.prototype.render=en,Us=[],zs=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ws=function(e,t){return e.__v.__b-t.__v.__b},on.__r=0,Vs=0;var wn,Sn,kn;!function(e,t){var i={__c:t=\"__cC\"+Vs++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var i,r;return this.getChildContext||(i=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&i.some((function(e){e.__e=!0,nn(e)}))},this.sub=function(e){i.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){i.splice(i.indexOf(e),1),t&&t.call(e)}}),e.children}};i.Provider.__=i.Consumer.contextType=i}({isPreviewMode:!1,previewPageIndex:0,handleCloseSurveyPopup:()=>{},isPopup:!0,onPreviewSubmit:()=>{}}),function(e){e.Popover=\"popover\",e.API=\"api\",e.Widget=\"widget\"}(wn||(wn={})),function(e){e.Open=\"open\",e.MultipleChoice=\"multiple_choice\",e.SingleChoice=\"single_choice\",e.Rating=\"rating\",e.Link=\"link\"}(Sn||(Sn={})),function(e){e.NextQuestion=\"next_question\",e.End=\"end\",e.ResponseBased=\"response_based\",e.SpecificQuestion=\"specific_question\"}(kn||(kn={}));class En{constructor(){oe(this,\"events\",{}),this.events={}}on(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),()=>{this.events[e]=this.events[e].filter((e=>e!==t))}}emit(e,t){for(var i of this.events[e]||[])i(t);for(var r of this.events[\"*\"]||[])r(e,t)}}class xn{constructor(e){oe(this,\"_debugEventEmitter\",new En),oe(this,\"checkStep\",((e,t)=>this.checkStepEvent(e,t)&&this.checkStepUrl(e,t)&&this.checkStepElement(e,t))),oe(this,\"checkStepEvent\",((e,t)=>null==t||!t.event||(null==e?void 0:e.event)===(null==t?void 0:t.event))),this.instance=e,this.actionEvents=new Set,this.actionRegistry=new Set}init(){var e;if(!z(null===(e=this.instance)||void 0===e?void 0:e._addCaptureHook)){var t;null===(t=this.instance)||void 0===t||t._addCaptureHook(((e,t)=>{this.on(e,t)}))}}register(e){var t,i;if(!z(null===(t=this.instance)||void 0===t?void 0:t._addCaptureHook)&&(e.forEach((e=>{var t,i;null===(t=this.actionRegistry)||void 0===t||t.add(e),null===(i=e.steps)||void 0===i||i.forEach((e=>{var t;null===(t=this.actionEvents)||void 0===t||t.add((null==e?void 0:e.event)||\"\")}))})),null!==(i=this.instance)&&void 0!==i&&i.autocapture)){var r,s=new Set;e.forEach((e=>{var t;null===(t=e.steps)||void 0===t||t.forEach((e=>{null!=e&&e.selector&&s.add(null==e?void 0:e.selector)}))})),null===(r=this.instance)||void 0===r||r.autocapture.setElementSelectors(s)}}on(e,t){var i;null!=t&&0!=e.length&&(this.actionEvents.has(e)||this.actionEvents.has(null==t?void 0:t.event))&&this.actionRegistry&&(null===(i=this.actionRegistry)||void 0===i?void 0:i.size)>0&&this.actionRegistry.forEach((e=>{this.checkAction(t,e)&&this._debugEventEmitter.emit(\"actionCaptured\",e.name)}))}_addActionHook(e){this.onAction(\"actionCaptured\",(t=>e(t)))}checkAction(e,t){if(null==(null==t?void 0:t.steps))return!1;for(var i of t.steps)if(this.checkStep(e,i))return!0;return!1}onAction(e,t){return this._debugEventEmitter.on(e,t)}checkStepUrl(e,t){if(null!=t&&t.url){var i,r=null==e||null===(i=e.properties)||void 0===i?void 0:i.$current_url;if(!r||\"string\"!=typeof r)return!1;if(!xn.matchString(r,null==t?void 0:t.url,(null==t?void 0:t.url_matching)||\"contains\"))return!1}return!0}static matchString(e,i,r){switch(r){case\"regex\":return!!t&&A(e,i);case\"exact\":return i===e;case\"contains\":var s=xn.escapeStringRegexp(i).replace(/_/g,\".\").replace(/%/g,\".*\");return A(e,s);default:return!1}}static escapeStringRegexp(e){return e.replace(/[|\\\\{}()[\\]^$+*?.]/g,\"\\\\$&\").replace(/-/g,\"\\\\x2d\")}checkStepElement(e,t){if((null!=t&&t.href||null!=t&&t.tag_name||null!=t&&t.text)&&!this.getElementsList(e).some((e=>!(null!=t&&t.href&&!xn.matchString(e.href||\"\",null==t?void 0:t.href,(null==t?void 0:t.href_matching)||\"exact\"))&&((null==t||!t.tag_name||e.tag_name===(null==t?void 0:t.tag_name))&&!(null!=t&&t.text&&!xn.matchString(e.text||\"\",null==t?void 0:t.text,(null==t?void 0:t.text_matching)||\"exact\")&&!xn.matchString(e.$el_text||\"\",null==t?void 0:t.text,(null==t?void 0:t.text_matching)||\"exact\"))))))return!1;if(null!=t&&t.selector){var i,r=null==e||null===(i=e.properties)||void 0===i?void 0:i.$element_selectors;if(!r)return!1;if(!r.includes(null==t?void 0:t.selector))return!1}return!0}getElementsList(e){return null==(null==e?void 0:e.properties.$elements)?[]:null==e?void 0:e.properties.$elements}}class In{constructor(e){this.instance=e,this.eventToSurveys=new Map,this.actionToSurveys=new Map}register(e){var t;z(null===(t=this.instance)||void 0===t?void 0:t._addCaptureHook)||(this.setupEventBasedSurveys(e),this.setupActionBasedSurveys(e))}setupActionBasedSurveys(e){var t=e.filter((e=>{var t,i,r,s;return(null===(t=e.conditions)||void 0===t?void 0:t.actions)&&(null===(i=e.conditions)||void 0===i||null===(r=i.actions)||void 0===r||null===(s=r.values)||void 0===s?void 0:s.length)>0}));if(0!==t.length){if(null==this.actionMatcher){this.actionMatcher=new xn(this.instance),this.actionMatcher.init();this.actionMatcher._addActionHook((e=>{this.onAction(e)}))}t.forEach((e=>{var t,i,r,s,n,o,a,l,u,c;e.conditions&&null!==(t=e.conditions)&&void 0!==t&&t.actions&&null!==(i=e.conditions)&&void 0!==i&&null!==(r=i.actions)&&void 0!==r&&r.values&&(null===(s=e.conditions)||void 0===s||null===(n=s.actions)||void 0===n||null===(o=n.values)||void 0===o?void 0:o.length)>0&&(null===(a=this.actionMatcher)||void 0===a||a.register(e.conditions.actions.values),null===(l=e.conditions)||void 0===l||null===(u=l.actions)||void 0===u||null===(c=u.values)||void 0===c||c.forEach((t=>{if(t&&t.name){var i=this.actionToSurveys.get(t.name);i&&i.push(e.id),this.actionToSurveys.set(t.name,i||[e.id])}})))}))}}setupEventBasedSurveys(e){var t;if(0!==e.filter((e=>{var t,i,r,s;return(null===(t=e.conditions)||void 0===t?void 0:t.events)&&(null===(i=e.conditions)||void 0===i||null===(r=i.events)||void 0===r||null===(s=r.values)||void 0===s?void 0:s.length)>0})).length){null===(t=this.instance)||void 0===t||t._addCaptureHook(((e,t)=>{this.onEvent(e,t)})),e.forEach((e=>{var t,i,r;null===(t=e.conditions)||void 0===t||null===(i=t.events)||void 0===i||null===(r=i.values)||void 0===r||r.forEach((t=>{if(t&&t.name){var i=this.eventToSurveys.get(t.name);i&&i.push(e.id),this.eventToSurveys.set(t.name,i||[e.id])}}))}))}}onEvent(e,t){var i,r,s=(null===(i=this.instance)||void 0===i||null===(r=i.persistence)||void 0===r?void 0:r.props[Oe])||[];if(In.SURVEY_SHOWN_EVENT_NAME==e&&t&&s.length>0){var n,o=null==t||null===(n=t.properties)||void 0===n?void 0:n.$survey_id;if(o){var a=s.indexOf(o);a>=0&&(s.splice(a,1),this._updateActivatedSurveys(s))}}else this.eventToSurveys.has(e)&&this._updateActivatedSurveys(s.concat(this.eventToSurveys.get(e)||[]))}onAction(e){var t,i,r=(null===(t=this.instance)||void 0===t||null===(i=t.persistence)||void 0===i?void 0:i.props[Oe])||[];this.actionToSurveys.has(e)&&this._updateActivatedSurveys(r.concat(this.actionToSurveys.get(e)||[]))}_updateActivatedSurveys(e){var t,i;null===(t=this.instance)||void 0===t||null===(i=t.persistence)||void 0===i||i.register({[Oe]:[...new Set(e)]})}getSurveys(){var e,t,i=null===(e=this.instance)||void 0===e||null===(t=e.persistence)||void 0===t?void 0:t.props[Oe];return i||[]}getEventToSurveys(){return this.eventToSurveys}_getActionMatcher(){return this.actionMatcher}}oe(In,\"SURVEY_SHOWN_EVENT_NAME\",\"survey shown\");var Cn=te(\"[Surveys]\"),Pn={icontains:(e,t)=>e.some((e=>t.toLowerCase().includes(e.toLowerCase()))),not_icontains:(e,t)=>e.every((e=>!t.toLowerCase().includes(e.toLowerCase()))),regex:(e,t)=>e.some((e=>A(t,e))),not_regex:(e,t)=>e.every((e=>!A(t,e))),exact:(e,t)=>e.some((e=>t===e)),is_not:(e,t)=>e.every((e=>t!==e))};function Fn(e,t,i){var r,s=e.questions[t],n=t+1;if(null===(r=s.branching)||void 0===r||!r.type)return t===e.questions.length-1?kn.End:n;if(s.branching.type===kn.End)return kn.End;if(s.branching.type===kn.SpecificQuestion){if(Number.isInteger(s.branching.index))return s.branching.index}else if(s.branching.type===kn.ResponseBased){if(s.type===Sn.SingleChoice){var o,a,l=s.choices.indexOf(\"\".concat(i));if(null!==(o=s.branching)&&void 0!==o&&null!==(a=o.responseValues)&&void 0!==a&&a.hasOwnProperty(l)){var u=s.branching.responseValues[l];return Number.isInteger(u)?u:u===kn.End?kn.End:n}}else if(s.type===Sn.Rating){var c,d;if(\"number\"!=typeof i||!Number.isInteger(i))throw new Error(\"The response type must be an integer\");var h=function(e,t){if(3===t){if(e<1||e>3)throw new Error(\"The response must be in range 1-3\");return 1===e?\"negative\":2===e?\"neutral\":\"positive\"}if(5===t){if(e<1||e>5)throw new Error(\"The response must be in range 1-5\");return e<=2?\"negative\":3===e?\"neutral\":\"positive\"}if(7===t){if(e<1||e>7)throw new Error(\"The response must be in range 1-7\");return e<=3?\"negative\":4===e?\"neutral\":\"positive\"}if(10===t){if(e<0||e>10)throw new Error(\"The response must be in range 0-10\");return e<=6?\"detractors\":e<=8?\"passives\":\"promoters\"}throw new Error(\"The scale must be one of: 3, 5, 7, 10\")}(i,s.scale);if(null!==(c=s.branching)&&void 0!==c&&null!==(d=c.responseValues)&&void 0!==d&&d.hasOwnProperty(h)){var _=s.branching.responseValues[h];return Number.isInteger(_)?_:_===kn.End?kn.End:n}}return n}return Cn.warn(\"Falling back to next question index due to unexpected branching type\"),n}function Tn(e){return null!=e?e:\"icontains\"}class Rn{constructor(e){oe(this,\"getNextSurveyStep\",Fn),this.instance=e,this._surveyEventReceiver=null}onRemoteConfig(e){this._decideServerResponse=!!e.surveys,Cn.info(\"decideServerResponse set to \".concat(this._decideServerResponse)),this.loadIfEnabled()}reset(){localStorage.removeItem(\"lastSeenSurveyDate\");var e=(()=>{for(var e=[],t=0;t<localStorage.length;t++){var i=localStorage.key(t);null!=i&&i.startsWith(\"seenSurvey_\")&&e.push(i)}return e})();e.forEach((e=>localStorage.removeItem(e)))}loadIfEnabled(){if(!this._surveyManager)if(this.instance.config.disable_surveys)Cn.info(\"Disabled. Not loading surveys.\");else{var e=null==_?void 0:_.__PosthogExtensions__;if(e){var t=e.generateSurveys;if(this._decideServerResponse)if(null==this._surveyEventReceiver&&(this._surveyEventReceiver=new In(this.instance)),t)this._surveyManager=t(this.instance);else{var i=e.loadExternalDependency;i?i(this.instance,\"surveys\",(t=>{var i;t?Cn.error(\"Could not load surveys script\",t):this._surveyManager=null===(i=e.generateSurveys)||void 0===i?void 0:i.call(e,this.instance)})):Cn.error(\"PostHog loadExternalDependency extension not found. Cannot load remote config.\")}else Cn.warn(\"Decide not loaded yet. Not loading surveys.\")}else Cn.error(\"PostHog Extensions not found.\")}}getSurveys(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.instance.config.disable_surveys)return Cn.info(\"Disabled. Not loading surveys.\"),e([]);null==this._surveyEventReceiver&&(this._surveyEventReceiver=new In(this.instance));var i=this.instance.get_property($e);if(i&&!t)return e(i);this.instance._send_request({url:this.instance.requestRouter.endpointFor(\"api\",\"/api/surveys/?token=\".concat(this.instance.config.token)),method:\"GET\",callback:t=>{var i,r=t.statusCode;if(200!==r||!t.json)return Cn.error(\"Surveys API could not be loaded, status: \".concat(r)),e([]);var s,n=t.json.surveys||[],o=n.filter((e=>{var t,i,r,s,n,o,a,l,u,c,d,h;return(null===(t=e.conditions)||void 0===t?void 0:t.events)&&(null===(i=e.conditions)||void 0===i||null===(r=i.events)||void 0===r?void 0:r.values)&&(null===(s=e.conditions)||void 0===s||null===(n=s.events)||void 0===n||null===(o=n.values)||void 0===o?void 0:o.length)>0||(null===(a=e.conditions)||void 0===a?void 0:a.actions)&&(null===(l=e.conditions)||void 0===l||null===(u=l.actions)||void 0===u?void 0:u.values)&&(null===(c=e.conditions)||void 0===c||null===(d=c.actions)||void 0===d||null===(h=d.values)||void 0===h?void 0:h.length)>0}));o.length>0&&(null===(s=this._surveyEventReceiver)||void 0===s||s.register(o));return null===(i=this.instance.persistence)||void 0===i||i.register({[$e]:n}),e(n)}})}isSurveyFeatureFlagEnabled(e){return!e||this.instance.featureFlags.isFeatureEnabled(e)}getActiveMatchingSurveys(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.getSurveys((i=>{var r,s=i.filter((e=>!(!e.start_date||e.end_date))).filter((e=>{var i;if(!e.conditions)return!0;var r=function(e){var i,r,s;if(null===(i=e.conditions)||void 0===i||!i.url)return!0;var n=null==t||null===(r=t.location)||void 0===r?void 0:r.href;if(!n)return!1;var o=[e.conditions.url];return Pn[Tn(null===(s=e.conditions)||void 0===s?void 0:s.urlMatchType)](o,n)}(e),s=null===(i=e.conditions)||void 0===i||!i.selector||(null==a?void 0:a.querySelector(e.conditions.selector)),n=function(e){var t,i;if(null===(t=e.conditions)||void 0===t||!t.deviceTypes)return!0;if(!h)return!1;var r=Ei.deviceType(h);return Pn[Tn(null===(i=e.conditions)||void 0===i?void 0:i.deviceTypesMatchType)](e.conditions.deviceTypes,r)}(e);return r&&s&&n})),n=null===(r=this._surveyEventReceiver)||void 0===r?void 0:r.getSurveys(),o=s.filter((e=>{var t,i,r,s,o,a,l,u,c;if(!(e.linked_flag_key||e.targeting_flag_key||e.internal_targeting_flag_key||null!==(t=e.feature_flag_keys)&&void 0!==t&&t.length))return!0;var d=this.isSurveyFeatureFlagEnabled(e.linked_flag_key),h=this.isSurveyFeatureFlagEnabled(e.targeting_flag_key),_=(null!==(i=null===(r=e.conditions)||void 0===r||null===(s=r.events)||void 0===s||null===(o=s.values)||void 0===o?void 0:o.length)&&void 0!==i?i:0)>0,p=(null!==(a=null===(l=e.conditions)||void 0===l||null===(u=l.actions)||void 0===u||null===(c=u.values)||void 0===c?void 0:c.length)&&void 0!==a?a:0)>0,v=!_&&!p||(null==n?void 0:n.includes(e.id)),g=this._canActivateRepeatedly(e)||this.isSurveyFeatureFlagEnabled(e.internal_targeting_flag_key),f=this.checkFlags(e);return d&&h&&g&&v&&f}));return e(o)}),i)}checkFlags(e){var t;return null===(t=e.feature_flag_keys)||void 0===t||!t.length||e.feature_flag_keys.every((e=>{var{key:t,value:i}=e;return!t||!i||this.instance.featureFlags.isFeatureEnabled(i)}))}_canActivateRepeatedly(e){var t;return J(null===(t=_.__PosthogExtensions__)||void 0===t?void 0:t.canActivateRepeatedly)?(Cn.warn(\"init was not called\"),!1):_.__PosthogExtensions__.canActivateRepeatedly(e)}canRenderSurvey(e){J(this._surveyManager)?Cn.warn(\"init was not called\"):this.getSurveys((t=>{var i=t.filter((t=>t.id===e))[0];this._surveyManager.canRenderSurvey(i)}))}renderSurvey(e,t){J(this._surveyManager)?Cn.warn(\"init was not called\"):this.getSurveys((i=>{var r=i.filter((t=>t.id===e))[0];this._surveyManager.renderSurvey(r,null==a?void 0:a.querySelector(t))}))}}var $n=te(\"[RateLimiter]\");class On{constructor(e){var t,i;oe(this,\"serverLimits\",{}),oe(this,\"lastEventRateLimited\",!1),oe(this,\"checkForLimiting\",(e=>{var t=e.text;if(t&&t.length)try{(JSON.parse(t).quota_limited||[]).forEach((e=>{$n.info(\"\".concat(e||\"events\",\" is quota limited.\")),this.serverLimits[e]=(new Date).getTime()+6e4}))}catch(e){return void $n.warn('could not rate limit - continuing. Error: \"'.concat(null==e?void 0:e.message,'\"'),{text:t})}})),this.instance=e,this.captureEventsPerSecond=(null===(t=e.config.rate_limiting)||void 0===t?void 0:t.events_per_second)||10,this.captureEventsBurstLimit=Math.max((null===(i=e.config.rate_limiting)||void 0===i?void 0:i.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(){var e,t,i,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=(new Date).getTime(),n=null!==(e=null===(t=this.instance.persistence)||void 0===t?void 0:t.get_property(De))&&void 0!==e?e:{tokens:this.captureEventsBurstLimit,last:s};n.tokens+=(s-n.last)/1e3*this.captureEventsPerSecond,n.last=s,n.tokens>this.captureEventsBurstLimit&&(n.tokens=this.captureEventsBurstLimit);var o=n.tokens<1;return o||r||(n.tokens=Math.max(0,n.tokens-1)),!o||this.lastEventRateLimited||r||this.instance.capture(\"$$client_ingestion_warning\",{$$client_ingestion_warning_message:\"posthog-js client rate limited. Config is set to \".concat(this.captureEventsPerSecond,\" events per second and \").concat(this.captureEventsBurstLimit,\" events burst limit.\")},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=o,null===(i=this.instance.persistence)||void 0===i||i.set_property(De,n),{isRateLimited:o,remainingTokens:n.tokens}}isServerRateLimited(e){var t=this.serverLimits[e||\"events\"]||!1;return!1!==t&&(new Date).getTime()<t}}var Mn=e=>{var t=null==e?void 0:e.config;return ne({initialPathName:(null==l?void 0:l.pathname)||\"\",referringDomain:Ei.referringDomain()},Ei.campaignParams({customTrackedParams:null==t?void 0:t.custom_campaign_params,maskPersonalDataProperties:null==t?void 0:t.mask_personal_data_properties,customPersonalDataProperties:null==t?void 0:t.custom_personal_data_properties}))};class An{constructor(e,t,i,r){oe(this,\"_onSessionIdCallback\",(e=>{var t=this._getStoredProps();if(!t||t.sessionId!==e){var i={sessionId:e,props:this._sessionSourceParamGenerator(this.instance)};this._persistence.register({[Le]:i})}})),this.instance=e,this._sessionIdManager=t,this._persistence=i,this._sessionSourceParamGenerator=r||Mn,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}_getStoredProps(){return this._persistence.props[Le]}getSessionProps(){var e,t=null===(e=this._getStoredProps())||void 0===e?void 0:e.props;return t?{$client_session_initial_referring_host:t.referringDomain,$client_session_initial_pathname:t.initialPathName,$client_session_initial_utm_source:t.utm_source,$client_session_initial_utm_campaign:t.utm_campaign,$client_session_initial_utm_medium:t.utm_medium,$client_session_initial_utm_content:t.utm_content,$client_session_initial_utm_term:t.utm_term}:{}}}var Ln=[\"ahrefsbot\",\"ahrefssiteaudit\",\"applebot\",\"baiduspider\",\"better uptime bot\",\"bingbot\",\"bingpreview\",\"bot.htm\",\"bot.php\",\"crawler\",\"deepscan\",\"duckduckbot\",\"facebookexternal\",\"facebookcatalog\",\"http://yandex.com/bots\",\"hubspot\",\"ia_archiver\",\"linkedinbot\",\"mj12bot\",\"msnbot\",\"nessus\",\"petalbot\",\"pinterest\",\"prerender\",\"rogerbot\",\"screaming frog\",\"semrushbot\",\"sitebulb\",\"slurp\",\"turnitin\",\"twitterbot\",\"vercelbot\",\"yahoo! slurp\",\"yandexbot\",\"gptbot\",\"oai-searchbot\",\"chatgpt-user\",\"headlesschrome\",\"cypress\",\"Google-HotelAdsVerifier\",\"adsbot-google\",\"apis-google\",\"duplexweb-google\",\"feedfetcher-google\",\"google favicon\",\"google web preview\",\"google-read-aloud\",\"googlebot\",\"googleweblight\",\"mediapartners-google\",\"storebot-google\",\"Bytespider;\"],Dn=function(e,t){if(!e)return!1;var i=e.toLowerCase();return Ln.concat(t||[]).some((e=>{var t=e.toLowerCase();return-1!==i.indexOf(t)}))},Nn=function(e,t){if(!e)return!1;var i=e.userAgent;if(i&&Dn(i,t))return!0;try{var r=null==e?void 0:e.userAgentData;if(null!=r&&r.brands&&r.brands.some((e=>Dn(null==e?void 0:e.brand,t))))return!0}catch(e){}return!!e.webdriver};class qn{constructor(){this.clicks=[]}isRageClick(e,t,i){var r=this.clicks[this.clicks.length-1];if(r&&Math.abs(e-r.x)+Math.abs(t-r.y)<30&&i-r.timestamp<1e3){if(this.clicks.push({x:e,y:t,timestamp:i}),3===this.clicks.length)return!0}else this.clicks=[{x:e,y:t,timestamp:i}];return!1}}var Bn=te(\"[Dead Clicks]\"),Hn=()=>!0,Un=e=>{var t,i=!(null===(t=e.instance.persistence)||void 0===t||!t.get_property(ve)),r=e.instance.config.capture_dead_clicks;return K(r)?r:i};class jn{get lazyLoadedDeadClicksAutocapture(){return this._lazyLoadedDeadClicksAutocapture}constructor(e,t,i){this.instance=e,this.isEnabled=t,this.onCapture=i,this.startIfEnabled()}onRemoteConfig(e){this.instance.persistence&&this.instance.persistence.register({[ve]:null==e?void 0:e.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.loadScript((()=>{this.start()}))}loadScript(e){var t,i,r;null!==(t=_.__PosthogExtensions__)&&void 0!==t&&t.initDeadClicksAutocapture&&e(),null===(i=_.__PosthogExtensions__)||void 0===i||null===(r=i.loadExternalDependency)||void 0===r||r.call(i,this.instance,\"dead-clicks-autocapture\",(t=>{t?Bn.error(\"failed to load script\",t):e()}))}start(){var e;if(a){if(!this._lazyLoadedDeadClicksAutocapture&&null!==(e=_.__PosthogExtensions__)&&void 0!==e&&e.initDeadClicksAutocapture){var t=U(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};t.__onCapture=this.onCapture,this._lazyLoadedDeadClicksAutocapture=_.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,t),this._lazyLoadedDeadClicksAutocapture.start(a),Bn.info(\"starting...\")}}else Bn.error(\"`document` not found. Cannot start.\")}stop(){this._lazyLoadedDeadClicksAutocapture&&(this._lazyLoadedDeadClicksAutocapture.stop(),this._lazyLoadedDeadClicksAutocapture=void 0,Bn.info(\"stopping...\"))}}var zn=te(\"[Heatmaps]\");function Wn(e){return U(e)&&\"clientX\"in e&&\"clientY\"in e&&Y(e.clientX)&&Y(e.clientY)}class Vn{constructor(e){var i;oe(this,\"rageclicks\",new qn),oe(this,\"_enabledServerSide\",!1),oe(this,\"_initialized\",!1),oe(this,\"_flushInterval\",null),this.instance=e,this._enabledServerSide=!(null===(i=this.instance.persistence)||void 0===i||!i.props[he]),R(t,\"beforeunload\",this.flush)}get flushIntervalMilliseconds(){var e=5e3;return U(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(e=this.instance.config.capture_heatmaps.flush_interval_milliseconds),e}get isEnabled(){return z(this.instance.config.capture_heatmaps)?z(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps:!1!==this.instance.config.capture_heatmaps}startIfEnabled(){if(this.isEnabled){if(this._initialized)return;zn.info(\"starting...\"),this._setupListeners(),this._flushInterval=setInterval(this.flush.bind(this),this.flushIntervalMilliseconds)}else{var e,t;clearInterval(null!==(e=this._flushInterval)&&void 0!==e?e:void 0),null===(t=this.deadClicksCapture)||void 0===t||t.stop(),this.getAndClearBuffer()}}onRemoteConfig(e){var t=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register({[he]:t}),this._enabledServerSide=t,this.startIfEnabled()}getAndClearBuffer(){var e=this.buffer;return this.buffer=void 0,e}_onDeadClick(e){this._onClick(e.originalEvent,\"deadclick\")}_setupListeners(){t&&a&&(R(a,\"click\",(e=>this._onClick(e||(null==t?void 0:t.event))),{capture:!0}),R(a,\"mousemove\",(e=>this._onMouseMove(e||(null==t?void 0:t.event))),{capture:!0}),this.deadClicksCapture=new jn(this.instance,Hn,this._onDeadClick.bind(this)),this.deadClicksCapture.startIfEnabled(),this._initialized=!0)}_getProperties(e,i){var r=this.instance.scrollManager.scrollY(),s=this.instance.scrollManager.scrollX(),n=this.instance.scrollManager.scrollElement(),o=function(e,i,r){for(var s=e;s&&$i(s)&&!Oi(s,\"body\");){if(s===r)return!1;if($(i,null==t?void 0:t.getComputedStyle(s).position))return!0;s=ji(s)}return!1}(Hi(e),[\"fixed\",\"sticky\"],n);return{x:e.clientX+(o?0:s),y:e.clientY+(o?0:r),target_fixed:o,type:i}}_onClick(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"click\";if(!Ri(e.target)&&Wn(e)){var r=this._getProperties(e,i);null!==(t=this.rageclicks)&&void 0!==t&&t.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this._capture(ne(ne({},r),{},{type:\"rageclick\"})),this._capture(r)}}_onMouseMove(e){!Ri(e.target)&&Wn(e)&&(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout((()=>{this._capture(this._getProperties(e,\"mousemove\"))}),500))}_capture(e){if(t){var i=t.location.href;this.buffer=this.buffer||{},this.buffer[i]||(this.buffer[i]=[]),this.buffer[i].push(e)}}flush(){this.buffer&&!j(this.buffer)&&this.instance.capture(\"$$heatmap\",{$heatmap_data:this.getAndClearBuffer()})}}class Gn{constructor(e){oe(this,\"_updateScrollData\",(()=>{var e,t,i,r;this.context||(this.context={});var s=this.scrollElement(),n=this.scrollY(),o=s?Math.max(0,s.scrollHeight-s.clientHeight):0,a=n+((null==s?void 0:s.clientHeight)||0),l=(null==s?void 0:s.scrollHeight)||0;this.context.lastScrollY=Math.ceil(n),this.context.maxScrollY=Math.max(n,null!==(e=this.context.maxScrollY)&&void 0!==e?e:0),this.context.maxScrollHeight=Math.max(o,null!==(t=this.context.maxScrollHeight)&&void 0!==t?t:0),this.context.lastContentY=a,this.context.maxContentY=Math.max(a,null!==(i=this.context.maxContentY)&&void 0!==i?i:0),this.context.maxContentHeight=Math.max(l,null!==(r=this.context.maxContentHeight)&&void 0!==r?r:0)})),this.instance=e}getContext(){return this.context}resetContext(){var e=this.context;return setTimeout(this._updateScrollData,0),e}startMeasuringScrollPosition(){R(t,\"scroll\",this._updateScrollData,{capture:!0}),R(t,\"scrollend\",this._updateScrollData,{capture:!0}),R(t,\"resize\",this._updateScrollData)}scrollElement(){if(!this.instance.config.scroll_root_selector)return null==t?void 0:t.document.documentElement;var e=B(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector];for(var i of e){var r=null==t?void 0:t.document.querySelector(i);if(r)return r}}scrollY(){if(this.instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return t&&(t.scrollY||t.pageYOffset||t.document.documentElement.scrollTop)||0}scrollX(){if(this.instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return t&&(t.scrollX||t.pageXOffset||t.document.documentElement.scrollLeft)||0}}var Jn=te(\"[AutoCapture]\");function Yn(e,t){return t.length>e?t.slice(0,e)+\"...\":t}function Kn(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do{t=t.previousSibling}while(t&&!$i(t));return t}function Xn(e,t,i,r){var s=e.tagName.toLowerCase(),n={tag_name:s};Ui.indexOf(s)>-1&&!i&&(\"a\"===s.toLowerCase()||\"button\"===s.toLowerCase()?n.$el_text=Yn(1024,er(e)):n.$el_text=Yn(1024,Bi(e)));var o=Ni(e);o.length>0&&(n.classes=o.filter((function(e){return\"\"!==e}))),y(e.attributes,(function(i){var s;if((!Vi(e)||-1!==[\"name\",\"id\",\"class\",\"aria-label\"].indexOf(i.name))&&((null==r||!r.includes(i.name))&&!t&&Zi(i.value)&&(s=i.name,!W(s)||\"_ngcontent\"!==s.substring(0,10)&&\"_nghost\"!==s.substring(0,7)))){var o=i.value;\"class\"===i.name&&(o=Li(o).join(\" \")),n[\"attr__\"+i.name]=Yn(1024,o)}}));for(var a=1,l=1,u=e;u=Kn(u);)a++,u.tagName===e.tagName&&l++;return n.nth_child=a,n.nth_of_type=l,n}function Qn(e,i){for(var r,s,{e:n,maskAllElementAttributes:o,maskAllText:a,elementAttributeIgnoreList:l,elementsChainAsString:u}=i,c=[e],d=e;d.parentNode&&!Oi(d,\"body\");)Ai(d.parentNode)?(c.push(d.parentNode.host),d=d.parentNode.host):(c.push(d.parentNode),d=d.parentNode);var h,_=[],p={},v=!1,g=!1;if(y(c,(e=>{var t=Wi(e);\"a\"===e.tagName.toLowerCase()&&(v=e.getAttribute(\"href\"),v=t&&v&&Zi(v)&&v),$(Ni(e),\"ph-no-capture\")&&(g=!0),_.push(Xn(e,o,a,l));var i=function(e){if(!Wi(e))return{};var t={};return y(e.attributes,(function(e){if(e.name&&0===e.name.indexOf(\"data-ph-capture-attribute\")){var i=e.name.replace(\"data-ph-capture-attribute-\",\"\"),r=e.value;i&&r&&Zi(r)&&(t[i]=r)}})),t}(e);w(p,i)})),g)return{props:{},explicitNoCapture:g};if(a||(\"a\"===e.tagName.toLowerCase()||\"button\"===e.tagName.toLowerCase()?_[0].$el_text=er(e):_[0].$el_text=Bi(e)),v){var f,m;_[0].attr__href=v;var b=null===(f=yt(v))||void 0===f?void 0:f.host,S=null==t||null===(m=t.location)||void 0===m?void 0:m.host;b&&S&&b!==S&&(h=v)}return{props:w({$event_type:n.type,$ce_version:1},u?{}:{$elements:_},{$elements_chain:ir(_)},null!==(r=_[0])&&void 0!==r&&r.$el_text?{$el_text:null===(s=_[0])||void 0===s?void 0:s.$el_text}:{},h&&\"click\"===n.type?{$external_click_url:h}:{},p)}}class Zn{constructor(e){oe(this,\"_initialized\",!1),oe(this,\"_isDisabledServerSide\",null),oe(this,\"rageclicks\",new qn),oe(this,\"_elementsChainAsString\",!1),this.instance=e,this._elementSelectors=null}get config(){var e,t,i=U(this.instance.config.autocapture)?this.instance.config.autocapture:{};return i.url_allowlist=null===(e=i.url_allowlist)||void 0===e?void 0:e.map((e=>new RegExp(e))),i.url_ignorelist=null===(t=i.url_ignorelist)||void 0===t?void 0:t.map((e=>new RegExp(e))),i}_addDomEventHandlers(){if(this.isBrowserSupported()){if(t&&a){var e=e=>{e=e||(null==t?void 0:t.event);try{this._captureEvent(e)}catch(e){Jn.error(\"Failed to capture event\",e)}};if(R(a,\"submit\",e,{capture:!0}),R(a,\"change\",e,{capture:!0}),R(a,\"click\",e,{capture:!0}),this.config.capture_copied_text){var i=e=>{e=e||(null==t?void 0:t.event),this._captureEvent(e,v)};R(a,\"copy\",i,{capture:!0}),R(a,\"cut\",i,{capture:!0})}}}else Jn.info(\"Disabling Automatic Event Collection because this browser is not supported\")}startIfEnabled(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}onRemoteConfig(e){e.elementsChainAsString&&(this._elementsChainAsString=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[de]:!!e.autocapture_opt_out}),this._isDisabledServerSide=!!e.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(e){this._elementSelectors=e}getElementSelectors(e){var t,i=[];return null===(t=this._elementSelectors)||void 0===t||t.forEach((t=>{var r=null==a?void 0:a.querySelectorAll(t);null==r||r.forEach((r=>{e===r&&i.push(t)}))})),i}get isEnabled(){var e,t,i=null===(e=this.instance.persistence)||void 0===e?void 0:e.props[de],r=this._isDisabledServerSide;if(G(r)&&!K(i)&&!this.instance.config.advanced_disable_decide)return!1;var s=null!==(t=this._isDisabledServerSide)&&void 0!==t?t:!!i;return!!this.instance.config.autocapture&&!s}_captureEvent(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"$autocapture\";if(this.isEnabled){var r,s=Hi(e);if(Mi(s)&&(s=s.parentNode||null),\"$autocapture\"===i&&\"click\"===e.type&&e instanceof MouseEvent)this.instance.config.rageclick&&null!==(r=this.rageclicks)&&void 0!==r&&r.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this._captureEvent(e,\"$rageclick\");var n=i===v;if(s&&zi(s,e,this.config,n,n?[\"copy\",\"cut\"]:void 0)){var{props:o,explicitNoCapture:a}=Qn(s,{e:e,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.config.element_attribute_ignorelist,elementsChainAsString:this._elementsChainAsString});if(a)return!1;var l=this.getElementSelectors(s);if(l&&l.length>0&&(o.$element_selectors=l),i===v){var u,c=qi(null==t||null===(u=t.getSelection())||void 0===u?void 0:u.toString()),d=e.type||\"clipboard\";if(!c)return!1;o.$selected_content=c,o.$copy_type=d}return this.instance.capture(i,o),!0}}}isBrowserSupported(){return H(null==a?void 0:a.querySelectorAll)}}var eo=te(\"[TracingHeaders]\");class to{constructor(e){oe(this,\"_restoreXHRPatch\",void 0),oe(this,\"_restoreFetchPatch\",void 0),oe(this,\"_startCapturing\",(()=>{var e,t,i,r;z(this._restoreXHRPatch)&&(null===(e=_.__PosthogExtensions__)||void 0===e||null===(t=e.tracingHeadersPatchFns)||void 0===t||t._patchXHR(this.instance.sessionManager));z(this._restoreFetchPatch)&&(null===(i=_.__PosthogExtensions__)||void 0===i||null===(r=i.tracingHeadersPatchFns)||void 0===r||r._patchFetch(this.instance.sessionManager))})),this.instance=e}_loadScript(e){var t,i,r;null!==(t=_.__PosthogExtensions__)&&void 0!==t&&t.tracingHeadersPatchFns&&e(),null===(i=_.__PosthogExtensions__)||void 0===i||null===(r=i.loadExternalDependency)||void 0===r||r.call(i,this.instance,\"tracing-headers\",(t=>{if(t)return eo.error(\"failed to load script\",t);e()}))}startIfEnabledOrStop(){var e,t;this.instance.config.__add_tracing_headers?this._loadScript(this._startCapturing):(null===(e=this._restoreXHRPatch)||void 0===e||e.call(this),null===(t=this._restoreFetchPatch)||void 0===t||t.call(this),this._restoreXHRPatch=void 0,this._restoreFetchPatch=void 0)}}var io;!function(e){e[e.PENDING=-1]=\"PENDING\",e[e.DENIED=0]=\"DENIED\",e[e.GRANTED=1]=\"GRANTED\"}(io||(io={}));class ro{constructor(e){this.instance=e}get config(){return this.instance.config}get consent(){return this.getDnt()?io.DENIED:this.storedConsent}isOptedOut(){return this.consent===io.DENIED||this.consent===io.PENDING&&this.config.opt_out_capturing_by_default}isOptedIn(){return!this.isOptedOut()}optInOut(e){this.storage.set(this.storageKey,e?1:0,this.config.cookie_expiration,this.config.cross_subdomain_cookie,this.config.secure_cookie)}reset(){this.storage.remove(this.storageKey,this.config.cross_subdomain_cookie)}get storageKey(){var{token:e,opt_out_capturing_cookie_prefix:t}=this.instance.config;return(t||\"__ph_opt_in_out_\")+e}get storedConsent(){var e=this.storage.get(this.storageKey);return\"1\"===e?io.GRANTED:\"0\"===e?io.DENIED:io.PENDING}get storage(){if(!this._storage){var e=this.config.opt_out_capturing_persistence_type;this._storage=\"localStorage\"===e?ht:ct;var t=\"localStorage\"===e?ct:ht;t.get(this.storageKey)&&(this._storage.get(this.storageKey)||this.optInOut(\"1\"===t.get(this.storageKey)),t.remove(this.storageKey,this.config.cross_subdomain_cookie))}return this._storage}getDnt(){return!!this.config.respect_dnt&&!!T([null==o?void 0:o.doNotTrack,null==o?void 0:o.msDoNotTrack,_.doNotTrack],(e=>$([!0,1,\"1\",\"yes\"],e)))}}var so=te(\"[ExceptionAutocapture]\");class no{constructor(e){var i;oe(this,\"originalOnUnhandledRejectionHandler\",void 0),oe(this,\"startCapturing\",(()=>{var e,i,r,s;if(t&&this.isEnabled&&!this.hasHandlers&&!this.isCapturing){var n=null===(e=_.__PosthogExtensions__)||void 0===e||null===(i=e.errorWrappingFunctions)||void 0===i?void 0:i.wrapOnError,o=null===(r=_.__PosthogExtensions__)||void 0===r||null===(s=r.errorWrappingFunctions)||void 0===s?void 0:s.wrapUnhandledRejection;if(n&&o)try{this.unwrapOnError=n(this.captureException.bind(this)),this.unwrapUnhandledRejection=o(this.captureException.bind(this))}catch(e){so.error(\"failed to start\",e),this.stopCapturing()}else so.error(\"failed to load error wrapping functions - cannot start\")}})),this.instance=e,this.remoteEnabled=!(null===(i=this.instance.persistence)||void 0===i||!i.props[_e]),this.startIfEnabled()}get isEnabled(){var e;return null!==(e=this.remoteEnabled)&&void 0!==e&&e}get isCapturing(){var e;return!(null==t||null===(e=t.onerror)||void 0===e||!e.__POSTHOG_INSTRUMENTED__)}get hasHandlers(){return this.originalOnUnhandledRejectionHandler||this.unwrapOnError}startIfEnabled(){this.isEnabled&&!this.isCapturing&&(so.info(\"enabled, starting...\"),this.loadScript(this.startCapturing))}loadScript(e){var t,i;this.hasHandlers&&e(),null===(t=_.__PosthogExtensions__)||void 0===t||null===(i=t.loadExternalDependency)||void 0===i||i.call(t,this.instance,\"exception-autocapture\",(t=>{if(t)return so.error(\"failed to load script\",t);e()}))}stopCapturing(){var e,t;null===(e=this.unwrapOnError)||void 0===e||e.call(this),null===(t=this.unwrapUnhandledRejection)||void 0===t||t.call(this)}onRemoteConfig(e){var t=e.autocaptureExceptions;this.remoteEnabled=!!t||!1,this.instance.persistence&&this.instance.persistence.register({[_e]:this.remoteEnabled}),this.startIfEnabled()}captureException(e){var t=this.instance.requestRouter.endpointFor(\"ui\");e.$exception_personURL=\"\".concat(t,\"/project/\").concat(this.instance.config.token,\"/person/\").concat(this.instance.get_distinct_id()),this.instance.exceptions.sendExceptionEvent(e)}}var oo=te(\"[Web Vitals]\"),ao=9e5;class lo{constructor(e){var t;oe(this,\"_enabledServerSide\",!1),oe(this,\"_initialized\",!1),oe(this,\"buffer\",{url:void 0,metrics:[],firstMetricTimestamp:void 0}),oe(this,\"_flushToCapture\",(()=>{clearTimeout(this._delayedFlushTimer),0!==this.buffer.metrics.length&&(this.instance.capture(\"$web_vitals\",this.buffer.metrics.reduce(((e,t)=>ne(ne({},e),{},{[\"$web_vitals_\".concat(t.name,\"_event\")]:ne({},t),[\"$web_vitals_\".concat(t.name,\"_value\")]:t.value})),{})),this.buffer={url:void 0,metrics:[],firstMetricTimestamp:void 0})})),oe(this,\"_addToBuffer\",(e=>{var t,i=null===(t=this.instance.sessionManager)||void 0===t?void 0:t.checkAndGetSessionAndWindowId(!0);if(z(i))oo.error(\"Could not read session ID. Dropping metrics!\");else{this.buffer=this.buffer||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var r=this._currentURL();if(!z(r))if(J(null==e?void 0:e.name)||J(null==e?void 0:e.value))oo.error(\"Invalid metric received\",e);else if(this._maxAllowedValue&&e.value>=this._maxAllowedValue)oo.error(\"Ignoring metric with value >= \"+this._maxAllowedValue,e);else this.buffer.url!==r&&(this._flushToCapture(),this._delayedFlushTimer=setTimeout(this._flushToCapture,this.flushToCaptureTimeoutMs)),z(this.buffer.url)&&(this.buffer.url=r),this.buffer.firstMetricTimestamp=z(this.buffer.firstMetricTimestamp)?Date.now():this.buffer.firstMetricTimestamp,e.attribution&&e.attribution.interactionTargetElement&&(e.attribution.interactionTargetElement=void 0),this.buffer.metrics.push(ne(ne({},e),{},{$current_url:r,$session_id:i.sessionId,$window_id:i.windowId,timestamp:Date.now()})),this.buffer.metrics.length===this.allowedMetrics.length&&this._flushToCapture()}})),oe(this,\"_startCapturing\",(()=>{var e,t,i,r,s=_.__PosthogExtensions__;z(s)||z(s.postHogWebVitalsCallbacks)||({onLCP:e,onCLS:t,onFCP:i,onINP:r}=s.postHogWebVitalsCallbacks),e&&t&&i&&r?(this.allowedMetrics.indexOf(\"LCP\")>-1&&e(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf(\"CLS\")>-1&&t(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf(\"FCP\")>-1&&i(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf(\"INP\")>-1&&r(this._addToBuffer.bind(this)),this._initialized=!0):oo.error(\"web vitals callbacks not loaded - not starting\")})),this.instance=e,this._enabledServerSide=!(null===(t=this.instance.persistence)||void 0===t||!t.props[pe]),this.startIfEnabled()}get allowedMetrics(){var e,t,i=U(this.instance.config.capture_performance)?null===(e=this.instance.config.capture_performance)||void 0===e?void 0:e.web_vitals_allowed_metrics:void 0;return z(i)?(null===(t=this.instance.persistence)||void 0===t?void 0:t.props[ge])||[\"CLS\",\"FCP\",\"INP\",\"LCP\"]:i}get flushToCaptureTimeoutMs(){return(U(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get _maxAllowedValue(){var e=U(this.instance.config.capture_performance)&&Y(this.instance.config.capture_performance.__web_vitals_max_value)?this.instance.config.capture_performance.__web_vitals_max_value:ao;return 0<e&&e<=6e4?ao:e}get isEnabled(){var e=U(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals:void 0;return K(e)?e:this._enabledServerSide}startIfEnabled(){this.isEnabled&&!this._initialized&&(oo.info(\"enabled, starting...\"),this.loadScript(this._startCapturing))}onRemoteConfig(e){var t=U(e.capturePerformance)&&!!e.capturePerformance.web_vitals,i=U(e.capturePerformance)?e.capturePerformance.web_vitals_allowed_metrics:void 0;this.instance.persistence&&(this.instance.persistence.register({[pe]:t}),this.instance.persistence.register({[ge]:i})),this._enabledServerSide=t,this.startIfEnabled()}loadScript(e){var t,i,r;null!==(t=_.__PosthogExtensions__)&&void 0!==t&&t.postHogWebVitalsCallbacks&&e(),null===(i=_.__PosthogExtensions__)||void 0===i||null===(r=i.loadExternalDependency)||void 0===r||r.call(i,this.instance,\"web-vitals\",(t=>{t?oo.error(\"failed to load script\",t):e()}))}_currentURL(){var e=t?t.location.href:void 0;return e||oo.error(\"Could not determine current URL\"),e}}var uo={icontains:(e,i)=>!!t&&i.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,i)=>!!t&&-1===i.href.toLowerCase().indexOf(e.toLowerCase()),regex:(e,i)=>!!t&&A(i.href,e),not_regex:(e,i)=>!!t&&!A(i.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class co{constructor(e){var t=this;oe(this,\"getWebExperimentsAndEvaluateDisplayLogic\",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.getWebExperiments((e=>{co.logInfo(\"retrieved web experiments from the server\"),t._flagToExperiments=new Map,e.forEach((e=>{if(e.feature_flag_key){var i;if(t._flagToExperiments)co.logInfo(\"setting flag key \",e.feature_flag_key,\" to web experiment \",e),null===(i=t._flagToExperiments)||void 0===i||i.set(e.feature_flag_key,e);var r=t.instance.getFeatureFlag(e.feature_flag_key);W(r)&&e.variants[r]&&t.applyTransforms(e.name,r,e.variants[r].transforms)}else if(e.variants)for(var s in e.variants){var n=e.variants[s];co.matchesTestVariant(n)&&t.applyTransforms(e.name,s,n.transforms)}}))}),e)})),this.instance=e,this.instance.onFeatureFlags((e=>{this.onFeatureFlags(e)}))}onFeatureFlags(e){if(this._is_bot())co.logInfo(\"Refusing to render web experiment since the viewer is a likely bot\");else if(!this.instance.config.disable_web_experiments){if(J(this._flagToExperiments))return this._flagToExperiments=new Map,this.loadIfEnabled(),void this.previewWebExperiment();co.logInfo(\"applying feature flags\",e),e.forEach((e=>{var t;if(this._flagToExperiments&&null!==(t=this._flagToExperiments)&&void 0!==t&&t.has(e)){var i,r=this.instance.getFeatureFlag(e),s=null===(i=this._flagToExperiments)||void 0===i?void 0:i.get(e);r&&null!=s&&s.variants[r]&&this.applyTransforms(s.name,r,s.variants[r].transforms)}}))}}previewWebExperiment(){var e=co.getWindowLocation();if(null!=e&&e.search){var t=St(null==e?void 0:e.search,\"__experiment_id\"),i=St(null==e?void 0:e.search,\"__experiment_variant\");t&&i&&(co.logInfo(\"previewing web experiments \".concat(t,\" && \").concat(i)),this.getWebExperiments((e=>{this.showPreviewWebExperiment(parseInt(t),i,e)}),!1,!0))}}loadIfEnabled(){this.instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(e,t,i){if(this.instance.config.disable_web_experiments&&!i)return e([]);var r=this.instance.get_property(\"$web_experiments\");if(r&&!t)return e(r);this.instance._send_request({url:this.instance.requestRouter.endpointFor(\"api\",\"/api/web_experiments/?token=\".concat(this.instance.config.token)),method:\"GET\",callback:t=>{if(200!==t.statusCode||!t.json)return e([]);var i=t.json.experiments||[];return e(i)}})}showPreviewWebExperiment(e,t,i){var r=i.filter((t=>t.id===e));r&&r.length>0&&(co.logInfo(\"Previewing web experiment [\".concat(r[0].name,\"] with variant [\").concat(t,\"]\")),this.applyTransforms(r[0].name,t,r[0].variants[t].transforms))}static matchesTestVariant(e){return!J(e.conditions)&&(co.matchUrlConditions(e)&&co.matchUTMConditions(e))}static matchUrlConditions(e){var t;if(J(e.conditions)||J(null===(t=e.conditions)||void 0===t?void 0:t.url))return!0;var i,r,s,n=co.getWindowLocation();return!!n&&(null===(i=e.conditions)||void 0===i||!i.url||uo[null!==(r=null===(s=e.conditions)||void 0===s?void 0:s.urlMatchType)&&void 0!==r?r:\"icontains\"](e.conditions.url,n))}static getWindowLocation(){return null==t?void 0:t.location}static matchUTMConditions(e){var t;if(J(e.conditions)||J(null===(t=e.conditions)||void 0===t?void 0:t.utm))return!0;var i=Ei.campaignParams();if(i.utm_source){var r,s,n,o,a,l,u,c,d,h,_,p,v,g,f,m,b=null===(r=e.conditions)||void 0===r||null===(s=r.utm)||void 0===s||!s.utm_campaign||(null===(n=e.conditions)||void 0===n||null===(o=n.utm)||void 0===o?void 0:o.utm_campaign)==i.utm_campaign,y=null===(a=e.conditions)||void 0===a||null===(l=a.utm)||void 0===l||!l.utm_source||(null===(u=e.conditions)||void 0===u||null===(c=u.utm)||void 0===c?void 0:c.utm_source)==i.utm_source,w=null===(d=e.conditions)||void 0===d||null===(h=d.utm)||void 0===h||!h.utm_medium||(null===(_=e.conditions)||void 0===_||null===(p=_.utm)||void 0===p?void 0:p.utm_medium)==i.utm_medium,S=null===(v=e.conditions)||void 0===v||null===(g=v.utm)||void 0===g||!g.utm_term||(null===(f=e.conditions)||void 0===f||null===(m=f.utm)||void 0===m?void 0:m.utm_term)==i.utm_term;return b&&w&&S&&y}return!1}static logInfo(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];ee.info(\"[WebExperiments] \".concat(e),i)}applyTransforms(e,t,i){this._is_bot()?co.logInfo(\"Refusing to render web experiment since the viewer is a likely bot\"):\"control\"!==t?i.forEach((i=>{if(i.selector){var r;co.logInfo(\"applying transform of variant \".concat(t,\" for experiment \").concat(e,\" \"),i);var s=null===(r=document)||void 0===r?void 0:r.querySelectorAll(i.selector);null==s||s.forEach((e=>{var t=e;i.attributes&&i.attributes.forEach((e=>{switch(e.name){case\"text\":t.innerText=e.value;break;case\"html\":t.innerHTML=e.value;break;case\"cssClass\":t.className=e.value;break;default:t.setAttribute(e.name,e.value)}})),i.text&&(t.innerText=i.text),i.html&&(t.parentElement?t.parentElement.innerHTML=i.html:t.innerHTML=i.html),i.css&&t.setAttribute(\"style\",i.css)}))}})):co.logInfo(\"Control variants leave the page unmodified.\")}_is_bot(){return o&&this.instance?Nn(o,this.instance.config.custom_blocked_useragents):void 0}}class ho{constructor(e){this.instance=e}sendExceptionEvent(e){this.instance.capture(\"$exception\",e,{_noTruncate:!0,_batchKey:\"exceptionEvent\"})}}var _o=[\"$set_once\",\"$set\"],po=te(\"[SiteApps]\");class vo{constructor(e){this.instance=e,this.bufferedInvocations=[],this.apps={}}get isEnabled(){return!!this.instance.config.opt_in_site_apps}eventCollector(e,t){if(t){var i=this.globalsForEvent(t);this.bufferedInvocations.push(i),this.bufferedInvocations.length>1e3&&(this.bufferedInvocations=this.bufferedInvocations.slice(10))}}get siteAppLoaders(){var e,t;return null===(e=_._POSTHOG_REMOTE_CONFIG)||void 0===e||null===(t=e[this.instance.config.token])||void 0===t?void 0:t.siteApps}init(){if(this.isEnabled){var e=this.instance._addCaptureHook(this.eventCollector.bind(this));this.stopBuffering=()=>{e(),this.bufferedInvocations=[],this.stopBuffering=void 0}}}globalsForEvent(e){var t,i,r,s,n,o,a;if(!e)throw new Error(\"Event payload is required\");var l={},u=this.instance.get_property(\"$groups\")||[],c=this.instance.get_property(\"$stored_group_properties\")||{};for(var[d,h]of Object.entries(c))l[d]={id:u[d],type:d,properties:h};var{$set_once:_,$set:p}=e;return{event:ne(ne({},ae(e,_o)),{},{properties:ne(ne(ne({},e.properties),p?{$set:ne(ne({},null!==(t=null===(i=e.properties)||void 0===i?void 0:i.$set)&&void 0!==t?t:{}),p)}:{}),_?{$set_once:ne(ne({},null!==(r=null===(s=e.properties)||void 0===s?void 0:s.$set_once)&&void 0!==r?r:{}),_)}:{}),elements_chain:null!==(n=null===(o=e.properties)||void 0===o?void 0:o.$elements_chain)&&void 0!==n?n:\"\",distinct_id:null===(a=e.properties)||void 0===a?void 0:a.distinct_id}),person:{properties:this.instance.get_property(\"$stored_person_properties\")},groups:l}}setupSiteApp(e){var t={id:e.id,loaded:!1,errored:!1};this.apps[e.id]=t;var i=i=>{var r;for(var s of(this.apps[e.id].errored=!i,this.apps[e.id].loaded=!0,po.info(\"Site app with id \".concat(e.id,\" \").concat(i?\"loaded\":\"errored\")),i&&this.bufferedInvocations.length&&(po.info(\"Processing \".concat(this.bufferedInvocations.length,\" events for site app with id \").concat(e.id)),this.bufferedInvocations.forEach((e=>{var i;return null===(i=t.processEvent)||void 0===i?void 0:i.call(t,e)}))),Object.values(this.apps)))if(!s.loaded)return;null===(r=this.stopBuffering)||void 0===r||r.call(this)};try{var{processEvent:r}=e.init({posthog:this.instance,callback:e=>{i(e)}});r&&(t.processEvent=r)}catch(t){po.error(\"Error while initializing PostHog app with config id \".concat(e.id),t),i(!1)}}onCapturedEvent(e){if(0!==Object.keys(this.apps).length){var t=this.globalsForEvent(e);for(var i of Object.values(this.apps))try{var r;null===(r=i.processEvent)||void 0===r||r.call(i,t)}catch(t){po.error(\"Error while processing event \".concat(e.event,\" for site app \").concat(i.id),t)}}}onRemoteConfig(e){var t,i,r,s=this;if(null!==(t=this.siteAppLoaders)&&void 0!==t&&t.length){if(!this.isEnabled)return void po.error('PostHog site apps are disabled. Enable the \"opt_in_site_apps\" config to proceed.');for(var n of this.siteAppLoaders)this.setupSiteApp(n);this.instance.on(\"eventCaptured\",(e=>this.onCapturedEvent(e)))}else if(null===(i=this.stopBuffering)||void 0===i||i.call(this),null!==(r=e.siteApps)&&void 0!==r&&r.length)if(this.isEnabled){var o=function(e,t){var i,r;_[\"__$$ph_site_app_\".concat(e)]=s.instance,null===(i=_.__PosthogExtensions__)||void 0===i||null===(r=i.loadSiteApp)||void 0===r||r.call(i,s.instance,t,(t=>{if(t)return po.error(\"Error while initializing PostHog app with config id \".concat(e),t)}))};for(var{id:a,url:l}of e.siteApps)o(a,l)}else po.error('PostHog site apps are disabled. Enable the \"opt_in_site_apps\" config to proceed.')}}function go(e,t,i){return ks({distinct_id:e,userPropertiesToSet:t,userPropertiesToSetOnce:i})}var fo={},mo=()=>{},bo=\"posthog\",yo=!ys&&-1===(null==h?void 0:h.indexOf(\"MSIE\"))&&-1===(null==h?void 0:h.indexOf(\"Mozilla\")),wo=()=>{var e;return{api_host:\"https://us.i.posthog.com\",ui_host:null,token:\"\",autocapture:!0,rageclick:!0,cross_subdomain_cookie:F(null==a?void 0:a.location),persistence:\"localStorage+cookie\",persistence_name:\"\",loaded:mo,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:\"if_capture_pageview\",debug:l&&W(null==l?void 0:l.search)&&-1!==l.search.indexOf(\"__posthog_debug=true\")||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:\"https:\"===(null==t||null===(e=t.location)||void 0===e?void 0:e.protocol),ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:\"localStorage\",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,on_request_error:e=>{var t=\"Bad HTTP status: \"+e.statusCode+\" \"+e.text;ee.error(t)},get_device_id:e=>e,capture_performance:void 0,name:\"posthog\",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:\"identified_only\",before_send:void 0,request_queue_config:{flush_interval_ms:fs},_onCapture:mo}},So=e=>{var t={};z(e.process_person)||(t.person_profiles=e.process_person),z(e.xhr_headers)||(t.request_headers=e.xhr_headers),z(e.cookie_name)||(t.persistence_name=e.cookie_name),z(e.disable_cookie)||(t.disable_persistence=e.disable_cookie),z(e.store_google)||(t.save_campaign_params=e.store_google),z(e.verbose)||(t.debug=e.verbose);var i=w({},t,e);return B(e.property_blacklist)&&(z(e.property_denylist)?i.property_denylist=e.property_blacklist:B(e.property_denylist)?i.property_denylist=[...e.property_blacklist,...e.property_denylist]:ee.error(\"Invalid value for property_denylist config: \"+e.property_denylist)),i};class ko{constructor(){oe(this,\"__forceAllowLocalhost\",!1)}get _forceAllowLocalhost(){return this.__forceAllowLocalhost}set _forceAllowLocalhost(e){ee.error(\"WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`\"),this.__forceAllowLocalhost=e}}class Eo{get decideEndpointWasHit(){var e,t;return null!==(e=null===(t=this.featureFlags)||void 0===t?void 0:t.hasLoadedFlags)&&void 0!==e&&e}constructor(){oe(this,\"webPerformance\",new ko),oe(this,\"version\",p.LIB_VERSION),oe(this,\"_internalEventEmitter\",new En),this.config=wo(),this.SentryIntegration=As,this.sentryIntegration=e=>function(e,t){var i=Ms(e,t);return{name:Os,processEvent:e=>i(e)}}(this,e),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint=\"/e/\",this._initialPageviewCaptured=!1,this._initialPersonProfilesConfig=null,this._cachedIdentify=null,this.featureFlags=new Xe(this),this.toolbar=new gs(this),this.scrollManager=new Gn(this),this.pageViewManager=new Ns(this),this.surveys=new Rn(this),this.experiments=new co(this),this.exceptions=new ho(this),this.rateLimiter=new On(this),this.requestRouter=new $s(this),this.consent=new ro(this),this.people={set:(e,t,i)=>{var r=W(e)?{[e]:t}:e;this.setPersonProperties(r),null==i||i({})},set_once:(e,t,i)=>{var r=W(e)?{[e]:t}:e;this.setPersonProperties(void 0,r),null==i||i({})}},this.on(\"eventCaptured\",(e=>ee.info('send \"'.concat(null==e?void 0:e.event,'\"'),e)))}init(e,t,i){if(i&&i!==bo){var r,s=null!==(r=fo[i])&&void 0!==r?r:new Eo;return s._init(e,t,i),fo[i]=s,fo[bo][i]=s,s}return this._init(e,t,i)}_init(i){var r,s,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;if(z(i)||V(i))return ee.critical(\"PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()\"),this;if(this.__loaded)return ee.warn(\"You have already initialized PostHog! Re-initializing is a no-op\"),this;this.__loaded=!0,this.config={},this._triggered_notifs=[],n.person_profiles&&(this._initialPersonProfilesConfig=n.person_profiles),this.set_config(w({},wo(),So(n),{name:o,token:i})),this.config.on_xhr_error&&ee.error(\"on_xhr_error is deprecated. Use on_request_error instead\"),this.compression=n.disable_compression?void 0:e.GZipJS,this.persistence=new Ii(this.config),this.sessionPersistence=\"sessionStorage\"===this.config.persistence||\"memory\"===this.config.persistence?this.persistence:new Ii(ne(ne({},this.config),{},{persistence:\"sessionStorage\"}));var a=ne({},this.persistence.props),l=ne({},this.sessionPersistence.props);if(this._requestQueue=new ms((e=>this._send_retriable_request(e)),this.config.request_queue_config),this._retryQueue=new Cs(this),this.__request_queue=[],this.config.__preview_experimental_cookieless_mode||(this.sessionManager=new Ts(this),this.sessionPropsManager=new An(this,this.sessionManager,this.persistence)),new to(this).startIfEnabledOrStop(),this.siteApps=new vo(this),null===(r=this.siteApps)||void 0===r||r.init(),this.config.__preview_experimental_cookieless_mode||(this.sessionRecording=new us(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new Zn(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new Vn(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new lo(this),this.exceptionObserver=new no(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new jn(this,Un),this.deadClicksAutocapture.startIfEnabled(),p.DEBUG=p.DEBUG||this.config.debug,p.DEBUG&&ee.info(\"Starting in debug mode\",{this:this,config:n,thisC:ne({},this.config),p:a,s:l}),this._sync_opt_out_with_persistence(),void 0!==(null===(s=n.bootstrap)||void 0===s?void 0:s.distinctID)){var u,c,d=this.config.get_device_id(st()),h=null!==(u=n.bootstrap)&&void 0!==u&&u.isIdentifiedID?d:n.bootstrap.distinctID;this.persistence.set_property(Ae,null!==(c=n.bootstrap)&&void 0!==c&&c.isIdentifiedID?\"identified\":\"anonymous\"),this.register({distinct_id:n.bootstrap.distinctID,$device_id:h})}if(this._hasBootstrappedFeatureFlags()){var _,v,g=Object.keys((null===(_=n.bootstrap)||void 0===_?void 0:_.featureFlags)||{}).filter((e=>{var t,i;return!(null===(t=n.bootstrap)||void 0===t||null===(i=t.featureFlags)||void 0===i||!i[e])})).reduce(((e,t)=>{var i,r;return e[t]=(null===(i=n.bootstrap)||void 0===i||null===(r=i.featureFlags)||void 0===r?void 0:r[t])||!1,e}),{}),f=Object.keys((null===(v=n.bootstrap)||void 0===v?void 0:v.featureFlagPayloads)||{}).filter((e=>g[e])).reduce(((e,t)=>{var i,r,s,o;null!==(i=n.bootstrap)&&void 0!==i&&null!==(r=i.featureFlagPayloads)&&void 0!==r&&r[t]&&(e[t]=null===(s=n.bootstrap)||void 0===s||null===(o=s.featureFlagPayloads)||void 0===o?void 0:o[t]);return e}),{});this.featureFlags.receivedFeatureFlags({featureFlags:g,featureFlagPayloads:f})}if(this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:je,$device_id:null},\"\");else if(!this.get_distinct_id()){var m=this.config.get_device_id(st());this.register_once({distinct_id:m,$device_id:m},\"\"),this.persistence.set_property(Ae,\"anonymous\")}return R(t,\"onpagehide\"in self?\"pagehide\":\"unload\",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),n.segment?Ds(this,(()=>this._loaded())):this._loaded(),H(this.config._onCapture)&&this.config._onCapture!==mo&&(ee.warn(\"onCapture is deprecated. Please use `before_send` instead\"),this.on(\"eventCaptured\",(e=>this.config._onCapture(e.event,e)))),this}_onRemoteConfig(t){var i,r,s,n,o,l,u,c;if(!a||!a.body)return ee.info(\"document not ready yet, trying again in 500 milliseconds...\"),void setTimeout((()=>{this._onRemoteConfig(t)}),500);this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=$(t.supportedCompression,e.GZipJS)?e.GZipJS:$(t.supportedCompression,e.Base64)?e.Base64:void 0),null!==(i=t.analytics)&&void 0!==i&&i.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this._initialPersonProfilesConfig?this._initialPersonProfilesConfig:\"identified_only\"}),null===(r=this.siteApps)||void 0===r||r.onRemoteConfig(t),null===(s=this.sessionRecording)||void 0===s||s.onRemoteConfig(t),null===(n=this.autocapture)||void 0===n||n.onRemoteConfig(t),null===(o=this.heatmaps)||void 0===o||o.onRemoteConfig(t),this.surveys.onRemoteConfig(t),null===(l=this.webVitalsAutocapture)||void 0===l||l.onRemoteConfig(t),null===(u=this.exceptionObserver)||void 0===u||u.onRemoteConfig(t),null===(c=this.deadClicksAutocapture)||void 0===c||c.onRemoteConfig(t)}_loaded(){try{this.config.loaded(this)}catch(e){ee.critical(\"`loaded` function failed\",e)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout((()=>{this.consent.isOptedIn()&&this._captureInitialPageview()}),1),new ds(this).load(),this.featureFlags.decide()}_start_queue_if_opted_in(){var e;this.has_opted_out_capturing()||this.config.request_batching&&(null===(e=this._requestQueue)||void 0===e||e.enable())}_dom_loaded(){this.has_opted_out_capturing()||b(this.__request_queue,(e=>this._send_retriable_request(e))),this.__request_queue=[],this._start_queue_if_opted_in()}_handle_unload(){var e,t;this.config.request_batching?(this._shouldCapturePageleave()&&this.capture(\"$pageleave\"),null===(e=this._requestQueue)||void 0===e||e.unload(),null===(t=this._retryQueue)||void 0===t||t.unload()):this._shouldCapturePageleave()&&this.capture(\"$pageleave\",null,{transport:\"sendBeacon\"})}_send_request(e){this.__loaded&&(yo?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=Ss(e.url,{ip:this.config.ip?1:0}),e.headers=ne({},this.config.request_headers),e.compression=\"best-available\"===e.compression?this.compression:e.compression,e.fetchOptions=e.fetchOptions||this.config.fetch_options,(e=>{var t,i,r,s=ne({},e);s.timeout=s.timeout||6e4,s.url=Ss(s.url,{_:(new Date).getTime().toString(),ver:p.LIB_VERSION,compression:s.compression});var n=null!==(t=s.transport)&&void 0!==t?t:\"fetch\",o=null!==(i=null===(r=T(xs,(e=>e.transport===n)))||void 0===r?void 0:r.method)&&void 0!==i?i:xs[0].method;if(!o)throw new Error(\"No available transport method\");o(s)})(ne(ne({},e),{},{callback:t=>{var i,r,s;(this.rateLimiter.checkForLimiting(t),t.statusCode>=400)&&(null===(r=(s=this.config).on_request_error)||void 0===r||r.call(s,t));null===(i=e.callback)||void 0===i||i.call(e,t)}}))))}_send_retriable_request(e){this._retryQueue?this._retryQueue.retriableRequest(e):this._send_request(e)}_execute_array(e){var t,i=[],r=[],s=[];b(e,(e=>{e&&(t=e[0],B(t)?s.push(e):H(e)?e.call(this):B(e)&&\"alias\"===t?i.push(e):B(e)&&-1!==t.indexOf(\"capture\")&&H(this[t])?s.push(e):r.push(e))}));var n=function(e,t){b(e,(function(e){if(B(e[0])){var i=t;y(e,(function(e){i=i[e[0]].apply(i,e.slice(1))}))}else this[e[0]].apply(this,e.slice(1))}),t)};n(i,this),n(r,this),n(s,this)}_hasBootstrappedFeatureFlags(){var e,t;return(null===(e=this.config.bootstrap)||void 0===e?void 0:e.featureFlags)&&Object.keys(null===(t=this.config.bootstrap)||void 0===t?void 0:t.featureFlags).length>0||!1}push(e){this._execute_array([e])}capture(e,t,i){var r;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue){if(!this.consent.isOptedOut())if(!z(e)&&W(e)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var s=null!=i&&i.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(null==s||!s.isRateLimited){this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var n=new Date,o=(null==i?void 0:i.timestamp)||n,a=st(),l={uuid:a,event:e,properties:this._calculate_event_properties(e,t||{},o,a)};s&&(l.properties.$lib_rate_limit_remaining_tokens=s.remainingTokens),(null==i?void 0:i.$set)&&(l.$set=null==i?void 0:i.$set);var u=this._calculate_set_once_properties(null==i?void 0:i.$set_once);u&&(l.$set_once=u),(l=C(l,null!=i&&i._noTruncate?null:this.config.properties_string_max_length)).timestamp=o,z(null==i?void 0:i.timestamp)||(l.properties.$event_time_override_provided=!0,l.properties.$event_time_override_system_time=n);var c=ne(ne({},l.properties.$set),l.$set);if(j(c)||this.setPersonPropertiesForFlags(c),!J(this.config.before_send)){var d=this._runBeforeSend(l);if(!d)return;l=d}this._internalEventEmitter.emit(\"eventCaptured\",l);var h={method:\"POST\",url:null!==(r=null==i?void 0:i._url)&&void 0!==r?r:this.requestRouter.endpointFor(\"api\",this.analyticsDefaultEndpoint),data:l,compression:\"best-available\",batchKey:null==i?void 0:i._batchKey};return!this.config.request_batching||i&&(null==i||!i._batchKey)||null!=i&&i.send_instantly?this._send_retriable_request(h):this._requestQueue.enqueue(h),l}ee.critical(\"This capture call is ignored due to client rate limiting.\")}}else ee.error(\"No event name provided to posthog.capture\")}else ee.uninitializedWarning(\"posthog.capture\")}_addCaptureHook(e){return this.on(\"eventCaptured\",(t=>e(t.event,t)))}_calculate_event_properties(e,t,i,r){if(i=i||new Date,!this.persistence||!this.sessionPersistence)return t;var s=this.persistence.remove_event_timer(e),n=ne({},t);if(n.token=this.config.token,this.config.__preview_experimental_cookieless_mode&&(n.$cookieless_mode=!0),\"$snapshot\"===e){var o=ne(ne({},this.persistence.properties()),this.sessionPersistence.properties());return n.distinct_id=o.distinct_id,(!W(n.distinct_id)&&!Y(n.distinct_id)||V(n.distinct_id))&&ee.error(\"Invalid distinct_id for replay event. This indicates a bug in your implementation\"),n}var l,u=Ei.properties({maskPersonalDataProperties:this.config.mask_personal_data_properties,customPersonalDataProperties:this.config.custom_personal_data_properties});if(this.sessionManager){var{sessionId:c,windowId:d}=this.sessionManager.checkAndGetSessionAndWindowId();n.$session_id=c,n.$window_id=d}if(this.sessionRecording&&(n.$recording_status=this.sessionRecording.status),this.requestRouter.region===Ps.CUSTOM&&(n.$lib_custom_api_host=this.config.api_host),l=\"$pageview\"===e?this.pageViewManager.doPageView(i,r):\"$pageleave\"===e?this.pageViewManager.doPageLeave(i):this.pageViewManager.doEvent(),n=w(n,l),\"$pageview\"===e&&a&&(n.title=a.title),!z(s)){var _=i.getTime()-s;n.$duration=parseFloat((_/1e3).toFixed(3))}h&&this.config.opt_out_useragent_filter&&(n.$browser_type=this._is_bot()?\"bot\":\"browser\"),(n=w({},u,this.persistence.properties(),this.sessionPersistence.properties(),n)).$is_identified=this._isIdentified(),B(this.config.property_denylist)?y(this.config.property_denylist,(function(e){delete n[e]})):ee.error(\"Invalid value for property_denylist config: \"+this.config.property_denylist+\" or property_blacklist config: \"+this.config.property_blacklist);var p=this.config.sanitize_properties;p&&(ee.error(\"sanitize_properties is deprecated. Use before_send instead\"),n=p(n,e));var v=this._hasPersonProcessing();return n.$process_person_profile=v,v&&this._requirePersonProcessing(\"_calculate_event_properties\"),n}_calculate_set_once_properties(e){if(!this.persistence||!this._hasPersonProcessing())return e;var t=w({},this.persistence.get_initial_props(),e||{}),i=this.config.sanitize_properties;return i&&(ee.error(\"sanitize_properties is deprecated. Use before_send instead\"),t=i(t,\"$set_once\")),j(t)?void 0:t}register(e,t){var i;null===(i=this.persistence)||void 0===i||i.register(e,t)}register_once(e,t,i){var r;null===(r=this.persistence)||void 0===r||r.register_once(e,t,i)}register_for_session(e){var t;null===(t=this.sessionPersistence)||void 0===t||t.register(e)}unregister(e){var t;null===(t=this.persistence)||void 0===t||t.unregister(e)}unregister_for_session(e){var t;null===(t=this.sessionPersistence)||void 0===t||t.unregister(e)}_register_single(e,t){this.register({[e]:t})}getFeatureFlag(e,t){return this.featureFlags.getFeatureFlag(e,t)}getFeatureFlagPayload(e){var t=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(t)}catch(e){return t}}isFeatureEnabled(e,t){return this.featureFlags.isFeatureEnabled(e,t)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(e,t){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,t)}getEarlyAccessFeatures(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(e,t)}on(e,t){return this._internalEventEmitter.on(e,t)}onFeatureFlags(e){return this.featureFlags.onFeatureFlags(e)}onSessionId(e){var t,i;return null!==(t=null===(i=this.sessionManager)||void 0===i?void 0:i.onSessionId(e))&&void 0!==t?t:()=>{}}getSurveys(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getSurveys(e,t)}getActiveMatchingSurveys(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getActiveMatchingSurveys(e,t)}renderSurvey(e,t){this.surveys.renderSurvey(e,t)}canRenderSurvey(e){this.surveys.canRenderSurvey(e)}getNextSurveyStep(e,t,i){return this.surveys.getNextSurveyStep(e,t,i)}identify(e,t,i){if(!this.__loaded||!this.persistence)return ee.uninitializedWarning(\"posthog.identify\");if(Y(e)&&(e=e.toString(),ee.warn(\"The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.\")),e){if([\"distinct_id\",\"distinctid\"].includes(e.toLowerCase()))ee.critical('The string \"'.concat(e,'\" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else if(this._requirePersonProcessing(\"posthog.identify\")){var r=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property(\"$device_id\")){var s=r;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},\"\")}e!==r&&e!==this.get_property(ue)&&(this.unregister(ue),this.register({distinct_id:e}));var n=\"anonymous\"===(this.persistence.get_property(Ae)||\"anonymous\");e!==r&&n?(this.persistence.set_property(Ae,\"identified\"),this.setPersonPropertiesForFlags(ne(ne({},i||{}),t||{}),!1),this.capture(\"$identify\",{distinct_id:e,$anon_distinct_id:r},{$set:t||{},$set_once:i||{}}),this.featureFlags.setAnonymousDistinctId(r),this._cachedIdentify=go(e,t,i)):(t||i)&&(this._cachedIdentify!==go(e,t,i)?(this.setPersonProperties(t,i),this._cachedIdentify=go(e,t,i)):ee.info(\"A duplicate posthog.identify call was made with the same properties. It has been ignored.\")),e!==r&&(this.reloadFeatureFlags(),this.unregister(Me))}}else ee.error(\"Unique user id has not been set in posthog.identify\")}setPersonProperties(e,t){(e||t)&&this._requirePersonProcessing(\"posthog.setPersonProperties\")&&(this.setPersonPropertiesForFlags(ne(ne({},t||{}),e||{})),this.capture(\"$set\",{$set:e||{},$set_once:t||{}}))}group(e,t,i){if(e&&t){if(this._requirePersonProcessing(\"posthog.group\")){var r=this.getGroups();r[e]!==t&&this.resetGroupPropertiesForFlags(e),this.register({$groups:ne(ne({},r),{},{[e]:t})}),i&&(this.capture(\"$groupidentify\",{$group_type:e,$group_key:t,$group_set:i}),this.setGroupPropertiesForFlags({[e]:i})),r[e]===t||i||this.reloadFeatureFlags()}}else ee.error(\"posthog.group requires a group type and group key\")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.featureFlags.setPersonPropertiesForFlags(e,t)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._requirePersonProcessing(\"posthog.setGroupPropertiesForFlags\")&&this.featureFlags.setGroupPropertiesForFlags(e,t)}resetGroupPropertiesForFlags(e){this.featureFlags.resetGroupPropertiesForFlags(e)}reset(e){var t,i,r,s;if(ee.info(\"reset\"),!this.__loaded)return ee.uninitializedWarning(\"posthog.reset\");var n=this.get_property(\"$device_id\");if(this.consent.reset(),null===(t=this.persistence)||void 0===t||t.clear(),null===(i=this.sessionPersistence)||void 0===i||i.clear(),this.surveys.reset(),null===(r=this.persistence)||void 0===r||r.set_property(Ae,\"anonymous\"),null===(s=this.sessionManager)||void 0===s||s.resetSessionId(),this._cachedIdentify=null,this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:je,$device_id:null},\"\");else{var o=this.config.get_device_id(st());this.register_once({distinct_id:o,$device_id:e?o:n},\"\")}this.register({$last_posthog_reset:(new Date).toISOString()},1)}get_distinct_id(){return this.get_property(\"distinct_id\")}getGroups(){return this.get_property(\"$groups\")||{}}get_session_id(){var e,t;return null!==(e=null===(t=this.sessionManager)||void 0===t?void 0:t.checkAndGetSessionAndWindowId(!0).sessionId)&&void 0!==e?e:\"\"}get_session_replay_url(e){if(!this.sessionManager)return\"\";var{sessionId:t,sessionStartTimestamp:i}=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=this.requestRouter.endpointFor(\"ui\",\"/project/\".concat(this.config.token,\"/replay/\").concat(t));if(null!=e&&e.withTimestamp&&i){var s,n=null!==(s=e.timestampLookBack)&&void 0!==s?s:10;if(!i)return r;var o=Math.max(Math.floor(((new Date).getTime()-i)/1e3)-n,0);r+=\"?t=\".concat(o)}return r}alias(e,t){return e===this.get_property(le)?(ee.critical(\"Attempting to create alias for existing People user - aborting.\"),-2):this._requirePersonProcessing(\"posthog.alias\")?(z(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single(ue,e),this.capture(\"$create_alias\",{alias:e,distinct_id:t})):(ee.warn(\"alias matches current distinct_id - skipping api call.\"),this.identify(e),-1)):void 0}set_config(e){var t,i,r,s,n=ne({},this.config);U(e)&&(w(this.config,So(e)),null===(t=this.persistence)||void 0===t||t.update_config(this.config,n),this.sessionPersistence=\"sessionStorage\"===this.config.persistence||\"memory\"===this.config.persistence?this.persistence:new Ii(ne(ne({},this.config),{},{persistence:\"sessionStorage\"})),ht.is_supported()&&\"true\"===ht.get(\"ph_debug\")&&(this.config.debug=!0),this.config.debug&&(p.DEBUG=!0,ee.info(\"set_config\",{config:e,oldConfig:n,newConfig:ne({},this.config)})),null===(i=this.sessionRecording)||void 0===i||i.startIfEnabledOrStop(),null===(r=this.autocapture)||void 0===r||r.startIfEnabled(),null===(s=this.heatmaps)||void 0===s||s.startIfEnabled(),this.surveys.loadIfEnabled(),this._sync_opt_out_with_persistence())}startSessionRecording(e){var t=!0===e,i={sampling:t||!(null==e||!e.sampling),linked_flag:t||!(null==e||!e.linked_flag),url_trigger:t||!(null==e||!e.url_trigger),event_trigger:t||!(null==e||!e.event_trigger)};if(Object.values(i).some(Boolean)){var r,s,n,o,a;if(null===(r=this.sessionManager)||void 0===r||r.checkAndGetSessionAndWindowId(),i.sampling)null===(s=this.sessionRecording)||void 0===s||s.overrideSampling();if(i.linked_flag)null===(n=this.sessionRecording)||void 0===n||n.overrideLinkedFlag();if(i.url_trigger)null===(o=this.sessionRecording)||void 0===o||o.overrideTrigger(\"url\");if(i.event_trigger)null===(a=this.sessionRecording)||void 0===a||a.overrideTrigger(\"event\")}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var e;return!(null===(e=this.sessionRecording)||void 0===e||!e.started)}captureException(e,t){var i,r=new Error(\"PostHog syntheticException\"),s=H(null===(i=_.__PosthogExtensions__)||void 0===i?void 0:i.parseErrorAsProperties)?ne(ne({},_.__PosthogExtensions__.parseErrorAsProperties([e.message,void 0,void 0,void 0,e],{syntheticException:r})),t):ne({$exception_level:\"error\",$exception_list:[{type:e.name,value:e.message,mechanism:{handled:!0,synthetic:!1}}]},t);this.exceptions.sendExceptionEvent(s)}loadToolbar(e){return this.toolbar.loadToolbar(e)}get_property(e){var t;return null===(t=this.persistence)||void 0===t?void 0:t.props[e]}getSessionProperty(e){var t;return null===(t=this.sessionPersistence)||void 0===t?void 0:t.props[e]}toString(){var e,t=null!==(e=this.config.name)&&void 0!==e?e:bo;return t!==bo&&(t=bo+\".\"+t),t}_isIdentified(){var e,t;return\"identified\"===(null===(e=this.persistence)||void 0===e?void 0:e.get_property(Ae))||\"identified\"===(null===(t=this.sessionPersistence)||void 0===t?void 0:t.get_property(Ae))}_hasPersonProcessing(){var e,t,i,r;return!(\"never\"===this.config.person_profiles||\"identified_only\"===this.config.person_profiles&&!this._isIdentified()&&j(this.getGroups())&&(null===(e=this.persistence)||void 0===e||null===(t=e.props)||void 0===t||!t[ue])&&(null===(i=this.persistence)||void 0===i||null===(r=i.props)||void 0===r||!r[He]))}_shouldCapturePageleave(){return!0===this.config.capture_pageleave||\"if_capture_pageview\"===this.config.capture_pageleave&&this.config.capture_pageview}createPersonProfile(){this._hasPersonProcessing()||this._requirePersonProcessing(\"posthog.createPersonProfile\")&&this.setPersonProperties({},{})}_requirePersonProcessing(e){return\"never\"===this.config.person_profiles?(ee.error(e+' was called, but process_person is set to \"never\". This call will be ignored.'),!1):(this._register_single(He,!0),!0)}_sync_opt_out_with_persistence(){var e,t,i,r,s=this.consent.isOptedOut(),n=this.config.opt_out_persistence_by_default,o=this.config.disable_persistence||s&&!!n;(null===(e=this.persistence)||void 0===e?void 0:e.disabled)!==o&&(null===(i=this.persistence)||void 0===i||i.set_disabled(o));(null===(t=this.sessionPersistence)||void 0===t?void 0:t.disabled)!==o&&(null===(r=this.sessionPersistence)||void 0===r||r.set_disabled(o))}opt_in_capturing(e){var t;(this.consent.optInOut(!0),this._sync_opt_out_with_persistence(),z(null==e?void 0:e.captureEventName)||null!=e&&e.captureEventName)&&this.capture(null!==(t=null==e?void 0:e.captureEventName)&&void 0!==t?t:\"$opt_in\",null==e?void 0:e.captureProperties,{send_instantly:!0});this.config.capture_pageview&&this._captureInitialPageview()}opt_out_capturing(){this.consent.optInOut(!1),this._sync_opt_out_with_persistence()}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}clear_opt_in_out_capturing(){this.consent.reset(),this._sync_opt_out_with_persistence()}_is_bot(){return o?Nn(o,this.config.custom_blocked_useragents):void 0}_captureInitialPageview(){a&&!this._initialPageviewCaptured&&(this._initialPageviewCaptured=!0,this.capture(\"$pageview\",{title:a.title},{send_instantly:!0}))}debug(e){!1===e?(null==t||t.console.log(\"You've disabled debug mode.\"),localStorage&&localStorage.removeItem(\"ph_debug\"),this.set_config({debug:!1})):(null==t||t.console.log(\"You're now in debug mode. All calls to PostHog will be logged in your console.\\nYou can disable this with `posthog.debug(false)`.\"),localStorage&&localStorage.setItem(\"ph_debug\",\"true\"),this.set_config({debug:!0}))}_runBeforeSend(e){if(J(this.config.before_send))return e;var t=B(this.config.before_send)?this.config.before_send:[this.config.before_send],i=e;for(var r of t){if(i=r(i),J(i)){var s=\"Event '\".concat(e.event,\"' was rejected in beforeSend function\");return Q(e.event)?ee.warn(\"\".concat(s,\". This can cause unexpected behavior.\")):ee.info(s),null}i.properties&&!j(i.properties)||ee.warn(\"Event '\".concat(e.event,\"' has no properties after beforeSend function, this is likely an error.\"))}return i}getPageViewId(){var e;return null===(e=this.pageViewManager._currentPageview)||void 0===e?void 0:e.pageViewId}}!function(e,t){for(var i=0;i<t.length;i++)e.prototype[t[i]]=x(e.prototype[t[i]])}(Eo,[\"identify\"]);var xo,Io=(xo=fo[bo]=new Eo,function(){function e(){e.done||(e.done=!0,yo=!1,y(fo,(function(e){e._dom_loaded()})))}null!=a&&a.addEventListener?\"complete\"===a.readyState?e():R(a,\"DOMContentLoaded\",e,{capture:!1}):t&&ee.error(\"Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized\")}(),xo);\n//# sourceMappingURL=module.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcG9zdGhvZy1qcy9kaXN0L21vZHVsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUEsbWFBQW1hLElBQUksK0JBQStCLCtRQUErUSxhQUFhLHFDQUFxQyxTQUFTLEdBQUcsNERBQTRELGtCQUFrQiwyQ0FBMkMsa0VBQWtFLElBQUksMkNBQTJDLGtCQUFrQixVQUFVLHdCQUF3QixTQUFTLDJEQUEyRCxpRUFBaUUsa0JBQWtCLHNEQUFzRCxJQUFJLHdCQUF3Qix3QkFBd0IsMENBQTBDLEtBQUssZUFBZSxzREFBc0QsSUFBSSx3QkFBd0Isd0JBQXdCLGlCQUFpQixVQUFVLEdBQUcsTUFBTSxjQUFjLG1EQUFtRCxJQUFJLHFCQUFxQixTQUFTLGtCQUFrQixJQUFJLFdBQVcsU0FBUyxRQUFRLGVBQWUsa0JBQWtCLElBQUksOENBQThDLElBQUksc0JBQXNCLHVCQUF1QixTQUFTLDhKQUE4SixlQUFlLFNBQVMsMEJBQTBCLDJCQUEyQixNQUFNLGdCQUFnQixxRUFBcUUsOEVBQThFLGFBQWEsU0FBUyxjQUFjLHdCQUF3QixPQUFPLE1BQU0sSUFBSSxVQUFVLG1EQUFtRCxjQUFjLGdDQUFnQyxrQkFBa0IsdUNBQXVDLGlDQUFpQyxTQUFTLGdCQUFnQixZQUFZLFdBQVcsMkJBQTJCLG9CQUFvQixJQUFJLDBCQUEwQixjQUFjLGlDQUFpQyxvQkFBb0IsRUFBRSxnQkFBZ0Isd0JBQXdCLGtCQUFrQiwwREFBMEQsZUFBZSw0QkFBNEIsb0JBQW9CLGdCQUFnQixJQUFJLGNBQWMsU0FBUyxTQUFTLFNBQVMsYUFBYSxJQUFJLDZCQUE2QixTQUFTLFVBQVUscUZBQXFGLG1DQUFtQywyREFBMkQsU0FBUyx1Q0FBdUMsU0FBUyxTQUFTLG1PQUFtTyxPQUFPLGlCQUFpQiw0REFBNEQsMklBQTJJLElBQUksd0JBQXdCLFdBQVcsaUJBQWlCLDhDQUE4QyxJQUFJLHNCQUFzQixtQkFBbUIsaUJBQWlCLDhDQUE4QyxJQUFJLHNCQUFzQixvQkFB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VEFBa1QsMEJBQTBCLDhIQUE4SCxzQkFBc0Isc0hBQXNILEdBQUcsRUFBRSw0QkFBNEIsK0tBQStLLGlDQUFpQywrSEFBK0gsOEhBQThILDRJQUE0SSxvQkFBb0IsTUFBTSwyUEFBMlAsa0JBQWtCLEVBQUUsNkRBQTZELG9CQUFvQixnRUFBZ0UseUJBQXlCLGdDQUFnQywwQkFBMEIsaUNBQWlDLDZCQUE2QiwyREFBMkQsVUFBVSw0REFBNEQsMEJBQTBCLCtGQUErRixjQUFjLEVBQUUsa0JBQWtCLEdBQUcsU0FBUyxpSUFBaUksU0FBUyx1T0FBdU8sU0FBUyxHQUFHLGtCQUFrQix1Q0FBdUMsdUZBQXVGLGdCQUFnQixnQkFBZ0Isd0VBQXdFLGdHQUFnRyw2SUFBNkksU0FBUyxnQkFBZ0IsTUFBTSx5RkFBeUYsZUFBZSxZQUFZLFdBQVcsMkNBQTJDLGtCQUFrQix1Q0FBdUMsYUFBYSwyQ0FBMkMsZ0JBQWdCLElBQUksb0ZBQW9GLFdBQVcsd0dBQXdHLE9BQW9PO0FBQ2o5a0wiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9taW5kLW1lbnRvci8uL25vZGVfbW9kdWxlcy9wb3N0aG9nLWpzL2Rpc3QvbW9kdWxlLmpzPzY4MzQiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGUsdD1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp2b2lkIDAsaT1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOnQscj1BcnJheS5wcm90b3R5cGUscz1yLmZvckVhY2gsbj1yLmluZGV4T2Ysbz1udWxsPT1pP3ZvaWQgMDppLm5hdmlnYXRvcixhPW51bGw9PWk/dm9pZCAwOmkuZG9jdW1lbnQsbD1udWxsPT1pP3ZvaWQgMDppLmxvY2F0aW9uLHU9bnVsbD09aT92b2lkIDA6aS5mZXRjaCxjPW51bGwhPWkmJmkuWE1MSHR0cFJlcXVlc3QmJlwid2l0aENyZWRlbnRpYWxzXCJpbiBuZXcgaS5YTUxIdHRwUmVxdWVzdD9pLlhNTEh0dHBSZXF1ZXN0OnZvaWQgMCxkPW51bGw9PWk/dm9pZCAwOmkuQWJvcnRDb250cm9sbGVyLGg9bnVsbD09bz92b2lkIDA6by51c2VyQWdlbnQsXz1udWxsIT10P3Q6e30scD17REVCVUc6ITEsTElCX1ZFUlNJT046XCIxLjIxNS42XCJ9LHY9XCIkY29weV9hdXRvY2FwdHVyZVwiLGc9W1wiJHNuYXBzaG90XCIsXCIkcGFnZXZpZXdcIixcIiRwYWdlbGVhdmVcIixcIiRzZXRcIixcInN1cnZleSBkaXNtaXNzZWRcIixcInN1cnZleSBzZW50XCIsXCJzdXJ2ZXkgc2hvd25cIixcIiRpZGVudGlmeVwiLFwiJGdyb3VwaWRlbnRpZnlcIixcIiRjcmVhdGVfYWxpYXNcIixcIiQkY2xpZW50X2luZ2VzdGlvbl93YXJuaW5nXCIsXCIkd2ViX2V4cGVyaW1lbnRfYXBwbGllZFwiLFwiJGZlYXR1cmVfZW5yb2xsbWVudF91cGRhdGVcIixcIiRmZWF0dXJlX2ZsYWdfY2FsbGVkXCJdOyFmdW5jdGlvbihlKXtlLkdaaXBKUz1cImd6aXAtanNcIixlLkJhc2U2ND1cImJhc2U2NFwifShlfHwoZT17fSkpO3ZhciBmPVtcImZhdGFsXCIsXCJlcnJvclwiLFwid2FybmluZ1wiLFwibG9nXCIsXCJpbmZvXCIsXCJkZWJ1Z1wiXSxtPXt9O2Z1bmN0aW9uIGIoZSx0LGkpe2lmKEIoZSkpaWYocyYmZS5mb3JFYWNoPT09cyllLmZvckVhY2godCxpKTtlbHNlIGlmKFwibGVuZ3RoXCJpbiBlJiZlLmxlbmd0aD09PStlLmxlbmd0aClmb3IodmFyIHI9MCxuPWUubGVuZ3RoO3I8bjtyKyspaWYociBpbiBlJiZ0LmNhbGwoaSxlW3JdLHIpPT09bSlyZXR1cm59ZnVuY3Rpb24geShlLHQsaSl7aWYoIUooZSkpe2lmKEIoZSkpcmV0dXJuIGIoZSx0LGkpO2lmKFgoZSkpe2Zvcih2YXIgciBvZiBlLmVudHJpZXMoKSlpZih0LmNhbGwoaSxyWzFdLHJbMF0pPT09bSlyZXR1cm59ZWxzZSBmb3IodmFyIHMgaW4gZSlpZihOLmNhbGwoZSxzKSYmdC5jYWxsKGksZVtzXSxzKT09PW0pcmV0dXJufX12YXIgdz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheSh0PjE/dC0xOjApLHI9MTtyPHQ7cisrKWlbci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIGIoaSwoZnVuY3Rpb24odCl7Zm9yKHZhciBpIGluIHQpdm9pZCAwIT09dFtpXSYmKGVbaV09dFtpXSl9KSksZX0sUz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheSh0PjE/dC0xOjApLHI9MTtyPHQ7cisrKWlbci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIGIoaSwoZnVuY3Rpb24odCl7Yih0LChmdW5jdGlvbih0KXtlLnB1c2godCl9KSl9KSksZX07ZnVuY3Rpb24gayhlKXtmb3IodmFyIHQ9T2JqZWN0LmtleXMoZSksaT10Lmxlbmd0aCxyPW5ldyBBcnJheShpKTtpLS07KXJbaV09W3RbaV0sZVt0W2ldXV07cmV0dXJuIHJ9dmFyIEU9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBlKCl9Y2F0Y2goZSl7cmV0dXJufX0seD1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkodCkscj0wO3I8dDtyKyspaVtyXT1hcmd1bWVudHNbcl07cmV0dXJuIGUuYXBwbHkodGhpcyxpKX1jYXRjaChlKXtlZS5jcml0aWNhbChcIkltcGxlbWVudGF0aW9uIGVycm9yLiBQbGVhc2UgdHVybiBvbiBkZWJ1ZyBtb2RlIGFuZCBvcGVuIGEgdGlja2V0IG9uIGh0dHBzOi8vYXBwLnBvc3Rob2cuY29tL2hvbWUjcGFuZWw9c3VwcG9ydCUzQXN1cHBvcnQlM0EuXCIpLGVlLmNyaXRpY2FsKGUpfX19LEk9ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIHkoZSwoZnVuY3Rpb24oZSxpKXtXKGUpJiZlLmxlbmd0aD4wJiYodFtpXT1lKX0pKSx0fTtmdW5jdGlvbiBDKGUsdCl7cmV0dXJuIGk9ZSxyPWU9PlcoZSkmJiFHKHQpP2Uuc2xpY2UoMCx0KTplLHM9bmV3IFNldCxmdW5jdGlvbiBlKHQsaSl7cmV0dXJuIHQhPT1PYmplY3QodCk/cj9yKHQsaSk6dDpzLmhhcyh0KT92b2lkIDA6KHMuYWRkKHQpLEIodCk/KG49W10sYih0LCh0PT57bi5wdXNoKGUodCkpfSkpKToobj17fSx5KHQsKCh0LGkpPT57cy5oYXModCl8fChuW2ldPWUodCxpKSl9KSkpLG4pO3ZhciBufShpKTt2YXIgaSxyLHN9dmFyIFA9W1wiaGVyb2t1YXBwLmNvbVwiLFwidmVyY2VsLmFwcFwiLFwibmV0bGlmeS5hcHBcIl07ZnVuY3Rpb24gRihlKXt2YXIgdD1udWxsPT1lP3ZvaWQgMDplLmhvc3RuYW1lO2lmKCFXKHQpKXJldHVybiExO3ZhciBpPXQuc3BsaXQoXCIuXCIpLnNsaWNlKC0yKS5qb2luKFwiLlwiKTtmb3IodmFyIHIgb2YgUClpZihpPT09cilyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBUKGUsdCl7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKyspaWYodChlW2ldKSlyZXR1cm4gZVtpXX1mdW5jdGlvbiBSKGUsdCxpLHIpe3ZhcntjYXB0dXJlOnM9ITEscGFzc2l2ZTpuPSEwfT1udWxsIT1yP3I6e307bnVsbD09ZXx8ZS5hZGRFdmVudExpc3RlbmVyKHQsaSx7Y2FwdHVyZTpzLHBhc3NpdmU6bn0pfWZ1bmN0aW9uICQoZSx0KXtyZXR1cm4tMSE9PWUuaW5kZXhPZih0KX12YXIgTz1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZyxcIlwiKX0sTT1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9eXFwkLyxcIlwiKX07dmFyIEE9ZnVuY3Rpb24oZSx0KXtpZighZnVuY3Rpb24oZSl7dHJ5e25ldyBSZWdFeHAoZSl9Y2F0Y2goZSl7cmV0dXJuITF9cmV0dXJuITB9KHQpKXJldHVybiExO3RyeXtyZXR1cm4gbmV3IFJlZ0V4cCh0KS50ZXN0KGUpfWNhdGNoKGUpe3JldHVybiExfX0sTD1BcnJheS5pc0FycmF5LEQ9T2JqZWN0LnByb3RvdHlwZSxOPUQuaGFzT3duUHJvcGVydHkscT1ELnRvU3RyaW5nLEI9THx8ZnVuY3Rpb24oZSl7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT09cS5jYWxsKGUpfSxIPWU9PlwiZnVuY3Rpb25cIj09dHlwZW9mIGUsVT1lPT5lPT09T2JqZWN0KGUpJiYhQihlKSxqPWU9PntpZihVKGUpKXtmb3IodmFyIHQgaW4gZSlpZihOLmNhbGwoZSx0KSlyZXR1cm4hMTtyZXR1cm4hMH1yZXR1cm4hMX0sej1lPT52b2lkIDA9PT1lLFc9ZT0+XCJbb2JqZWN0IFN0cmluZ11cIj09cS5jYWxsKGUpLFY9ZT0+VyhlKSYmMD09PWUudHJpbSgpLmxlbmd0aCxHPWU9Pm51bGw9PT1lLEo9ZT0+eihlKXx8RyhlKSxZPWU9PlwiW29iamVjdCBOdW1iZXJdXCI9PXEuY2FsbChlKSxLPWU9PlwiW29iamVjdCBCb29sZWFuXVwiPT09cS5jYWxsKGUpLFg9ZT0+ZSBpbnN0YW5jZW9mIEZvcm1EYXRhLFE9ZT0+JChnLGUpLFo9ZT0+e3ZhciBpPXtfbG9nOmZ1bmN0aW9uKGkpe2lmKHQmJihwLkRFQlVHfHxfLlBPU1RIT0dfREVCVUcpJiYheih0LmNvbnNvbGUpJiZ0LmNvbnNvbGUpe2Zvcih2YXIgcj0oXCJfX3Jyd2ViX29yaWdpbmFsX19cImluIHQuY29uc29sZVtpXT90LmNvbnNvbGVbaV0uX19ycndlYl9vcmlnaW5hbF9fOnQuY29uc29sZVtpXSkscz1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KHM+MT9zLTE6MCksbz0xO288cztvKyspbltvLTFdPWFyZ3VtZW50c1tvXTtyKGUsLi4ubil9fSxpbmZvOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSkscj0wO3I8ZTtyKyspdFtyXT1hcmd1bWVudHNbcl07aS5fbG9nKFwibG9nXCIsLi4udCl9LHdhcm46ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxyPTA7cjxlO3IrKyl0W3JdPWFyZ3VtZW50c1tyXTtpLl9sb2coXCJ3YXJuXCIsLi4udCl9LGVycm9yOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSkscj0wO3I8ZTtyKyspdFtyXT1hcmd1bWVudHNbcl07aS5fbG9nKFwiZXJyb3JcIiwuLi50KX0sY3JpdGljYWw6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheSh0KSxyPTA7cjx0O3IrKylpW3JdPWFyZ3VtZW50c1tyXTtjb25zb2xlLmVycm9yKGUsLi4uaSl9LHVuaW5pdGlhbGl6ZWRXYXJuaW5nOmU9PntpLmVycm9yKFwiWW91IG11c3QgaW5pdGlhbGl6ZSBQb3N0SG9nIGJlZm9yZSBjYWxsaW5nIFwiLmNvbmNhdChlKSl9LGNyZWF0ZUxvZ2dlcjp0PT5aKFwiXCIuY29uY2F0KGUsXCIgXCIpLmNvbmNhdCh0KSl9O3JldHVybiBpfSxlZT1aKFwiW1Bvc3RIb2cuanNdXCIpLHRlPWVlLmNyZWF0ZUxvZ2dlcixpZT10ZShcIltFeHRlcm5hbFNjcmlwdHNMb2FkZXJdXCIpLHJlPShlLHQsaSk9PntpZihlLmNvbmZpZy5kaXNhYmxlX2V4dGVybmFsX2RlcGVuZGVuY3lfbG9hZGluZylyZXR1cm4gaWUud2FybihcIlwiLmNvbmNhdCh0LFwiIHdhcyByZXF1ZXN0ZWQgYnV0IGxvYWRpbmcgb2YgZXh0ZXJuYWwgc2NyaXB0cyBpcyBkaXNhYmxlZC5cIikpLGkoXCJMb2FkaW5nIG9mIGV4dGVybmFsIHNjcmlwdHMgaXMgZGlzYWJsZWRcIik7dmFyIHI9KCk9PntpZighYSlyZXR1cm4gaShcImRvY3VtZW50IG5vdCBmb3VuZFwiKTt2YXIgcj1hLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7aWYoci50eXBlPVwidGV4dC9qYXZhc2NyaXB0XCIsci5jcm9zc09yaWdpbj1cImFub255bW91c1wiLHIuc3JjPXQsci5vbmxvYWQ9ZT0+aSh2b2lkIDAsZSksci5vbmVycm9yPWU9PmkoZSksZS5jb25maWcucHJlcGFyZV9leHRlcm5hbF9kZXBlbmRlbmN5X3NjcmlwdCYmKHI9ZS5jb25maWcucHJlcGFyZV9leHRlcm5hbF9kZXBlbmRlbmN5X3NjcmlwdChyKSksIXIpcmV0dXJuIGkoXCJwcmVwYXJlX2V4dGVybmFsX2RlcGVuZGVuY3lfc2NyaXB0IHJldHVybmVkIG51bGxcIik7dmFyIHMsbj1hLnF1ZXJ5U2VsZWN0b3JBbGwoXCJib2R5ID4gc2NyaXB0XCIpO24ubGVuZ3RoPjA/bnVsbD09PShzPW5bMF0ucGFyZW50Tm9kZSl8fHZvaWQgMD09PXN8fHMuaW5zZXJ0QmVmb3JlKHIsblswXSk6YS5ib2R5LmFwcGVuZENoaWxkKHIpfTtudWxsIT1hJiZhLmJvZHk/cigpOm51bGw9PWF8fGEuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixyKX07ZnVuY3Rpb24gc2UoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLHIpfXJldHVybiBpfWZ1bmN0aW9uIG5lKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP3NlKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7b2UoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOnNlKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIG9lKGUsdCxpKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOmksZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPWksZX1mdW5jdGlvbiBhZShlLHQpe2lmKG51bGw9PWUpcmV0dXJue307dmFyIGkscixzPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09ZSlyZXR1cm57fTt2YXIgaSxyLHM9e30sbj1PYmplY3Qua2V5cyhlKTtmb3Iocj0wO3I8bi5sZW5ndGg7cisrKWk9bltyXSx0LmluZGV4T2YoaSk+PTB8fChzW2ldPWVbaV0pO3JldHVybiBzfShlLHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7Zm9yKHI9MDtyPG4ubGVuZ3RoO3IrKylpPW5bcl0sdC5pbmRleE9mKGkpPj0wfHxPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZSxpKSYmKHNbaV09ZVtpXSl9cmV0dXJuIHN9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX189Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX198fHt9LF8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fLmxvYWRFeHRlcm5hbERlcGVuZGVuY3k9KGUsdCxpKT0+e3ZhciByPVwiL3N0YXRpYy9cIi5jb25jYXQodCxcIi5qc1wiKStcIj92PVwiLmNvbmNhdChlLnZlcnNpb24pO2lmKFwicmVtb3RlLWNvbmZpZ1wiPT09dCYmKHI9XCIvYXJyYXkvXCIuY29uY2F0KGUuY29uZmlnLnRva2VuLFwiL2NvbmZpZy5qc1wiKSksXCJ0b29sYmFyXCI9PT10KXt2YXIgcz0zZTUsbj1NYXRoLmZsb29yKERhdGUubm93KCkvcykqcztyPVwiXCIuY29uY2F0KHIsXCImdD1cIikuY29uY2F0KG4pfXZhciBvPWUucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFzc2V0c1wiLHIpO3JlKGUsbyxpKX0sXy5fX1Bvc3Rob2dFeHRlbnNpb25zX18ubG9hZFNpdGVBcHA9KGUsdCxpKT0+e3ZhciByPWUucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLHQpO3JlKGUscixpKX07dmFyIGxlPVwiJHBlb3BsZV9kaXN0aW5jdF9pZFwiLHVlPVwiX19hbGlhc1wiLGNlPVwiX190aW1lcnNcIixkZT1cIiRhdXRvY2FwdHVyZV9kaXNhYmxlZF9zZXJ2ZXJfc2lkZVwiLGhlPVwiJGhlYXRtYXBzX2VuYWJsZWRfc2VydmVyX3NpZGVcIixfZT1cIiRleGNlcHRpb25fY2FwdHVyZV9lbmFibGVkX3NlcnZlcl9zaWRlXCIscGU9XCIkd2ViX3ZpdGFsc19lbmFibGVkX3NlcnZlcl9zaWRlXCIsdmU9XCIkZGVhZF9jbGlja3NfZW5hYmxlZF9zZXJ2ZXJfc2lkZVwiLGdlPVwiJHdlYl92aXRhbHNfYWxsb3dlZF9tZXRyaWNzXCIsZmU9XCIkc2Vzc2lvbl9yZWNvcmRpbmdfZW5hYmxlZF9zZXJ2ZXJfc2lkZVwiLG1lPVwiJGNvbnNvbGVfbG9nX3JlY29yZGluZ19lbmFibGVkX3NlcnZlcl9zaWRlXCIsYmU9XCIkc2Vzc2lvbl9yZWNvcmRpbmdfbmV0d29ya19wYXlsb2FkX2NhcHR1cmVcIix5ZT1cIiRzZXNzaW9uX3JlY29yZGluZ19jYW52YXNfcmVjb3JkaW5nXCIsd2U9XCIkcmVwbGF5X3NhbXBsZV9yYXRlXCIsU2U9XCIkcmVwbGF5X21pbmltdW1fZHVyYXRpb25cIixrZT1cIiRyZXBsYXlfc2NyaXB0X2NvbmZpZ1wiLEVlPVwiJHNlc2lkXCIseGU9XCIkc2Vzc2lvbl9pc19zYW1wbGVkXCIsSWU9XCIkc2Vzc2lvbl9yZWNvcmRpbmdfdXJsX3RyaWdnZXJfYWN0aXZhdGVkX3Nlc3Npb25cIixDZT1cIiRzZXNzaW9uX3JlY29yZGluZ19ldmVudF90cmlnZ2VyX2FjdGl2YXRlZF9zZXNzaW9uXCIsUGU9XCIkZW5hYmxlZF9mZWF0dXJlX2ZsYWdzXCIsRmU9XCIkZWFybHlfYWNjZXNzX2ZlYXR1cmVzXCIsVGU9XCIkc3RvcmVkX3BlcnNvbl9wcm9wZXJ0aWVzXCIsUmU9XCIkc3RvcmVkX2dyb3VwX3Byb3BlcnRpZXNcIiwkZT1cIiRzdXJ2ZXlzXCIsT2U9XCIkc3VydmV5c19hY3RpdmF0ZWRcIixNZT1cIiRmbGFnX2NhbGxfcmVwb3J0ZWRcIixBZT1cIiR1c2VyX3N0YXRlXCIsTGU9XCIkY2xpZW50X3Nlc3Npb25fcHJvcHNcIixEZT1cIiRjYXB0dXJlX3JhdGVfbGltaXRcIixOZT1cIiRpbml0aWFsX2NhbXBhaWduX3BhcmFtc1wiLHFlPVwiJGluaXRpYWxfcmVmZXJyZXJfaW5mb1wiLEJlPVwiJGluaXRpYWxfcGVyc29uX2luZm9cIixIZT1cIiRlcHBcIixVZT1cIl9fUE9TVEhPR19UT09MQkFSX19cIixqZT1cIiRwb3N0aG9nX2Nvb2tpZWxlc3NcIix6ZT1bbGUsdWUsXCJfX2NtcG5zXCIsY2UsZmUsaGUsRWUsUGUsQWUsRmUsUmUsVGUsJGUsTWUsTGUsRGUsTmUscWUsSGVdLFdlPXRlKFwiW0ZlYXR1cmVGbGFnc11cIiksVmU9XCIkYWN0aXZlX2ZlYXR1cmVfZmxhZ3NcIixHZT1cIiRvdmVycmlkZV9mZWF0dXJlX2ZsYWdzXCIsSmU9XCIkZmVhdHVyZV9mbGFnX3BheWxvYWRzXCIsWWU9XCIkb3ZlcnJpZGVfZmVhdHVyZV9mbGFnX3BheWxvYWRzXCIsS2U9ZT0+e3ZhciB0PXt9O2Zvcih2YXJbaSxyXW9mIGsoZXx8e30pKXImJih0W2ldPXIpO3JldHVybiB0fTtjbGFzcyBYZXtjb25zdHJ1Y3RvcihlKXtvZSh0aGlzLFwiX292ZXJyaWRlX3dhcm5pbmdcIiwhMSksb2UodGhpcyxcIl9oYXNMb2FkZWRGbGFnc1wiLCExKSxvZSh0aGlzLFwiX3JlcXVlc3RJbkZsaWdodFwiLCExKSxvZSh0aGlzLFwiX3JlbG9hZGluZ0Rpc2FibGVkXCIsITEpLG9lKHRoaXMsXCJfYWRkaXRpb25hbFJlbG9hZFJlcXVlc3RlZFwiLCExKSxvZSh0aGlzLFwiX2RlY2lkZUNhbGxlZFwiLCExKSxvZSh0aGlzLFwiX2ZsYWdzTG9hZGVkRnJvbVJlbW90ZVwiLCExKSx0aGlzLmluc3RhbmNlPWUsdGhpcy5mZWF0dXJlRmxhZ0V2ZW50SGFuZGxlcnM9W119ZGVjaWRlKCl7aWYodGhpcy5pbnN0YW5jZS5jb25maWcuX19wcmV2aWV3X3JlbW90ZV9jb25maWcpdGhpcy5fZGVjaWRlQ2FsbGVkPSEwO2Vsc2V7dmFyIGU9IXRoaXMuX3JlbG9hZERlYm91bmNlciYmKHRoaXMuaW5zdGFuY2UuY29uZmlnLmFkdmFuY2VkX2Rpc2FibGVfZmVhdHVyZV9mbGFnc3x8dGhpcy5pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV9mZWF0dXJlX2ZsYWdzX29uX2ZpcnN0X2xvYWQpO3RoaXMuX2NhbGxEZWNpZGVFbmRwb2ludCh7ZGlzYWJsZUZsYWdzOmV9KX19Z2V0IGhhc0xvYWRlZEZsYWdzKCl7cmV0dXJuIHRoaXMuX2hhc0xvYWRlZEZsYWdzfWdldEZsYWdzKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuZ2V0RmxhZ1ZhcmlhbnRzKCkpfWdldEZsYWdWYXJpYW50cygpe3ZhciBlPXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KFBlKSx0PXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KEdlKTtpZighdClyZXR1cm4gZXx8e307Zm9yKHZhciBpPXcoe30sZSkscj1PYmplY3Qua2V5cyh0KSxzPTA7czxyLmxlbmd0aDtzKyspaVtyW3NdXT10W3Jbc11dO3JldHVybiB0aGlzLl9vdmVycmlkZV93YXJuaW5nfHwoV2Uud2FybihcIiBPdmVycmlkaW5nIGZlYXR1cmUgZmxhZ3MhXCIse2VuYWJsZWRGbGFnczplLG92ZXJyaWRkZW5GbGFnczp0LGZpbmFsRmxhZ3M6aX0pLHRoaXMuX292ZXJyaWRlX3dhcm5pbmc9ITApLGl9Z2V0RmxhZ1BheWxvYWRzKCl7dmFyIGU9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoSmUpLHQ9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoWWUpO2lmKCF0KXJldHVybiBlfHx7fTtmb3IodmFyIGk9dyh7fSxlfHx7fSkscj1PYmplY3Qua2V5cyh0KSxzPTA7czxyLmxlbmd0aDtzKyspaVtyW3NdXT10W3Jbc11dO3JldHVybiB0aGlzLl9vdmVycmlkZV93YXJuaW5nfHwoV2Uud2FybihcIiBPdmVycmlkaW5nIGZlYXR1cmUgZmxhZyBwYXlsb2FkcyFcIix7ZmxhZ1BheWxvYWRzOmUsb3ZlcnJpZGRlblBheWxvYWRzOnQsZmluYWxQYXlsb2FkczppfSksdGhpcy5fb3ZlcnJpZGVfd2FybmluZz0hMCksaX1yZWxvYWRGZWF0dXJlRmxhZ3MoKXt0aGlzLl9yZWxvYWRpbmdEaXNhYmxlZHx8dGhpcy5pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV9mZWF0dXJlX2ZsYWdzfHx0aGlzLl9yZWxvYWREZWJvdW5jZXJ8fCh0aGlzLl9yZWxvYWREZWJvdW5jZXI9c2V0VGltZW91dCgoKCk9Pnt0aGlzLl9jYWxsRGVjaWRlRW5kcG9pbnQoKX0pLDUpKX1jbGVhckRlYm91bmNlcigpe2NsZWFyVGltZW91dCh0aGlzLl9yZWxvYWREZWJvdW5jZXIpLHRoaXMuX3JlbG9hZERlYm91bmNlcj12b2lkIDB9ZW5zdXJlRmxhZ3NMb2FkZWQoKXt0aGlzLl9oYXNMb2FkZWRGbGFnc3x8dGhpcy5fcmVxdWVzdEluRmxpZ2h0fHx0aGlzLl9yZWxvYWREZWJvdW5jZXJ8fHRoaXMucmVsb2FkRmVhdHVyZUZsYWdzKCl9c2V0QW5vbnltb3VzRGlzdGluY3RJZChlKXt0aGlzLiRhbm9uX2Rpc3RpbmN0X2lkPWV9c2V0UmVsb2FkaW5nUGF1c2VkKGUpe3RoaXMuX3JlbG9hZGluZ0Rpc2FibGVkPWV9X2NhbGxEZWNpZGVFbmRwb2ludCh0KXtpZih0aGlzLmNsZWFyRGVib3VuY2VyKCksIXRoaXMuaW5zdGFuY2UuY29uZmlnLmFkdmFuY2VkX2Rpc2FibGVfZGVjaWRlKWlmKHRoaXMuX3JlcXVlc3RJbkZsaWdodCl0aGlzLl9hZGRpdGlvbmFsUmVsb2FkUmVxdWVzdGVkPSEwO2Vsc2V7dmFyIGk9e3Rva2VuOnRoaXMuaW5zdGFuY2UuY29uZmlnLnRva2VuLGRpc3RpbmN0X2lkOnRoaXMuaW5zdGFuY2UuZ2V0X2Rpc3RpbmN0X2lkKCksZ3JvdXBzOnRoaXMuaW5zdGFuY2UuZ2V0R3JvdXBzKCksJGFub25fZGlzdGluY3RfaWQ6dGhpcy4kYW5vbl9kaXN0aW5jdF9pZCxwZXJzb25fcHJvcGVydGllczp0aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShUZSksZ3JvdXBfcHJvcGVydGllczp0aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShSZSl9OyhudWxsIT10JiZ0LmRpc2FibGVGbGFnc3x8dGhpcy5pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV9mZWF0dXJlX2ZsYWdzKSYmKGkuZGlzYWJsZV9mbGFncz0hMCksdGhpcy5fcmVxdWVzdEluRmxpZ2h0PSEwLHRoaXMuaW5zdGFuY2UuX3NlbmRfcmVxdWVzdCh7bWV0aG9kOlwiUE9TVFwiLHVybDp0aGlzLmluc3RhbmNlLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJhcGlcIixcIi9kZWNpZGUvP3Y9M1wiKSxkYXRhOmksY29tcHJlc3Npb246dGhpcy5pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9jb21wcmVzc2lvbj92b2lkIDA6ZS5CYXNlNjQsdGltZW91dDp0aGlzLmluc3RhbmNlLmNvbmZpZy5mZWF0dXJlX2ZsYWdfcmVxdWVzdF90aW1lb3V0X21zLGNhbGxiYWNrOmU9Pnt2YXIgdCxyLHM9ITA7KDIwMD09PWUuc3RhdHVzQ29kZSYmKHRoaXMuJGFub25fZGlzdGluY3RfaWQ9dm9pZCAwLHM9ITEpLHRoaXMuX3JlcXVlc3RJbkZsaWdodD0hMSx0aGlzLl9kZWNpZGVDYWxsZWQpfHwodGhpcy5fZGVjaWRlQ2FsbGVkPSEwLHRoaXMuaW5zdGFuY2UuX29uUmVtb3RlQ29uZmlnKG51bGwhPT0ocj1lLmpzb24pJiZ2b2lkIDAhPT1yP3I6e30pKTtpLmRpc2FibGVfZmxhZ3N8fCh0aGlzLl9mbGFnc0xvYWRlZEZyb21SZW1vdGU9IXMsdGhpcy5yZWNlaXZlZEZlYXR1cmVGbGFncyhudWxsIT09KHQ9ZS5qc29uKSYmdm9pZCAwIT09dD90Ont9LHMpLHRoaXMuX2FkZGl0aW9uYWxSZWxvYWRSZXF1ZXN0ZWQmJih0aGlzLl9hZGRpdGlvbmFsUmVsb2FkUmVxdWVzdGVkPSExLHRoaXMuX2NhbGxEZWNpZGVFbmRwb2ludCgpKSl9fSl9fWdldEZlYXR1cmVGbGFnKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtpZih0aGlzLl9oYXNMb2FkZWRGbGFnc3x8dGhpcy5nZXRGbGFncygpJiZ0aGlzLmdldEZsYWdzKCkubGVuZ3RoPjApe3ZhciBpLHIscyxuLG8sYT10aGlzLmdldEZsYWdWYXJpYW50cygpW2VdLGw9XCJcIi5jb25jYXQoYSksdT10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShNZSl8fHt9O2lmKHQuc2VuZF9ldmVudHx8IShcInNlbmRfZXZlbnRcImluIHQpKWlmKCEoZSBpbiB1KXx8IXVbZV0uaW5jbHVkZXMobCkpQih1W2VdKT91W2VdLnB1c2gobCk6dVtlXT1bbF0sbnVsbD09PShpPXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1pfHxpLnJlZ2lzdGVyKHtbTWVdOnV9KSx0aGlzLmluc3RhbmNlLmNhcHR1cmUoXCIkZmVhdHVyZV9mbGFnX2NhbGxlZFwiLHskZmVhdHVyZV9mbGFnOmUsJGZlYXR1cmVfZmxhZ19yZXNwb25zZTphLCRmZWF0dXJlX2ZsYWdfcGF5bG9hZDp0aGlzLmdldEZlYXR1cmVGbGFnUGF5bG9hZChlKXx8bnVsbCwkZmVhdHVyZV9mbGFnX2Jvb3RzdHJhcHBlZF9yZXNwb25zZToobnVsbD09PShyPXRoaXMuaW5zdGFuY2UuY29uZmlnLmJvb3RzdHJhcCl8fHZvaWQgMD09PXJ8fG51bGw9PT0ocz1yLmZlYXR1cmVGbGFncyl8fHZvaWQgMD09PXM/dm9pZCAwOnNbZV0pfHxudWxsLCRmZWF0dXJlX2ZsYWdfYm9vdHN0cmFwcGVkX3BheWxvYWQ6KG51bGw9PT0obj10aGlzLmluc3RhbmNlLmNvbmZpZy5ib290c3RyYXApfHx2b2lkIDA9PT1ufHxudWxsPT09KG89bi5mZWF0dXJlRmxhZ1BheWxvYWRzKXx8dm9pZCAwPT09bz92b2lkIDA6b1tlXSl8fG51bGwsJHVzZWRfYm9vdHN0cmFwX3ZhbHVlOiF0aGlzLl9mbGFnc0xvYWRlZEZyb21SZW1vdGV9KTtyZXR1cm4gYX1XZS53YXJuKCdnZXRGZWF0dXJlRmxhZyBmb3Iga2V5IFwiJytlK1wiXFxcIiBmYWlsZWQuIEZlYXR1cmUgZmxhZ3MgZGlkbid0IGxvYWQgaW4gdGltZS5cIil9Z2V0RmVhdHVyZUZsYWdQYXlsb2FkKGUpe3JldHVybiB0aGlzLmdldEZsYWdQYXlsb2FkcygpW2VdfWlzRmVhdHVyZUVuYWJsZWQoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2lmKHRoaXMuX2hhc0xvYWRlZEZsYWdzfHx0aGlzLmdldEZsYWdzKCkmJnRoaXMuZ2V0RmxhZ3MoKS5sZW5ndGg+MClyZXR1cm4hIXRoaXMuZ2V0RmVhdHVyZUZsYWcoZSx0KTtXZS53YXJuKCdpc0ZlYXR1cmVFbmFibGVkIGZvciBrZXkgXCInK2UrXCJcXFwiIGZhaWxlZC4gRmVhdHVyZSBmbGFncyBkaWRuJ3QgbG9hZCBpbiB0aW1lLlwiKX1hZGRGZWF0dXJlRmxhZ3NIYW5kbGVyKGUpe3RoaXMuZmVhdHVyZUZsYWdFdmVudEhhbmRsZXJzLnB1c2goZSl9cmVtb3ZlRmVhdHVyZUZsYWdzSGFuZGxlcihlKXt0aGlzLmZlYXR1cmVGbGFnRXZlbnRIYW5kbGVycz10aGlzLmZlYXR1cmVGbGFnRXZlbnRIYW5kbGVycy5maWx0ZXIoKHQ9PnQhPT1lKSl9cmVjZWl2ZWRGZWF0dXJlRmxhZ3MoZSx0KXtpZih0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXt0aGlzLl9oYXNMb2FkZWRGbGFncz0hMDt2YXIgaT10aGlzLmdldEZsYWdWYXJpYW50cygpLHI9dGhpcy5nZXRGbGFnUGF5bG9hZHMoKTshZnVuY3Rpb24oZSx0KXt2YXIgaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30scj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106e30scz1lLmZlYXR1cmVGbGFncyxuPWUuZmVhdHVyZUZsYWdQYXlsb2FkcztpZihzKWlmKEIocykpe3ZhciBvPXt9O2lmKHMpZm9yKHZhciBhPTA7YTxzLmxlbmd0aDthKyspb1tzW2FdXT0hMDt0JiZ0LnJlZ2lzdGVyKHtbVmVdOnMsW1BlXTpvfSl9ZWxzZXt2YXIgbD1zLHU9bjtlLmVycm9yc1doaWxlQ29tcHV0aW5nRmxhZ3MmJihsPW5lKG5lKHt9LGkpLGwpLHU9bmUobmUoe30sciksdSkpLHQmJnQucmVnaXN0ZXIoe1tWZV06T2JqZWN0LmtleXMoS2UobCkpLFtQZV06bHx8e30sW0plXTp1fHx7fX0pfX0oZSx0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLGksciksdGhpcy5fZmlyZUZlYXR1cmVGbGFnc0NhbGxiYWNrcyh0KX19b3ZlcnJpZGUoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtXZS53YXJuKFwib3ZlcnJpZGUgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBvdmVycmlkZUZlYXR1cmVGbGFncyBpbnN0ZWFkLlwiKSx0aGlzLm92ZXJyaWRlRmVhdHVyZUZsYWdzKHtmbGFnczplLHN1cHByZXNzV2FybmluZzp0fSl9b3ZlcnJpZGVGZWF0dXJlRmxhZ3MoZSl7aWYoIXRoaXMuaW5zdGFuY2UuX19sb2FkZWR8fCF0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXJldHVybiBXZS51bmluaXRpYWxpemVkV2FybmluZyhcInBvc3Rob2cuZmVhdHVyZV9mbGFncy5vdmVycmlkZUZlYXR1cmVGbGFnc1wiKTtpZighMT09PWUpcmV0dXJuIHRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UudW5yZWdpc3RlcihHZSksdGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZS51bnJlZ2lzdGVyKFllKSx2b2lkIHRoaXMuX2ZpcmVGZWF0dXJlRmxhZ3NDYWxsYmFja3MoKTtpZihlJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmKFwiZmxhZ3NcImluIGV8fFwicGF5bG9hZHNcImluIGUpKXt2YXIgdCxpPWU7aWYodGhpcy5fb3ZlcnJpZGVfd2FybmluZz1Cb29sZWFuKG51bGwhPT0odD1pLnN1cHByZXNzV2FybmluZykmJnZvaWQgMCE9PXQmJnQpLFwiZmxhZ3NcImluIGkpaWYoITE9PT1pLmZsYWdzKXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UudW5yZWdpc3RlcihHZSk7ZWxzZSBpZihpLmZsYWdzKWlmKEIoaS5mbGFncykpe2Zvcih2YXIgcj17fSxzPTA7czxpLmZsYWdzLmxlbmd0aDtzKyspcltpLmZsYWdzW3NdXT0hMDt0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbR2VdOnJ9KX1lbHNlIHRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tHZV06aS5mbGFnc30pO3JldHVyblwicGF5bG9hZHNcImluIGkmJighMT09PWkucGF5bG9hZHM/dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZS51bnJlZ2lzdGVyKFllKTppLnBheWxvYWRzJiZ0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbWWVdOmkucGF5bG9hZHN9KSksdm9pZCB0aGlzLl9maXJlRmVhdHVyZUZsYWdzQ2FsbGJhY2tzKCl9dGhpcy5fZmlyZUZlYXR1cmVGbGFnc0NhbGxiYWNrcygpfW9uRmVhdHVyZUZsYWdzKGUpe2lmKHRoaXMuYWRkRmVhdHVyZUZsYWdzSGFuZGxlcihlKSx0aGlzLl9oYXNMb2FkZWRGbGFncyl7dmFye2ZsYWdzOnQsZmxhZ1ZhcmlhbnRzOml9PXRoaXMuX3ByZXBhcmVGZWF0dXJlRmxhZ3NGb3JDYWxsYmFja3MoKTtlKHQsaSl9cmV0dXJuKCk9PnRoaXMucmVtb3ZlRmVhdHVyZUZsYWdzSGFuZGxlcihlKX11cGRhdGVFYXJseUFjY2Vzc0ZlYXR1cmVFbnJvbGxtZW50KGUsdCl7dmFyIGkscj0odGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoRmUpfHxbXSkuZmluZCgodD0+dC5mbGFnS2V5PT09ZSkpLHM9e1tcIiRmZWF0dXJlX2Vucm9sbG1lbnQvXCIuY29uY2F0KGUpXTp0fSxuPXskZmVhdHVyZV9mbGFnOmUsJGZlYXR1cmVfZW5yb2xsbWVudDp0LCRzZXQ6c307ciYmKG4uJGVhcmx5X2FjY2Vzc19mZWF0dXJlX25hbWU9ci5uYW1lKSx0aGlzLmluc3RhbmNlLmNhcHR1cmUoXCIkZmVhdHVyZV9lbnJvbGxtZW50X3VwZGF0ZVwiLG4pLHRoaXMuc2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKHMsITEpO3ZhciBvPW5lKG5lKHt9LHRoaXMuZ2V0RmxhZ1ZhcmlhbnRzKCkpLHt9LHtbZV06dH0pO251bGw9PT0oaT10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09aXx8aS5yZWdpc3Rlcih7W1ZlXTpPYmplY3Qua2V5cyhLZShvKSksW1BlXTpvfSksdGhpcy5fZmlyZUZlYXR1cmVGbGFnc0NhbGxiYWNrcygpfWdldEVhcmx5QWNjZXNzRmVhdHVyZXMoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxpPXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KEZlKTtpZihpJiYhdClyZXR1cm4gZShpKTt0aGlzLmluc3RhbmNlLl9zZW5kX3JlcXVlc3Qoe3VybDp0aGlzLmluc3RhbmNlLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJhcGlcIixcIi9hcGkvZWFybHlfYWNjZXNzX2ZlYXR1cmVzLz90b2tlbj1cIi5jb25jYXQodGhpcy5pbnN0YW5jZS5jb25maWcudG9rZW4pKSxtZXRob2Q6XCJHRVRcIixjYWxsYmFjazp0PT57dmFyIGk7aWYodC5qc29uKXt2YXIgcj10Lmpzb24uZWFybHlBY2Nlc3NGZWF0dXJlcztyZXR1cm4gbnVsbD09PShpPXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1pfHxpLnJlZ2lzdGVyKHtbRmVdOnJ9KSxlKHIpfX19KX1fcHJlcGFyZUZlYXR1cmVGbGFnc0ZvckNhbGxiYWNrcygpe3ZhciBlPXRoaXMuZ2V0RmxhZ3MoKSx0PXRoaXMuZ2V0RmxhZ1ZhcmlhbnRzKCk7cmV0dXJue2ZsYWdzOmUuZmlsdGVyKChlPT50W2VdKSksZmxhZ1ZhcmlhbnRzOk9iamVjdC5rZXlzKHQpLmZpbHRlcigoZT0+dFtlXSkpLnJlZHVjZSgoKGUsaSk9PihlW2ldPXRbaV0sZSkpLHt9KX19X2ZpcmVGZWF0dXJlRmxhZ3NDYWxsYmFja3MoZSl7dmFye2ZsYWdzOnQsZmxhZ1ZhcmlhbnRzOml9PXRoaXMuX3ByZXBhcmVGZWF0dXJlRmxhZ3NGb3JDYWxsYmFja3MoKTt0aGlzLmZlYXR1cmVGbGFnRXZlbnRIYW5kbGVycy5mb3JFYWNoKChyPT5yKHQsaSx7ZXJyb3JzTG9hZGluZzplfSkpKX1zZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3MoZSl7dmFyIHQ9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXSxpPXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KFRlKXx8e307dGhpcy5pbnN0YW5jZS5yZWdpc3Rlcih7W1RlXTpuZShuZSh7fSxpKSxlKX0pLHQmJnRoaXMuaW5zdGFuY2UucmVsb2FkRmVhdHVyZUZsYWdzKCl9cmVzZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3MoKXt0aGlzLmluc3RhbmNlLnVucmVnaXN0ZXIoVGUpfXNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKGUpe3ZhciB0PSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV0saT10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShSZSl8fHt9OzAhPT1PYmplY3Qua2V5cyhpKS5sZW5ndGgmJk9iamVjdC5rZXlzKGkpLmZvckVhY2goKHQ9PntpW3RdPW5lKG5lKHt9LGlbdF0pLGVbdF0pLGRlbGV0ZSBlW3RdfSkpLHRoaXMuaW5zdGFuY2UucmVnaXN0ZXIoe1tSZV06bmUobmUoe30saSksZSl9KSx0JiZ0aGlzLmluc3RhbmNlLnJlbG9hZEZlYXR1cmVGbGFncygpfXJlc2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3MoZSl7aWYoZSl7dmFyIHQ9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoUmUpfHx7fTt0aGlzLmluc3RhbmNlLnJlZ2lzdGVyKHtbUmVdOm5lKG5lKHt9LHQpLHt9LHtbZV06e319KX0pfWVsc2UgdGhpcy5pbnN0YW5jZS51bnJlZ2lzdGVyKFJlKX19TWF0aC50cnVuY3x8KE1hdGgudHJ1bmM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU8MD9NYXRoLmNlaWwoZSk6TWF0aC5mbG9vcihlKX0pLE51bWJlci5pc0ludGVnZXJ8fChOdW1iZXIuaXNJbnRlZ2VyPWZ1bmN0aW9uKGUpe3JldHVybiBZKGUpJiZpc0Zpbml0ZShlKSYmTWF0aC5mbG9vcihlKT09PWV9KTt2YXIgUWU9XCIwMTIzNDU2Nzg5YWJjZGVmXCI7Y2xhc3MgWmV7Y29uc3RydWN0b3IoZSl7aWYodGhpcy5ieXRlcz1lLDE2IT09ZS5sZW5ndGgpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm5vdCAxMjgtYml0IGxlbmd0aFwiKX1zdGF0aWMgZnJvbUZpZWxkc1Y3KGUsdCxpLHIpe2lmKCFOdW1iZXIuaXNJbnRlZ2VyKGUpfHwhTnVtYmVyLmlzSW50ZWdlcih0KXx8IU51bWJlci5pc0ludGVnZXIoaSl8fCFOdW1iZXIuaXNJbnRlZ2VyKHIpfHxlPDB8fHQ8MHx8aTwwfHxyPDB8fGU+MHhmZmZmZmZmZmZmZmZ8fHQ+NDA5NXx8aT4xMDczNzQxODIzfHxyPjQyOTQ5NjcyOTUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJpbnZhbGlkIGZpZWxkIHZhbHVlXCIpO3ZhciBzPW5ldyBVaW50OEFycmF5KDE2KTtyZXR1cm4gc1swXT1lL01hdGgucG93KDIsNDApLHNbMV09ZS9NYXRoLnBvdygyLDMyKSxzWzJdPWUvTWF0aC5wb3coMiwyNCksc1szXT1lL01hdGgucG93KDIsMTYpLHNbNF09ZS9NYXRoLnBvdygyLDgpLHNbNV09ZSxzWzZdPTExMnx0Pj4+OCxzWzddPXQsc1s4XT0xMjh8aT4+PjI0LHNbOV09aT4+PjE2LHNbMTBdPWk+Pj44LHNbMTFdPWksc1sxMl09cj4+PjI0LHNbMTNdPXI+Pj4xNixzWzE0XT1yPj4+OCxzWzE1XT1yLG5ldyBaZShzKX10b1N0cmluZygpe2Zvcih2YXIgZT1cIlwiLHQ9MDt0PHRoaXMuYnl0ZXMubGVuZ3RoO3QrKyllPWUrUWUuY2hhckF0KHRoaXMuYnl0ZXNbdF0+Pj40KStRZS5jaGFyQXQoMTUmdGhpcy5ieXRlc1t0XSksMyE9PXQmJjUhPT10JiY3IT09dCYmOSE9PXR8fChlKz1cIi1cIik7aWYoMzYhPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFVVSUR2NyB3YXMgZ2VuZXJhdGVkXCIpO3JldHVybiBlfWNsb25lKCl7cmV0dXJuIG5ldyBaZSh0aGlzLmJ5dGVzLnNsaWNlKDApKX1lcXVhbHMoZSl7cmV0dXJuIDA9PT10aGlzLmNvbXBhcmVUbyhlKX1jb21wYXJlVG8oZSl7Zm9yKHZhciB0PTA7dDwxNjt0Kyspe3ZhciBpPXRoaXMuYnl0ZXNbdF0tZS5ieXRlc1t0XTtpZigwIT09aSlyZXR1cm4gTWF0aC5zaWduKGkpfXJldHVybiAwfX1jbGFzcyBldHtjb25zdHJ1Y3Rvcigpe29lKHRoaXMsXCJ0aW1lc3RhbXBcIiwwKSxvZSh0aGlzLFwiY291bnRlclwiLDApLG9lKHRoaXMsXCJyYW5kb21cIixuZXcgcnQpfWdlbmVyYXRlKCl7dmFyIGU9dGhpcy5nZW5lcmF0ZU9yQWJvcnQoKTtpZih6KGUpKXt0aGlzLnRpbWVzdGFtcD0wO3ZhciB0PXRoaXMuZ2VuZXJhdGVPckFib3J0KCk7aWYoeih0KSl0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZ2VuZXJhdGUgVVVJRCBhZnRlciB0aW1lc3RhbXAgcmVzZXRcIik7cmV0dXJuIHR9cmV0dXJuIGV9Z2VuZXJhdGVPckFib3J0KCl7dmFyIGU9RGF0ZS5ub3coKTtpZihlPnRoaXMudGltZXN0YW1wKXRoaXMudGltZXN0YW1wPWUsdGhpcy5yZXNldENvdW50ZXIoKTtlbHNle2lmKCEoZSsxZTQ+dGhpcy50aW1lc3RhbXApKXJldHVybjt0aGlzLmNvdW50ZXIrKyx0aGlzLmNvdW50ZXI+NDM5ODA0NjUxMTEwMyYmKHRoaXMudGltZXN0YW1wKyssdGhpcy5yZXNldENvdW50ZXIoKSl9cmV0dXJuIFplLmZyb21GaWVsZHNWNyh0aGlzLnRpbWVzdGFtcCxNYXRoLnRydW5jKHRoaXMuY291bnRlci9NYXRoLnBvdygyLDMwKSksdGhpcy5jb3VudGVyJk1hdGgucG93KDIsMzApLTEsdGhpcy5yYW5kb20ubmV4dFVpbnQzMigpKX1yZXNldENvdW50ZXIoKXt0aGlzLmNvdW50ZXI9MTAyNCp0aGlzLnJhbmRvbS5uZXh0VWludDMyKCkrKDEwMjMmdGhpcy5yYW5kb20ubmV4dFVpbnQzMigpKX19dmFyIHR0LGl0PWU9PntpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgVVVJRFY3X0RFTllfV0VBS19STkcmJlVVSURWN19ERU5ZX1dFQUtfUk5HKXRocm93IG5ldyBFcnJvcihcIm5vIGNyeXB0b2dyYXBoaWNhbGx5IHN0cm9uZyBSTkcgYXZhaWxhYmxlXCIpO2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKWVbdF09NjU1MzYqTWF0aC50cnVuYyg2NTUzNipNYXRoLnJhbmRvbSgpKStNYXRoLnRydW5jKDY1NTM2Kk1hdGgucmFuZG9tKCkpO3JldHVybiBlfTt0JiYheih0LmNyeXB0bykmJmNyeXB0by5nZXRSYW5kb21WYWx1ZXMmJihpdD1lPT5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGUpKTtjbGFzcyBydHtjb25zdHJ1Y3Rvcigpe29lKHRoaXMsXCJidWZmZXJcIixuZXcgVWludDMyQXJyYXkoOCkpLG9lKHRoaXMsXCJjdXJzb3JcIiwxLzApfW5leHRVaW50MzIoKXtyZXR1cm4gdGhpcy5jdXJzb3I+PXRoaXMuYnVmZmVyLmxlbmd0aCYmKGl0KHRoaXMuYnVmZmVyKSx0aGlzLmN1cnNvcj0wKSx0aGlzLmJ1ZmZlclt0aGlzLmN1cnNvcisrXX19dmFyIHN0PSgpPT5udCgpLnRvU3RyaW5nKCksbnQ9KCk9Pih0dHx8KHR0PW5ldyBldCkpLmdlbmVyYXRlKCksb3Q9XCJUaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIEdNVFwiLGF0PVwiXCI7dmFyIGx0PS9bYS16MC05XVthLXowLTktXStcXC5bYS16XXsyLH0kL2k7ZnVuY3Rpb24gdXQoZSx0KXtpZih0KXt2YXIgaT1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06YTtpZihhdClyZXR1cm4gYXQ7aWYoIXQpcmV0dXJuXCJcIjtpZihbXCJsb2NhbGhvc3RcIixcIjEyNy4wLjAuMVwiXS5pbmNsdWRlcyhlKSlyZXR1cm5cIlwiO2Zvcih2YXIgaT1lLnNwbGl0KFwiLlwiKSxyPU1hdGgubWluKGkubGVuZ3RoLDgpLHM9XCJkbW5fY2hrX1wiK3N0KCksbj1uZXcgUmVnRXhwKFwiKF58OylcXFxccypcIitzK1wiPTFcIik7IWF0JiZyLS07KXt2YXIgbz1pLnNsaWNlKHIpLmpvaW4oXCIuXCIpLGw9cytcIj0xO2RvbWFpbj0uXCIrbzt0LmNvb2tpZT1sLG4udGVzdCh0LmNvb2tpZSkmJih0LmNvb2tpZT1sK1wiO2V4cGlyZXM9XCIrb3QsYXQ9byl9cmV0dXJuIGF0fShlKTtpZighaSl7dmFyIHI9KGU9Pnt2YXIgdD1lLm1hdGNoKGx0KTtyZXR1cm4gdD90WzBdOlwiXCJ9KShlKTtyIT09aSYmZWUuaW5mbyhcIldhcm5pbmc6IGNvb2tpZSBzdWJkb21haW4gZGlzY292ZXJ5IG1pc21hdGNoXCIscixpKSxpPXJ9cmV0dXJuIGk/XCI7IGRvbWFpbj0uXCIraTpcIlwifXJldHVyblwiXCJ9dmFyIGN0PXtpc19zdXBwb3J0ZWQ6KCk9PiEhYSxlcnJvcjpmdW5jdGlvbihlKXtlZS5lcnJvcihcImNvb2tpZVN0b3JlIGVycm9yOiBcIitlKX0sZ2V0OmZ1bmN0aW9uKGUpe2lmKGEpe3RyeXtmb3IodmFyIHQ9ZStcIj1cIixpPWEuY29va2llLnNwbGl0KFwiO1wiKS5maWx0ZXIoKGU9PmUubGVuZ3RoKSkscj0wO3I8aS5sZW5ndGg7cisrKXtmb3IodmFyIHM9aVtyXTtcIiBcIj09cy5jaGFyQXQoMCk7KXM9cy5zdWJzdHJpbmcoMSxzLmxlbmd0aCk7aWYoMD09PXMuaW5kZXhPZih0KSlyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHMuc3Vic3RyaW5nKHQubGVuZ3RoLHMubGVuZ3RoKSl9fWNhdGNoKGUpe31yZXR1cm4gbnVsbH19LHBhcnNlOmZ1bmN0aW9uKGUpe3ZhciB0O3RyeXt0PUpTT04ucGFyc2UoY3QuZ2V0KGUpKXx8e319Y2F0Y2goZSl7fXJldHVybiB0fSxzZXQ6ZnVuY3Rpb24oZSx0LGkscixzKXtpZihhKXRyeXt2YXIgbj1cIlwiLG89XCJcIixsPXV0KGEubG9jYXRpb24uaG9zdG5hbWUscik7aWYoaSl7dmFyIHU9bmV3IERhdGU7dS5zZXRUaW1lKHUuZ2V0VGltZSgpKzI0KmkqNjAqNjAqMWUzKSxuPVwiOyBleHBpcmVzPVwiK3UudG9VVENTdHJpbmcoKX1zJiYobz1cIjsgc2VjdXJlXCIpO3ZhciBjPWUrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHQpKStuK1wiOyBTYW1lU2l0ZT1MYXg7IHBhdGg9L1wiK2wrbztyZXR1cm4gYy5sZW5ndGg+MzY4Ni40JiZlZS53YXJuKFwiY29va2llU3RvcmUgd2FybmluZzogbGFyZ2UgY29va2llLCBsZW49XCIrYy5sZW5ndGgpLGEuY29va2llPWMsY31jYXRjaChlKXtyZXR1cm59fSxyZW1vdmU6ZnVuY3Rpb24oZSx0KXt0cnl7Y3Quc2V0KGUsXCJcIiwtMSx0KX1jYXRjaChlKXtyZXR1cm59fX0sZHQ9bnVsbCxodD17aXNfc3VwcG9ydGVkOmZ1bmN0aW9uKCl7aWYoIUcoZHQpKXJldHVybiBkdDt2YXIgZT0hMDtpZih6KHQpKWU9ITE7ZWxzZSB0cnl7dmFyIGk9XCJfX21wbHNzdXBwb3J0X19cIjtodC5zZXQoaSxcInh5elwiKSwnXCJ4eXpcIichPT1odC5nZXQoaSkmJihlPSExKSxodC5yZW1vdmUoaSl9Y2F0Y2godCl7ZT0hMX1yZXR1cm4gZXx8ZWUuZXJyb3IoXCJsb2NhbFN0b3JhZ2UgdW5zdXBwb3J0ZWQ7IGZhbGxpbmcgYmFjayB0byBjb29raWUgc3RvcmVcIiksZHQ9ZSxlfSxlcnJvcjpmdW5jdGlvbihlKXtlZS5lcnJvcihcImxvY2FsU3RvcmFnZSBlcnJvcjogXCIrZSl9LGdldDpmdW5jdGlvbihlKXt0cnl7cmV0dXJuIG51bGw9PXQ/dm9pZCAwOnQubG9jYWxTdG9yYWdlLmdldEl0ZW0oZSl9Y2F0Y2goZSl7aHQuZXJyb3IoZSl9cmV0dXJuIG51bGx9LHBhcnNlOmZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gSlNPTi5wYXJzZShodC5nZXQoZSkpfHx7fX1jYXRjaChlKXt9cmV0dXJuIG51bGx9LHNldDpmdW5jdGlvbihlLGkpe3RyeXtudWxsPT10fHx0LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGUsSlNPTi5zdHJpbmdpZnkoaSkpfWNhdGNoKGUpe2h0LmVycm9yKGUpfX0scmVtb3ZlOmZ1bmN0aW9uKGUpe3RyeXtudWxsPT10fHx0LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGUpfWNhdGNoKGUpe2h0LmVycm9yKGUpfX19LF90PVtcImRpc3RpbmN0X2lkXCIsRWUseGUsSGUsQmVdLHB0PW5lKG5lKHt9LGh0KSx7fSx7cGFyc2U6ZnVuY3Rpb24oZSl7dHJ5e3ZhciB0PXt9O3RyeXt0PWN0LnBhcnNlKGUpfHx7fX1jYXRjaChlKXt9dmFyIGk9dyh0LEpTT04ucGFyc2UoaHQuZ2V0KGUpfHxcInt9XCIpKTtyZXR1cm4gaHQuc2V0KGUsaSksaX1jYXRjaChlKXt9cmV0dXJuIG51bGx9LHNldDpmdW5jdGlvbihlLHQsaSxyLHMsbil7dHJ5e2h0LnNldChlLHQsdm9pZCAwLHZvaWQgMCxuKTt2YXIgbz17fTtfdC5mb3JFYWNoKChlPT57dFtlXSYmKG9bZV09dFtlXSl9KSksT2JqZWN0LmtleXMobykubGVuZ3RoJiZjdC5zZXQoZSxvLGkscixzLG4pfWNhdGNoKGUpe2h0LmVycm9yKGUpfX0scmVtb3ZlOmZ1bmN0aW9uKGUsaSl7dHJ5e251bGw9PXR8fHQubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oZSksY3QucmVtb3ZlKGUsaSl9Y2F0Y2goZSl7aHQuZXJyb3IoZSl9fX0pLHZ0PXt9LGd0PXtpc19zdXBwb3J0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZXJyb3I6ZnVuY3Rpb24oZSl7ZWUuZXJyb3IoXCJtZW1vcnlTdG9yYWdlIGVycm9yOiBcIitlKX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiB2dFtlXXx8bnVsbH0scGFyc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIHZ0W2VdfHxudWxsfSxzZXQ6ZnVuY3Rpb24oZSx0KXt2dFtlXT10fSxyZW1vdmU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHZ0W2VdfX0sZnQ9bnVsbCxtdD17aXNfc3VwcG9ydGVkOmZ1bmN0aW9uKCl7aWYoIUcoZnQpKXJldHVybiBmdDtpZihmdD0hMCx6KHQpKWZ0PSExO2Vsc2UgdHJ5e3ZhciBlPVwiX19zdXBwb3J0X19cIjttdC5zZXQoZSxcInh5elwiKSwnXCJ4eXpcIichPT1tdC5nZXQoZSkmJihmdD0hMSksbXQucmVtb3ZlKGUpfWNhdGNoKGUpe2Z0PSExfXJldHVybiBmdH0sZXJyb3I6ZnVuY3Rpb24oZSl7ZWUuZXJyb3IoXCJzZXNzaW9uU3RvcmFnZSBlcnJvcjogXCIsZSl9LGdldDpmdW5jdGlvbihlKXt0cnl7cmV0dXJuIG51bGw9PXQ/dm9pZCAwOnQuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShlKX1jYXRjaChlKXttdC5lcnJvcihlKX1yZXR1cm4gbnVsbH0scGFyc2U6ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBKU09OLnBhcnNlKG10LmdldChlKSl8fG51bGx9Y2F0Y2goZSl7fXJldHVybiBudWxsfSxzZXQ6ZnVuY3Rpb24oZSxpKXt0cnl7bnVsbD09dHx8dC5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKGUsSlNPTi5zdHJpbmdpZnkoaSkpfWNhdGNoKGUpe210LmVycm9yKGUpfX0scmVtb3ZlOmZ1bmN0aW9uKGUpe3RyeXtudWxsPT10fHx0LnNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oZSl9Y2F0Y2goZSl7bXQuZXJyb3IoZSl9fX0sYnQ9W1wibG9jYWxob3N0XCIsXCIxMjcuMC4wLjFcIl0seXQ9ZT0+e3ZhciB0PW51bGw9PWE/dm9pZCAwOmEuY3JlYXRlRWxlbWVudChcImFcIik7cmV0dXJuIHoodCk/bnVsbDoodC5ocmVmPWUsdCl9LHd0PWZ1bmN0aW9uKGUpe3ZhciB0LGkscj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCImXCIscz1bXTtyZXR1cm4geShlLChmdW5jdGlvbihlLHIpe3ooZSl8fHoocil8fFwidW5kZWZpbmVkXCI9PT1yfHwodD1lbmNvZGVVUklDb21wb25lbnQoKGU9PmUgaW5zdGFuY2VvZiBGaWxlKShlKT9lLm5hbWU6ZS50b1N0cmluZygpKSxpPWVuY29kZVVSSUNvbXBvbmVudChyKSxzW3MubGVuZ3RoXT1pK1wiPVwiK3QpfSkpLHMuam9pbihyKX0sU3Q9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGkscj0oKGUuc3BsaXQoXCIjXCIpWzBdfHxcIlwiKS5zcGxpdChcIj9cIilbMV18fFwiXCIpLnNwbGl0KFwiJlwiKSxzPTA7czxyLmxlbmd0aDtzKyspe3ZhciBuPXJbc10uc3BsaXQoXCI9XCIpO2lmKG5bMF09PT10KXtpPW47YnJlYWt9fWlmKCFCKGkpfHxpLmxlbmd0aDwyKXJldHVyblwiXCI7dmFyIG89aVsxXTt0cnl7bz1kZWNvZGVVUklDb21wb25lbnQobyl9Y2F0Y2goZSl7ZWUuZXJyb3IoXCJTa2lwcGluZyBkZWNvZGluZyBmb3IgbWFsZm9ybWVkIHF1ZXJ5IHBhcmFtOiBcIitvKX1yZXR1cm4gby5yZXBsYWNlKC9cXCsvZyxcIiBcIil9LGt0PWZ1bmN0aW9uKGUsdCxpKXtpZighZXx8IXR8fCF0Lmxlbmd0aClyZXR1cm4gZTtmb3IodmFyIHI9ZS5zcGxpdChcIiNcIikscz1yWzBdfHxcIlwiLG49clsxXSxvPXMuc3BsaXQoXCI/XCIpLGE9b1sxXSxsPW9bMF0sdT0oYXx8XCJcIikuc3BsaXQoXCImXCIpLGM9W10sZD0wO2Q8dS5sZW5ndGg7ZCsrKXt2YXIgaD11W2RdLnNwbGl0KFwiPVwiKTtCKGgpJiYodC5pbmNsdWRlcyhoWzBdKT9jLnB1c2goaFswXStcIj1cIitpKTpjLnB1c2godVtkXSkpfXZhciBfPWw7cmV0dXJuIG51bGwhPWEmJihfKz1cIj9cIitjLmpvaW4oXCImXCIpKSxudWxsIT1uJiYoXys9XCIjXCIrbiksX30sRXQ9ZnVuY3Rpb24oZSx0KXt2YXIgaT1lLm1hdGNoKG5ldyBSZWdFeHAodCtcIj0oW14mXSopXCIpKTtyZXR1cm4gaT9pWzFdOm51bGx9LHh0PVwiTW9iaWxlXCIsSXQ9XCJpT1NcIixDdD1cIkFuZHJvaWRcIixQdD1cIlRhYmxldFwiLEZ0PUN0K1wiIFwiK1B0LFR0PVwiaVBhZFwiLFJ0PVwiQXBwbGVcIiwkdD1SdCtcIiBXYXRjaFwiLE90PVwiU2FmYXJpXCIsTXQ9XCJCbGFja0JlcnJ5XCIsQXQ9XCJTYW1zdW5nXCIsTHQ9QXQrXCJCcm93c2VyXCIsRHQ9QXQrXCIgSW50ZXJuZXRcIixOdD1cIkNocm9tZVwiLHF0PU50K1wiIE9TXCIsQnQ9TnQrXCIgXCIrSXQsSHQ9XCJJbnRlcm5ldCBFeHBsb3JlclwiLFV0PUh0K1wiIFwiK3h0LGp0PVwiT3BlcmFcIix6dD1qdCtcIiBNaW5pXCIsV3Q9XCJFZGdlXCIsVnQ9XCJNaWNyb3NvZnQgXCIrV3QsR3Q9XCJGaXJlZm94XCIsSnQ9R3QrXCIgXCIrSXQsWXQ9XCJOaW50ZW5kb1wiLEt0PVwiUGxheVN0YXRpb25cIixYdD1cIlhib3hcIixRdD1DdCtcIiBcIit4dCxadD14dCtcIiBcIitPdCxlaT1cIldpbmRvd3NcIix0aT1laStcIiBQaG9uZVwiLGlpPVwiTm9raWFcIixyaT1cIk91eWFcIixzaT1cIkdlbmVyaWNcIixuaT1zaStcIiBcIit4dC50b0xvd2VyQ2FzZSgpLG9pPXNpK1wiIFwiK1B0LnRvTG93ZXJDYXNlKCksYWk9XCJLb25xdWVyb3JcIixsaT1cIihcXFxcZCsoXFxcXC5cXFxcZCspPylcIix1aT1uZXcgUmVnRXhwKFwiVmVyc2lvbi9cIitsaSksY2k9bmV3IFJlZ0V4cChYdCxcImlcIiksZGk9bmV3IFJlZ0V4cChLdCtcIiBcXFxcdytcIixcImlcIiksaGk9bmV3IFJlZ0V4cChZdCtcIiBcXFxcdytcIixcImlcIiksX2k9bmV3IFJlZ0V4cChNdCtcInxQbGF5Qm9va3xCQjEwXCIsXCJpXCIpLHBpPXtcIk5UMy41MVwiOlwiTlQgMy4xMVwiLFwiTlQ0LjBcIjpcIk5UIDQuMFwiLFwiNS4wXCI6XCIyMDAwXCIsNS4xOlwiWFBcIiw1LjI6XCJYUFwiLFwiNi4wXCI6XCJWaXN0YVwiLDYuMTpcIjdcIiw2LjI6XCI4XCIsNi4zOlwiOC4xXCIsNi40OlwiMTBcIixcIjEwLjBcIjpcIjEwXCJ9O3ZhciB2aT0oZSx0KT0+dCYmJCh0LFJ0KXx8ZnVuY3Rpb24oZSl7cmV0dXJuICQoZSxPdCkmJiEkKGUsTnQpJiYhJChlLEN0KX0oZSksZ2k9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxcIlwiLCQoZSxcIiBPUFIvXCIpJiYkKGUsXCJNaW5pXCIpP3p0OiQoZSxcIiBPUFIvXCIpP2p0Ol9pLnRlc3QoZSk/TXQ6JChlLFwiSUVcIit4dCl8fCQoZSxcIldQRGVza3RvcFwiKT9VdDokKGUsTHQpP0R0OiQoZSxXdCl8fCQoZSxcIkVkZy9cIik/VnQ6JChlLFwiRkJJT1NcIik/XCJGYWNlYm9vayBcIit4dDokKGUsXCJVQ1dFQlwiKXx8JChlLFwiVUNCcm93c2VyXCIpP1wiVUMgQnJvd3NlclwiOiQoZSxcIkNyaU9TXCIpP0J0OiQoZSxcIkNyTW9cIil8fCQoZSxOdCk/TnQ6JChlLEN0KSYmJChlLE90KT9RdDokKGUsXCJGeGlPU1wiKT9KdDokKGUudG9Mb3dlckNhc2UoKSxhaS50b0xvd2VyQ2FzZSgpKT9haTp2aShlLHQpPyQoZSx4dCk/WnQ6T3Q6JChlLEd0KT9HdDokKGUsXCJNU0lFXCIpfHwkKGUsXCJUcmlkZW50L1wiKT9IdDokKGUsXCJHZWNrb1wiKT9HdDpcIlwifSxmaT17W1V0XTpbbmV3IFJlZ0V4cChcInJ2OlwiK2xpKV0sW1Z0XTpbbmV3IFJlZ0V4cChXdCtcIj9cXFxcL1wiK2xpKV0sW050XTpbbmV3IFJlZ0V4cChcIihcIitOdCtcInxDck1vKVxcXFwvXCIrbGkpXSxbQnRdOltuZXcgUmVnRXhwKFwiQ3JpT1NcXFxcL1wiK2xpKV0sXCJVQyBCcm93c2VyXCI6W25ldyBSZWdFeHAoXCIoVUNCcm93c2VyfFVDV0VCKVxcXFwvXCIrbGkpXSxbT3RdOlt1aV0sW1p0XTpbdWldLFtqdF06W25ldyBSZWdFeHAoXCIoT3BlcmF8T1BSKVxcXFwvXCIrbGkpXSxbR3RdOltuZXcgUmVnRXhwKEd0K1wiXFxcXC9cIitsaSldLFtKdF06W25ldyBSZWdFeHAoXCJGeGlPU1xcXFwvXCIrbGkpXSxbYWldOltuZXcgUmVnRXhwKFwiS29ucXVlcm9yWzovXT9cIitsaSxcImlcIildLFtNdF06W25ldyBSZWdFeHAoTXQrXCIgXCIrbGkpLHVpXSxbUXRdOltuZXcgUmVnRXhwKFwiYW5kcm9pZFxcXFxzXCIrbGksXCJpXCIpXSxbRHRdOltuZXcgUmVnRXhwKEx0K1wiXFxcXC9cIitsaSldLFtIdF06W25ldyBSZWdFeHAoXCIocnY6fE1TSUUgKVwiK2xpKV0sTW96aWxsYTpbbmV3IFJlZ0V4cChcInJ2OlwiK2xpKV19LG1pPVtbbmV3IFJlZ0V4cChYdCtcIjsgXCIrWHQrXCIgKC4qPylbKTtdXCIsXCJpXCIpLGU9PltYdCxlJiZlWzFdfHxcIlwiXV0sW25ldyBSZWdFeHAoWXQsXCJpXCIpLFtZdCxcIlwiXV0sW25ldyBSZWdFeHAoS3QsXCJpXCIpLFtLdCxcIlwiXV0sW19pLFtNdCxcIlwiXV0sW25ldyBSZWdFeHAoZWksXCJpXCIpLChlLHQpPT57aWYoL1Bob25lLy50ZXN0KHQpfHwvV1BEZXNrdG9wLy50ZXN0KHQpKXJldHVyblt0aSxcIlwiXTtpZihuZXcgUmVnRXhwKHh0KS50ZXN0KHQpJiYhL0lFTW9iaWxlXFxiLy50ZXN0KHQpKXJldHVybltlaStcIiBcIit4dCxcIlwiXTt2YXIgaT0vV2luZG93cyBOVCAoWzAtOS5dKykvaS5leGVjKHQpO2lmKGkmJmlbMV0pe3ZhciByPWlbMV0scz1waVtyXXx8XCJcIjtyZXR1cm4vYXJtL2kudGVzdCh0KSYmKHM9XCJSVFwiKSxbZWksc119cmV0dXJuW2VpLFwiXCJdfV0sWy8oKGlQaG9uZXxpUGFkfGlQb2QpLio/T1MgKFxcZCspXyhcXGQrKV8/KFxcZCspP3xpUGhvbmUpLyxlPT57aWYoZSYmZVszXSl7dmFyIHQ9W2VbM10sZVs0XSxlWzVdfHxcIjBcIl07cmV0dXJuW0l0LHQuam9pbihcIi5cIildfXJldHVybltJdCxcIlwiXX1dLFsvKHdhdGNoLipcXC8oXFxkK1xcLlxcZCtcXC5cXGQrKXx3YXRjaCBvcywoXFxkK1xcLlxcZCspLCkvaSxlPT57dmFyIHQ9XCJcIjtyZXR1cm4gZSYmZS5sZW5ndGg+PTMmJih0PXooZVsyXSk/ZVszXTplWzJdKSxbXCJ3YXRjaE9TXCIsdF19XSxbbmV3IFJlZ0V4cChcIihcIitDdCtcIiAoXFxcXGQrKVxcXFwuKFxcXFxkKylcXFxcLj8oXFxcXGQrKT98XCIrQ3QrXCIpXCIsXCJpXCIpLGU9PntpZihlJiZlWzJdKXt2YXIgdD1bZVsyXSxlWzNdLGVbNF18fFwiMFwiXTtyZXR1cm5bQ3QsdC5qb2luKFwiLlwiKV19cmV0dXJuW0N0LFwiXCJdfV0sWy9NYWMgT1MgWCAoXFxkKylbXy5dKFxcZCspW18uXT8oXFxkKyk/L2ksZT0+e3ZhciB0PVtcIk1hYyBPUyBYXCIsXCJcIl07aWYoZSYmZVsxXSl7dmFyIGk9W2VbMV0sZVsyXSxlWzNdfHxcIjBcIl07dFsxXT1pLmpvaW4oXCIuXCIpfXJldHVybiB0fV0sWy9NYWMvaSxbXCJNYWMgT1MgWFwiLFwiXCJdXSxbL0NyT1MvLFtxdCxcIlwiXV0sWy9MaW51eHxkZWJpYW4vaSxbXCJMaW51eFwiLFwiXCJdXV0sYmk9ZnVuY3Rpb24oZSl7cmV0dXJuIGhpLnRlc3QoZSk/WXQ6ZGkudGVzdChlKT9LdDpjaS50ZXN0KGUpP1h0Om5ldyBSZWdFeHAocmksXCJpXCIpLnRlc3QoZSk/cmk6bmV3IFJlZ0V4cChcIihcIit0aStcInxXUERlc2t0b3ApXCIsXCJpXCIpLnRlc3QoZSk/dGk6L2lQYWQvLnRlc3QoZSk/VHQ6L2lQb2QvLnRlc3QoZSk/XCJpUG9kIFRvdWNoXCI6L2lQaG9uZS8udGVzdChlKT9cImlQaG9uZVwiOi8od2F0Y2gpKD86ID9vc1ssL118XFxkLFxcZFxcLylbXFxkLl0rL2kudGVzdChlKT8kdDpfaS50ZXN0KGUpP010Oi8oa29ibylcXHMoZXJlYWRlcnx0b3VjaCkvaS50ZXN0KGUpP1wiS29ib1wiOm5ldyBSZWdFeHAoaWksXCJpXCIpLnRlc3QoZSk/aWk6LyhrZlthLXpdezJ9d2l8YWVvW2Mtcl17Mn0pKCBidWl8XFwpKS9pLnRlc3QoZSl8fC8oa2ZbYS16XSspKCBidWl8XFwpKS4rc2lsa1xcLy9pLnRlc3QoZSk/XCJLaW5kbGUgRmlyZVwiOi8oQW5kcm9pZHxaVEUpL2kudGVzdChlKT8hbmV3IFJlZ0V4cCh4dCkudGVzdChlKXx8Lyg5MTM4QnxUQjc4MkJ8TmV4dXMgWzk3XXxwaXhlbCBjfEhVQVdFSVNIVHxCVFZ8bm9ibGUgbm9va3xzbWFydCB1bHRyYSA2KS9pLnRlc3QoZSk/L3BpeGVsW1xcZGF4bCBdezEsNn0vaS50ZXN0KGUpJiYhL3BpeGVsIGMvaS50ZXN0KGUpfHwvKGh1YXdlaW1lZC1hbDAwfHRhaC18QVBBfFNNLUc5MnxpOTgwfHp0ZXxVMzA0QUEpL2kudGVzdChlKXx8L2xteTQ3di9pLnRlc3QoZSkmJiEvUVRBUVozL2kudGVzdChlKT9DdDpGdDpDdDpuZXcgUmVnRXhwKFwiKHBkYXxcIit4dCtcIilcIixcImlcIikudGVzdChlKT9uaTpuZXcgUmVnRXhwKFB0LFwiaVwiKS50ZXN0KGUpJiYhbmV3IFJlZ0V4cChQdCtcIiBwY1wiLFwiaVwiKS50ZXN0KGUpP29pOlwiXCJ9LHlpPVwiaHR0cHM/Oi8vKC4qKVwiLHdpPVtcImdjbGlkXCIsXCJnY2xzcmNcIixcImRjbGlkXCIsXCJnYnJhaWRcIixcIndicmFpZFwiLFwiZmJjbGlkXCIsXCJtc2Nsa2lkXCIsXCJ0d2NsaWRcIixcImxpX2ZhdF9pZFwiLFwiaWdzaGlkXCIsXCJ0dGNsaWRcIixcInJkdF9jaWRcIixcImlyY2xpZFwiLFwiX2t4XCJdLFNpPVMoW1widXRtX3NvdXJjZVwiLFwidXRtX21lZGl1bVwiLFwidXRtX2NhbXBhaWduXCIsXCJ1dG1fY29udGVudFwiLFwidXRtX3Rlcm1cIixcImdhZF9zb3VyY2VcIixcIm1jX2NpZFwiXSx3aSksa2k9XCI8bWFza2VkPlwiLEVpPXtjYW1wYWlnblBhcmFtczpmdW5jdGlvbigpe3ZhcntjdXN0b21UcmFja2VkUGFyYW1zOmUsbWFza1BlcnNvbmFsRGF0YVByb3BlcnRpZXM6dCxjdXN0b21QZXJzb25hbERhdGFQcm9wZXJ0aWVzOml9PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtpZighYSlyZXR1cm57fTt2YXIgcj10P1MoW10sd2ksaXx8W10pOltdO3JldHVybiB0aGlzLl9jYW1wYWlnblBhcmFtc0Zyb21Vcmwoa3QoYS5VUkwscixraSksZSl9LF9jYW1wYWlnblBhcmFtc0Zyb21Vcmw6ZnVuY3Rpb24oZSx0KXt2YXIgaT1TaS5jb25jYXQodHx8W10pLHI9e307cmV0dXJuIHkoaSwoZnVuY3Rpb24odCl7dmFyIGk9U3QoZSx0KTtyW3RdPWl8fG51bGx9KSkscn0sX3NlYXJjaEVuZ2luZTpmdW5jdGlvbihlKXtyZXR1cm4gZT8wPT09ZS5zZWFyY2goeWkrXCJnb29nbGUuKFteLz9dKilcIik/XCJnb29nbGVcIjowPT09ZS5zZWFyY2goeWkrXCJiaW5nLmNvbVwiKT9cImJpbmdcIjowPT09ZS5zZWFyY2goeWkrXCJ5YWhvby5jb21cIik/XCJ5YWhvb1wiOjA9PT1lLnNlYXJjaCh5aStcImR1Y2tkdWNrZ28uY29tXCIpP1wiZHVja2R1Y2tnb1wiOm51bGw6bnVsbH0sX3NlYXJjaEluZm9Gcm9tUmVmZXJyZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9RWkuX3NlYXJjaEVuZ2luZShlKSxpPVwieWFob29cIiE9dD9cInFcIjpcInBcIixyPXt9O2lmKCFHKHQpKXtyLiRzZWFyY2hfZW5naW5lPXQ7dmFyIHM9YT9TdChhLnJlZmVycmVyLGkpOlwiXCI7cy5sZW5ndGgmJihyLnBoX2tleXdvcmQ9cyl9cmV0dXJuIHJ9LHNlYXJjaEluZm86ZnVuY3Rpb24oKXt2YXIgZT1udWxsPT1hP3ZvaWQgMDphLnJlZmVycmVyO3JldHVybiBlP3RoaXMuX3NlYXJjaEluZm9Gcm9tUmVmZXJyZXIoZSk6e319LGJyb3dzZXI6Z2ksYnJvd3NlclZlcnNpb246ZnVuY3Rpb24oZSx0KXt2YXIgaT1naShlLHQpLHI9ZmlbaV07aWYoeihyKSlyZXR1cm4gbnVsbDtmb3IodmFyIHM9MDtzPHIubGVuZ3RoO3MrKyl7dmFyIG49cltzXSxvPWUubWF0Y2gobik7aWYobylyZXR1cm4gcGFyc2VGbG9hdChvW28ubGVuZ3RoLTJdKX1yZXR1cm4gbnVsbH0sYnJvd3Nlckxhbmd1YWdlOmZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci5sYW5ndWFnZXx8bmF2aWdhdG9yLnVzZXJMYW5ndWFnZX0sYnJvd3Nlckxhbmd1YWdlUHJlZml4OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5icm93c2VyTGFuZ3VhZ2UoKTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT9lLnNwbGl0KFwiLVwiKVswXTp2b2lkIDB9LG9zOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8bWkubGVuZ3RoO3QrKyl7dmFyW2kscl09bWlbdF0scz1pLmV4ZWMoZSksbj1zJiYoSChyKT9yKHMsZSk6cik7aWYobilyZXR1cm4gbn1yZXR1cm5bXCJcIixcIlwiXX0sZGV2aWNlOmJpLGRldmljZVR5cGU6ZnVuY3Rpb24oZSl7dmFyIHQ9YmkoZSk7cmV0dXJuIHQ9PT1UdHx8dD09PUZ0fHxcIktvYm9cIj09PXR8fFwiS2luZGxlIEZpcmVcIj09PXR8fHQ9PT1vaT9QdDp0PT09WXR8fHQ9PT1YdHx8dD09PUt0fHx0PT09cmk/XCJDb25zb2xlXCI6dD09PSR0P1wiV2VhcmFibGVcIjp0P3h0OlwiRGVza3RvcFwifSxyZWZlcnJlcjpmdW5jdGlvbigpe3JldHVybihudWxsPT1hP3ZvaWQgMDphLnJlZmVycmVyKXx8XCIkZGlyZWN0XCJ9LHJlZmVycmluZ0RvbWFpbjpmdW5jdGlvbigpe3ZhciBlO3JldHVybiBudWxsIT1hJiZhLnJlZmVycmVyJiYobnVsbD09PShlPXl0KGEucmVmZXJyZXIpKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5ob3N0KXx8XCIkZGlyZWN0XCJ9LHJlZmVycmVySW5mbzpmdW5jdGlvbigpe3JldHVybnskcmVmZXJyZXI6dGhpcy5yZWZlcnJlcigpLCRyZWZlcnJpbmdfZG9tYWluOnRoaXMucmVmZXJyaW5nRG9tYWluKCl9fSxpbml0aWFsUGVyc29uSW5mbzpmdW5jdGlvbigpe3JldHVybntyOnRoaXMucmVmZXJyZXIoKS5zdWJzdHJpbmcoMCwxZTMpLHU6bnVsbD09bD92b2lkIDA6bC5ocmVmLnN1YnN0cmluZygwLDFlMyl9fSxpbml0aWFsUGVyc29uUHJvcHNGcm9tSW5mbzpmdW5jdGlvbihlKXt2YXIgdCx7cjppLHU6cn09ZSxzPXskaW5pdGlhbF9yZWZlcnJlcjppLCRpbml0aWFsX3JlZmVycmluZ19kb21haW46bnVsbD09aT92b2lkIDA6XCIkZGlyZWN0XCI9PWk/XCIkZGlyZWN0XCI6bnVsbD09PSh0PXl0KGkpKXx8dm9pZCAwPT09dD92b2lkIDA6dC5ob3N0fTtpZihyKXtzLiRpbml0aWFsX2N1cnJlbnRfdXJsPXI7dmFyIG49eXQocik7cy4kaW5pdGlhbF9ob3N0PW51bGw9PW4/dm9pZCAwOm4uaG9zdCxzLiRpbml0aWFsX3BhdGhuYW1lPW51bGw9PW4/dm9pZCAwOm4ucGF0aG5hbWUseSh0aGlzLl9jYW1wYWlnblBhcmFtc0Zyb21VcmwociksKGZ1bmN0aW9uKGUsdCl7c1tcIiRpbml0aWFsX1wiK00odCldPWV9KSl9aSYmeSh0aGlzLl9zZWFyY2hJbmZvRnJvbVJlZmVycmVyKGkpLChmdW5jdGlvbihlLHQpe3NbXCIkaW5pdGlhbF9cIitNKHQpXT1lfSkpO3JldHVybiBzfSx0aW1lem9uZTpmdW5jdGlvbigpe3RyeXtyZXR1cm4gSW50bC5EYXRlVGltZUZvcm1hdCgpLnJlc29sdmVkT3B0aW9ucygpLnRpbWVab25lfWNhdGNoKGUpe3JldHVybn19LHRpbWV6b25lT2Zmc2V0OmZ1bmN0aW9uKCl7dHJ5e3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZXpvbmVPZmZzZXQoKX1jYXRjaChlKXtyZXR1cm59fSxwcm9wZXJ0aWVzOmZ1bmN0aW9uKCl7dmFye21hc2tQZXJzb25hbERhdGFQcm9wZXJ0aWVzOmUsY3VzdG9tUGVyc29uYWxEYXRhUHJvcGVydGllczppfT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307aWYoIWgpcmV0dXJue307dmFyIHI9ZT9TKFtdLHdpLGl8fFtdKTpbXSxbcyxuXT1FaS5vcyhoKTtyZXR1cm4gdyhJKHskb3M6cywkb3NfdmVyc2lvbjpuLCRicm93c2VyOkVpLmJyb3dzZXIoaCxuYXZpZ2F0b3IudmVuZG9yKSwkZGV2aWNlOkVpLmRldmljZShoKSwkZGV2aWNlX3R5cGU6RWkuZGV2aWNlVHlwZShoKSwkdGltZXpvbmU6RWkudGltZXpvbmUoKSwkdGltZXpvbmVfb2Zmc2V0OkVpLnRpbWV6b25lT2Zmc2V0KCl9KSx7JGN1cnJlbnRfdXJsOmt0KG51bGw9PWw/dm9pZCAwOmwuaHJlZixyLGtpKSwkaG9zdDpudWxsPT1sP3ZvaWQgMDpsLmhvc3QsJHBhdGhuYW1lOm51bGw9PWw/dm9pZCAwOmwucGF0aG5hbWUsJHJhd191c2VyX2FnZW50OmgubGVuZ3RoPjFlMz9oLnN1YnN0cmluZygwLDk5NykrXCIuLi5cIjpoLCRicm93c2VyX3ZlcnNpb246RWkuYnJvd3NlclZlcnNpb24oaCxuYXZpZ2F0b3IudmVuZG9yKSwkYnJvd3Nlcl9sYW5ndWFnZTpFaS5icm93c2VyTGFuZ3VhZ2UoKSwkYnJvd3Nlcl9sYW5ndWFnZV9wcmVmaXg6RWkuYnJvd3Nlckxhbmd1YWdlUHJlZml4KCksJHNjcmVlbl9oZWlnaHQ6bnVsbD09dD92b2lkIDA6dC5zY3JlZW4uaGVpZ2h0LCRzY3JlZW5fd2lkdGg6bnVsbD09dD92b2lkIDA6dC5zY3JlZW4ud2lkdGgsJHZpZXdwb3J0X2hlaWdodDpudWxsPT10P3ZvaWQgMDp0LmlubmVySGVpZ2h0LCR2aWV3cG9ydF93aWR0aDpudWxsPT10P3ZvaWQgMDp0LmlubmVyV2lkdGgsJGxpYjpcIndlYlwiLCRsaWJfdmVyc2lvbjpwLkxJQl9WRVJTSU9OLCRpbnNlcnRfaWQ6TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsMTApK01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLDEwKSwkdGltZTpEYXRlLm5vdygpLzFlM30pfSxwZW9wbGVfcHJvcGVydGllczpmdW5jdGlvbigpe2lmKCFoKXJldHVybnt9O3ZhcltlLHRdPUVpLm9zKGgpO3JldHVybiB3KEkoeyRvczplLCRvc192ZXJzaW9uOnQsJGJyb3dzZXI6RWkuYnJvd3NlcihoLG5hdmlnYXRvci52ZW5kb3IpfSkseyRicm93c2VyX3ZlcnNpb246RWkuYnJvd3NlclZlcnNpb24oaCxuYXZpZ2F0b3IudmVuZG9yKX0pfX0seGk9W1wiY29va2llXCIsXCJsb2NhbHN0b3JhZ2VcIixcImxvY2Fsc3RvcmFnZStjb29raWVcIixcInNlc3Npb25zdG9yYWdlXCIsXCJtZW1vcnlcIl07Y2xhc3MgSWl7Y29uc3RydWN0b3IoZSl7dGhpcy5jb25maWc9ZSx0aGlzLnByb3BzPXt9LHRoaXMuY2FtcGFpZ25fcGFyYW1zX3NhdmVkPSExLHRoaXMubmFtZT0oZT0+e3ZhciB0PVwiXCI7cmV0dXJuIGUudG9rZW4mJih0PWUudG9rZW4ucmVwbGFjZSgvXFwrL2csXCJQTFwiKS5yZXBsYWNlKC9cXC8vZyxcIlNMXCIpLnJlcGxhY2UoLz0vZyxcIkVRXCIpKSxlLnBlcnNpc3RlbmNlX25hbWU/XCJwaF9cIitlLnBlcnNpc3RlbmNlX25hbWU6XCJwaF9cIit0K1wiX3Bvc3Rob2dcIn0pKGUpLHRoaXMuc3RvcmFnZT10aGlzLmJ1aWxkU3RvcmFnZShlKSx0aGlzLmxvYWQoKSxlLmRlYnVnJiZlZS5pbmZvKFwiUGVyc2lzdGVuY2UgbG9hZGVkXCIsZS5wZXJzaXN0ZW5jZSxuZSh7fSx0aGlzLnByb3BzKSksdGhpcy51cGRhdGVfY29uZmlnKGUsZSksdGhpcy5zYXZlKCl9YnVpbGRTdG9yYWdlKGUpey0xPT09eGkuaW5kZXhPZihlLnBlcnNpc3RlbmNlLnRvTG93ZXJDYXNlKCkpJiYoZWUuY3JpdGljYWwoXCJVbmtub3duIHBlcnNpc3RlbmNlIHR5cGUgXCIrZS5wZXJzaXN0ZW5jZStcIjsgZmFsbGluZyBiYWNrIHRvIGxvY2FsU3RvcmFnZStjb29raWVcIiksZS5wZXJzaXN0ZW5jZT1cImxvY2FsU3RvcmFnZStjb29raWVcIik7dmFyIHQ9ZS5wZXJzaXN0ZW5jZS50b0xvd2VyQ2FzZSgpO3JldHVyblwibG9jYWxzdG9yYWdlXCI9PT10JiZodC5pc19zdXBwb3J0ZWQoKT9odDpcImxvY2Fsc3RvcmFnZStjb29raWVcIj09PXQmJnB0LmlzX3N1cHBvcnRlZCgpP3B0Olwic2Vzc2lvbnN0b3JhZ2VcIj09PXQmJm10LmlzX3N1cHBvcnRlZCgpP210OlwibWVtb3J5XCI9PT10P2d0OlwiY29va2llXCI9PT10P2N0OnB0LmlzX3N1cHBvcnRlZCgpP3B0OmN0fXByb3BlcnRpZXMoKXt2YXIgZT17fTtyZXR1cm4geSh0aGlzLnByb3BzLChmdW5jdGlvbih0LGkpe2lmKGk9PT1QZSYmVSh0KSlmb3IodmFyIHI9T2JqZWN0LmtleXModCkscz0wO3M8ci5sZW5ndGg7cysrKWVbXCIkZmVhdHVyZS9cIi5jb25jYXQocltzXSldPXRbcltzXV07ZWxzZSBhPWksbD0hMSwoRyhvPXplKT9sOm4mJm8uaW5kZXhPZj09PW4/LTEhPW8uaW5kZXhPZihhKTooeShvLChmdW5jdGlvbihlKXtpZihsfHwobD1lPT09YSkpcmV0dXJuIG19KSksbCkpfHwoZVtpXT10KTt2YXIgbyxhLGx9KSksZX1sb2FkKCl7aWYoIXRoaXMuZGlzYWJsZWQpe3ZhciBlPXRoaXMuc3RvcmFnZS5wYXJzZSh0aGlzLm5hbWUpO2UmJih0aGlzLnByb3BzPXcoe30sZSkpfX1zYXZlKCl7dGhpcy5kaXNhYmxlZHx8dGhpcy5zdG9yYWdlLnNldCh0aGlzLm5hbWUsdGhpcy5wcm9wcyx0aGlzLmV4cGlyZV9kYXlzLHRoaXMuY3Jvc3Nfc3ViZG9tYWluLHRoaXMuc2VjdXJlLHRoaXMuY29uZmlnLmRlYnVnKX1yZW1vdmUoKXt0aGlzLnN0b3JhZ2UucmVtb3ZlKHRoaXMubmFtZSwhMSksdGhpcy5zdG9yYWdlLnJlbW92ZSh0aGlzLm5hbWUsITApfWNsZWFyKCl7dGhpcy5yZW1vdmUoKSx0aGlzLnByb3BzPXt9fXJlZ2lzdGVyX29uY2UoZSx0LGkpe2lmKFUoZSkpe3oodCkmJih0PVwiTm9uZVwiKSx0aGlzLmV4cGlyZV9kYXlzPXooaSk/dGhpcy5kZWZhdWx0X2V4cGlyeTppO3ZhciByPSExO2lmKHkoZSwoKGUsaSk9Pnt0aGlzLnByb3BzLmhhc093blByb3BlcnR5KGkpJiZ0aGlzLnByb3BzW2ldIT09dHx8KHRoaXMucHJvcHNbaV09ZSxyPSEwKX0pKSxyKXJldHVybiB0aGlzLnNhdmUoKSwhMH1yZXR1cm4hMX1yZWdpc3RlcihlLHQpe2lmKFUoZSkpe3RoaXMuZXhwaXJlX2RheXM9eih0KT90aGlzLmRlZmF1bHRfZXhwaXJ5OnQ7dmFyIGk9ITE7aWYoeShlLCgodCxyKT0+e2UuaGFzT3duUHJvcGVydHkocikmJnRoaXMucHJvcHNbcl0hPT10JiYodGhpcy5wcm9wc1tyXT10LGk9ITApfSkpLGkpcmV0dXJuIHRoaXMuc2F2ZSgpLCEwfXJldHVybiExfXVucmVnaXN0ZXIoZSl7ZSBpbiB0aGlzLnByb3BzJiYoZGVsZXRlIHRoaXMucHJvcHNbZV0sdGhpcy5zYXZlKCkpfXVwZGF0ZV9jYW1wYWlnbl9wYXJhbXMoKXtpZighdGhpcy5jYW1wYWlnbl9wYXJhbXNfc2F2ZWQpe3ZhciBlPUVpLmNhbXBhaWduUGFyYW1zKHtjdXN0b21UcmFja2VkUGFyYW1zOnRoaXMuY29uZmlnLmN1c3RvbV9jYW1wYWlnbl9wYXJhbXMsbWFza1BlcnNvbmFsRGF0YVByb3BlcnRpZXM6dGhpcy5jb25maWcubWFza19wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMsY3VzdG9tUGVyc29uYWxEYXRhUHJvcGVydGllczp0aGlzLmNvbmZpZy5jdXN0b21fcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzfSk7aihJKGUpKXx8dGhpcy5yZWdpc3RlcihlKSx0aGlzLmNhbXBhaWduX3BhcmFtc19zYXZlZD0hMH19dXBkYXRlX3NlYXJjaF9rZXl3b3JkKCl7dGhpcy5yZWdpc3RlcihFaS5zZWFyY2hJbmZvKCkpfXVwZGF0ZV9yZWZlcnJlcl9pbmZvKCl7dGhpcy5yZWdpc3Rlcl9vbmNlKEVpLnJlZmVycmVySW5mbygpLHZvaWQgMCl9c2V0X2luaXRpYWxfcGVyc29uX2luZm8oKXt0aGlzLnByb3BzW05lXXx8dGhpcy5wcm9wc1txZV18fHRoaXMucmVnaXN0ZXJfb25jZSh7W0JlXTpFaS5pbml0aWFsUGVyc29uSW5mbygpfSx2b2lkIDApfWdldF9yZWZlcnJlcl9pbmZvKCl7cmV0dXJuIEkoeyRyZWZlcnJlcjp0aGlzLnByb3BzLiRyZWZlcnJlciwkcmVmZXJyaW5nX2RvbWFpbjp0aGlzLnByb3BzLiRyZWZlcnJpbmdfZG9tYWlufSl9Z2V0X2luaXRpYWxfcHJvcHMoKXt2YXIgZT17fTt5KFtxZSxOZV0sKHQ9Pnt2YXIgaT10aGlzLnByb3BzW3RdO2kmJnkoaSwoZnVuY3Rpb24odCxpKXtlW1wiJGluaXRpYWxfXCIrTShpKV09dH0pKX0pKTt2YXIgdD10aGlzLnByb3BzW0JlXTtpZih0KXt2YXIgaT1FaS5pbml0aWFsUGVyc29uUHJvcHNGcm9tSW5mbyh0KTt3KGUsaSl9cmV0dXJuIGV9c2FmZV9tZXJnZShlKXtyZXR1cm4geSh0aGlzLnByb3BzLChmdW5jdGlvbih0LGkpe2kgaW4gZXx8KGVbaV09dCl9KSksZX11cGRhdGVfY29uZmlnKGUsdCl7aWYodGhpcy5kZWZhdWx0X2V4cGlyeT10aGlzLmV4cGlyZV9kYXlzPWUuY29va2llX2V4cGlyYXRpb24sdGhpcy5zZXRfZGlzYWJsZWQoZS5kaXNhYmxlX3BlcnNpc3RlbmNlKSx0aGlzLnNldF9jcm9zc19zdWJkb21haW4oZS5jcm9zc19zdWJkb21haW5fY29va2llKSx0aGlzLnNldF9zZWN1cmUoZS5zZWN1cmVfY29va2llKSxlLnBlcnNpc3RlbmNlIT09dC5wZXJzaXN0ZW5jZSl7dmFyIGk9dGhpcy5idWlsZFN0b3JhZ2UoZSkscj10aGlzLnByb3BzO3RoaXMuY2xlYXIoKSx0aGlzLnN0b3JhZ2U9aSx0aGlzLnByb3BzPXIsdGhpcy5zYXZlKCl9fXNldF9kaXNhYmxlZChlKXt0aGlzLmRpc2FibGVkPWUsdGhpcy5kaXNhYmxlZD90aGlzLnJlbW92ZSgpOnRoaXMuc2F2ZSgpfXNldF9jcm9zc19zdWJkb21haW4oZSl7ZSE9PXRoaXMuY3Jvc3Nfc3ViZG9tYWluJiYodGhpcy5jcm9zc19zdWJkb21haW49ZSx0aGlzLnJlbW92ZSgpLHRoaXMuc2F2ZSgpKX1nZXRfY3Jvc3Nfc3ViZG9tYWluKCl7cmV0dXJuISF0aGlzLmNyb3NzX3N1YmRvbWFpbn1zZXRfc2VjdXJlKGUpe2UhPT10aGlzLnNlY3VyZSYmKHRoaXMuc2VjdXJlPWUsdGhpcy5yZW1vdmUoKSx0aGlzLnNhdmUoKSl9c2V0X2V2ZW50X3RpbWVyKGUsdCl7dmFyIGk9dGhpcy5wcm9wc1tjZV18fHt9O2lbZV09dCx0aGlzLnByb3BzW2NlXT1pLHRoaXMuc2F2ZSgpfXJlbW92ZV9ldmVudF90aW1lcihlKXt2YXIgdD0odGhpcy5wcm9wc1tjZV18fHt9KVtlXTtyZXR1cm4geih0KXx8KGRlbGV0ZSB0aGlzLnByb3BzW2NlXVtlXSx0aGlzLnNhdmUoKSksdH1nZXRfcHJvcGVydHkoZSl7cmV0dXJuIHRoaXMucHJvcHNbZV19c2V0X3Byb3BlcnR5KGUsdCl7dGhpcy5wcm9wc1tlXT10LHRoaXMuc2F2ZSgpfX1mdW5jdGlvbiBDaShlKXt2YXIgdCxpO3JldHVybihudWxsPT09KHQ9SlNPTi5zdHJpbmdpZnkoZSwoaT1bXSxmdW5jdGlvbihlLHQpe2lmKFUodCkpe2Zvcig7aS5sZW5ndGg+MCYmaVtpLmxlbmd0aC0xXSE9PXRoaXM7KWkucG9wKCk7cmV0dXJuIGkuaW5jbHVkZXModCk/XCJbQ2lyY3VsYXJdXCI6KGkucHVzaCh0KSx0KX1yZXR1cm4gdH0pKSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQubGVuZ3RoKXx8MH1mdW5jdGlvbiBQaShlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06NjYwNjAyOC44O2lmKGUuc2l6ZT49dCYmZS5kYXRhLmxlbmd0aD4xKXt2YXIgaT1NYXRoLmZsb29yKGUuZGF0YS5sZW5ndGgvMikscj1lLmRhdGEuc2xpY2UoMCxpKSxzPWUuZGF0YS5zbGljZShpKTtyZXR1cm5bUGkoe3NpemU6Q2kociksZGF0YTpyLHNlc3Npb25JZDplLnNlc3Npb25JZCx3aW5kb3dJZDplLndpbmRvd0lkfSksUGkoe3NpemU6Q2kocyksZGF0YTpzLHNlc3Npb25JZDplLnNlc3Npb25JZCx3aW5kb3dJZDplLndpbmRvd0lkfSldLmZsYXRNYXAoKGU9PmUpKX1yZXR1cm5bZV19dmFyIEZpPShlPT4oZVtlLkRvbUNvbnRlbnRMb2FkZWQ9MF09XCJEb21Db250ZW50TG9hZGVkXCIsZVtlLkxvYWQ9MV09XCJMb2FkXCIsZVtlLkZ1bGxTbmFwc2hvdD0yXT1cIkZ1bGxTbmFwc2hvdFwiLGVbZS5JbmNyZW1lbnRhbFNuYXBzaG90PTNdPVwiSW5jcmVtZW50YWxTbmFwc2hvdFwiLGVbZS5NZXRhPTRdPVwiTWV0YVwiLGVbZS5DdXN0b209NV09XCJDdXN0b21cIixlW2UuUGx1Z2luPTZdPVwiUGx1Z2luXCIsZSkpKEZpfHx7fSksVGk9KGU9PihlW2UuTXV0YXRpb249MF09XCJNdXRhdGlvblwiLGVbZS5Nb3VzZU1vdmU9MV09XCJNb3VzZU1vdmVcIixlW2UuTW91c2VJbnRlcmFjdGlvbj0yXT1cIk1vdXNlSW50ZXJhY3Rpb25cIixlW2UuU2Nyb2xsPTNdPVwiU2Nyb2xsXCIsZVtlLlZpZXdwb3J0UmVzaXplPTRdPVwiVmlld3BvcnRSZXNpemVcIixlW2UuSW5wdXQ9NV09XCJJbnB1dFwiLGVbZS5Ub3VjaE1vdmU9Nl09XCJUb3VjaE1vdmVcIixlW2UuTWVkaWFJbnRlcmFjdGlvbj03XT1cIk1lZGlhSW50ZXJhY3Rpb25cIixlW2UuU3R5bGVTaGVldFJ1bGU9OF09XCJTdHlsZVNoZWV0UnVsZVwiLGVbZS5DYW52YXNNdXRhdGlvbj05XT1cIkNhbnZhc011dGF0aW9uXCIsZVtlLkZvbnQ9MTBdPVwiRm9udFwiLGVbZS5Mb2c9MTFdPVwiTG9nXCIsZVtlLkRyYWc9MTJdPVwiRHJhZ1wiLGVbZS5TdHlsZURlY2xhcmF0aW9uPTEzXT1cIlN0eWxlRGVjbGFyYXRpb25cIixlW2UuU2VsZWN0aW9uPTE0XT1cIlNlbGVjdGlvblwiLGVbZS5BZG9wdGVkU3R5bGVTaGVldD0xNV09XCJBZG9wdGVkU3R5bGVTaGVldFwiLGVbZS5DdXN0b21FbGVtZW50PTE2XT1cIkN1c3RvbUVsZW1lbnRcIixlKSkoVGl8fHt9KTtmdW5jdGlvbiBSaShlKXt2YXIgdDtyZXR1cm4gZSBpbnN0YW5jZW9mIEVsZW1lbnQmJihlLmlkPT09VWV8fCEobnVsbD09PSh0PWUuY2xvc2VzdCl8fHZvaWQgMD09PXR8fCF0LmNhbGwoZSxcIi50b29sYmFyLWdsb2JhbC1mYWRlLWNvbnRhaW5lclwiKSkpfWZ1bmN0aW9uICRpKGUpe3JldHVybiEhZSYmMT09PWUubm9kZVR5cGV9ZnVuY3Rpb24gT2koZSx0KXtyZXR1cm4hIWUmJiEhZS50YWdOYW1lJiZlLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09PXQudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBNaShlKXtyZXR1cm4hIWUmJjM9PT1lLm5vZGVUeXBlfWZ1bmN0aW9uIEFpKGUpe3JldHVybiEhZSYmMTE9PT1lLm5vZGVUeXBlfWZ1bmN0aW9uIExpKGUpe3JldHVybiBlP08oZSkuc3BsaXQoL1xccysvKTpbXX1mdW5jdGlvbiBEaShlKXt2YXIgaT1udWxsPT10P3ZvaWQgMDp0LmxvY2F0aW9uLmhyZWY7cmV0dXJuISEoaSYmZSYmZS5zb21lKChlPT5pLm1hdGNoKGUpKSkpfWZ1bmN0aW9uIE5pKGUpe3ZhciB0PVwiXCI7c3dpdGNoKHR5cGVvZiBlLmNsYXNzTmFtZSl7Y2FzZVwic3RyaW5nXCI6dD1lLmNsYXNzTmFtZTticmVhaztjYXNlXCJvYmplY3RcIjp0PShlLmNsYXNzTmFtZSYmXCJiYXNlVmFsXCJpbiBlLmNsYXNzTmFtZT9lLmNsYXNzTmFtZS5iYXNlVmFsOm51bGwpfHxlLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwiO2JyZWFrO2RlZmF1bHQ6dD1cIlwifXJldHVybiBMaSh0KX1mdW5jdGlvbiBxaShlKXtyZXR1cm4gSihlKT9udWxsOk8oZSkuc3BsaXQoLyhcXHMrKS8pLmZpbHRlcigoZT0+WmkoZSkpKS5qb2luKFwiXCIpLnJlcGxhY2UoL1tcXHJcXG5dL2csXCIgXCIpLnJlcGxhY2UoL1sgXSsvZyxcIiBcIikuc3Vic3RyaW5nKDAsMjU1KX1mdW5jdGlvbiBCaShlKXt2YXIgdD1cIlwiO3JldHVybiBXaShlKSYmIVZpKGUpJiZlLmNoaWxkTm9kZXMmJmUuY2hpbGROb2Rlcy5sZW5ndGgmJnkoZS5jaGlsZE5vZGVzLChmdW5jdGlvbihlKXt2YXIgaTtNaShlKSYmZS50ZXh0Q29udGVudCYmKHQrPW51bGwhPT0oaT1xaShlLnRleHRDb250ZW50KSkmJnZvaWQgMCE9PWk/aTpcIlwiKX0pKSxPKHQpfWZ1bmN0aW9uIEhpKGUpe3JldHVybiB6KGUudGFyZ2V0KT9lLnNyY0VsZW1lbnR8fG51bGw6bnVsbCE9PSh0PWUudGFyZ2V0KSYmdm9pZCAwIT09dCYmdC5zaGFkb3dSb290P2UuY29tcG9zZWRQYXRoKClbMF18fG51bGw6ZS50YXJnZXR8fG51bGw7dmFyIHR9dmFyIFVpPVtcImFcIixcImJ1dHRvblwiLFwiZm9ybVwiLFwiaW5wdXRcIixcInNlbGVjdFwiLFwidGV4dGFyZWFcIixcImxhYmVsXCJdO2Z1bmN0aW9uIGppKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4hKCF0fHwhJGkodCkpJiZ0fWZ1bmN0aW9uIHppKGUsaSl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnZvaWQgMCxzPWFyZ3VtZW50cy5sZW5ndGg+Mz9hcmd1bWVudHNbM106dm9pZCAwLG49YXJndW1lbnRzLmxlbmd0aD40P2FyZ3VtZW50c1s0XTp2b2lkIDA7aWYoIXR8fCFlfHxPaShlLFwiaHRtbFwiKXx8ISRpKGUpKXJldHVybiExO2lmKG51bGwhPXImJnIudXJsX2FsbG93bGlzdCYmIURpKHIudXJsX2FsbG93bGlzdCkpcmV0dXJuITE7aWYobnVsbCE9ciYmci51cmxfaWdub3JlbGlzdCYmRGkoci51cmxfaWdub3JlbGlzdCkpcmV0dXJuITE7aWYobnVsbCE9ciYmci5kb21fZXZlbnRfYWxsb3dsaXN0KXt2YXIgbz1yLmRvbV9ldmVudF9hbGxvd2xpc3Q7aWYobyYmIW8uc29tZSgoZT0+aS50eXBlPT09ZSkpKXJldHVybiExfWZvcih2YXIgYT0hMSxsPVtlXSx1PSEwLGM9ZTtjLnBhcmVudE5vZGUmJiFPaShjLFwiYm9keVwiKTspaWYoQWkoYy5wYXJlbnROb2RlKSlsLnB1c2goYy5wYXJlbnROb2RlLmhvc3QpLGM9Yy5wYXJlbnROb2RlLmhvc3Q7ZWxzZXtpZighKHU9amkoYykpKWJyZWFrO2lmKHN8fFVpLmluZGV4T2YodS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpPi0xKWE9ITA7ZWxzZXt2YXIgZD10LmdldENvbXB1dGVkU3R5bGUodSk7ZCYmXCJwb2ludGVyXCI9PT1kLmdldFByb3BlcnR5VmFsdWUoXCJjdXJzb3JcIikmJihhPSEwKX1sLnB1c2godSksYz11fWlmKCFmdW5jdGlvbihlLHQpe3ZhciBpPW51bGw9PXQ/dm9pZCAwOnQuZWxlbWVudF9hbGxvd2xpc3Q7aWYoeihpKSlyZXR1cm4hMDt2YXIgcj1mdW5jdGlvbihlKXtpZihpLnNvbWUoKHQ9PmUudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT09dCkpKXJldHVybnt2OiEwfX07Zm9yKHZhciBzIG9mIGUpe3ZhciBuPXIocyk7aWYoXCJvYmplY3RcIj09dHlwZW9mIG4pcmV0dXJuIG4udn1yZXR1cm4hMX0obCxyKSlyZXR1cm4hMTtpZighZnVuY3Rpb24oZSx0KXt2YXIgaT1udWxsPT10P3ZvaWQgMDp0LmNzc19zZWxlY3Rvcl9hbGxvd2xpc3Q7aWYoeihpKSlyZXR1cm4hMDt2YXIgcj1mdW5jdGlvbihlKXtpZihpLnNvbWUoKHQ9PmUubWF0Y2hlcyh0KSkpKXJldHVybnt2OiEwfX07Zm9yKHZhciBzIG9mIGUpe3ZhciBuPXIocyk7aWYoXCJvYmplY3RcIj09dHlwZW9mIG4pcmV0dXJuIG4udn1yZXR1cm4hMX0obCxyKSlyZXR1cm4hMTt2YXIgaD10LmdldENvbXB1dGVkU3R5bGUoZSk7aWYoaCYmXCJwb2ludGVyXCI9PT1oLmdldFByb3BlcnR5VmFsdWUoXCJjdXJzb3JcIikmJlwiY2xpY2tcIj09PWkudHlwZSlyZXR1cm4hMDt2YXIgXz1lLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtzd2l0Y2goXyl7Y2FzZVwiaHRtbFwiOnJldHVybiExO2Nhc2VcImZvcm1cIjpyZXR1cm4obnx8W1wic3VibWl0XCJdKS5pbmRleE9mKGkudHlwZSk+PTA7Y2FzZVwiaW5wdXRcIjpjYXNlXCJzZWxlY3RcIjpjYXNlXCJ0ZXh0YXJlYVwiOnJldHVybihufHxbXCJjaGFuZ2VcIixcImNsaWNrXCJdKS5pbmRleE9mKGkudHlwZSk+PTA7ZGVmYXVsdDpyZXR1cm4gYT8obnx8W1wiY2xpY2tcIl0pLmluZGV4T2YoaS50eXBlKT49MDoobnx8W1wiY2xpY2tcIl0pLmluZGV4T2YoaS50eXBlKT49MCYmKFVpLmluZGV4T2YoXyk+LTF8fFwidHJ1ZVwiPT09ZS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpfX1mdW5jdGlvbiBXaShlKXtmb3IodmFyIHQ9ZTt0LnBhcmVudE5vZGUmJiFPaSh0LFwiYm9keVwiKTt0PXQucGFyZW50Tm9kZSl7dmFyIGk9TmkodCk7aWYoJChpLFwicGgtc2Vuc2l0aXZlXCIpfHwkKGksXCJwaC1uby1jYXB0dXJlXCIpKXJldHVybiExfWlmKCQoTmkoZSksXCJwaC1pbmNsdWRlXCIpKXJldHVybiEwO3ZhciByPWUudHlwZXx8XCJcIjtpZihXKHIpKXN3aXRjaChyLnRvTG93ZXJDYXNlKCkpe2Nhc2VcImhpZGRlblwiOmNhc2VcInBhc3N3b3JkXCI6cmV0dXJuITF9dmFyIHM9ZS5uYW1lfHxlLmlkfHxcIlwiO2lmKFcocykpe2lmKC9eY2N8Y2FyZG51bXxjY251bXxjcmVkaXRjYXJkfGNzY3xjdmN8Y3Z2fGV4cHxwYXNzfHB3ZHxyb3V0aW5nfHNlY2NvZGV8c2VjdXJpdHljb2RlfHNlY3VyaXR5bnVtfHNvY2lhbHNlY3xzb2NzZWN8c3NuL2kudGVzdChzLnJlcGxhY2UoL1teYS16QS1aMC05XS9nLFwiXCIpKSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBWaShlKXtyZXR1cm4hIShPaShlLFwiaW5wdXRcIikmJiFbXCJidXR0b25cIixcImNoZWNrYm94XCIsXCJzdWJtaXRcIixcInJlc2V0XCJdLmluY2x1ZGVzKGUudHlwZSl8fE9pKGUsXCJzZWxlY3RcIil8fE9pKGUsXCJ0ZXh0YXJlYVwiKXx8XCJ0cnVlXCI9PT1lLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSl9dmFyIEdpPVwiKDRbMC05XXsxMn0oPzpbMC05XXszfSk/KXwoNVsxLTVdWzAtOV17MTR9KXwoNig/OjAxMXw1WzAtOV17Mn0pWzAtOV17MTJ9KXwoM1s0N11bMC05XXsxM30pfCgzKD86MFswLTVdfFs2OF1bMC05XSlbMC05XXsxMX0pfCgoPzoyMTMxfDE4MDB8MzVbMC05XXszfSlbMC05XXsxMX0pXCIsSmk9bmV3IFJlZ0V4cChcIl4oPzpcIi5jb25jYXQoR2ksXCIpJFwiKSksWWk9bmV3IFJlZ0V4cChHaSksS2k9XCJcXFxcZHszfS0/XFxcXGR7Mn0tP1xcXFxkezR9XCIsWGk9bmV3IFJlZ0V4cChcIl4oXCIuY29uY2F0KEtpLFwiKSRcIikpLFFpPW5ldyBSZWdFeHAoXCIoXCIuY29uY2F0KEtpLFwiKVwiKSk7ZnVuY3Rpb24gWmkoZSl7dmFyIHQ9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXTtpZihKKGUpKXJldHVybiExO2lmKFcoZSkpe2lmKGU9TyhlKSwodD9KaTpZaSkudGVzdCgoZXx8XCJcIikucmVwbGFjZSgvWy0gXS9nLFwiXCIpKSlyZXR1cm4hMTtpZigodD9YaTpRaSkudGVzdChlKSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBlcihlKXt2YXIgdD1CaShlKTtyZXR1cm4gWmkodD1cIlwiLmNvbmNhdCh0LFwiIFwiKS5jb25jYXQodHIoZSkpLnRyaW0oKSk/dDpcIlwifWZ1bmN0aW9uIHRyKGUpe3ZhciB0PVwiXCI7cmV0dXJuIGUmJmUuY2hpbGROb2RlcyYmZS5jaGlsZE5vZGVzLmxlbmd0aCYmeShlLmNoaWxkTm9kZXMsKGZ1bmN0aW9uKGUpe3ZhciBpO2lmKGUmJlwic3BhblwiPT09KG51bGw9PT0oaT1lLnRhZ05hbWUpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnRvTG93ZXJDYXNlKCkpKXRyeXt2YXIgcj1CaShlKTt0PVwiXCIuY29uY2F0KHQsXCIgXCIpLmNvbmNhdChyKS50cmltKCksZS5jaGlsZE5vZGVzJiZlLmNoaWxkTm9kZXMubGVuZ3RoJiYodD1cIlwiLmNvbmNhdCh0LFwiIFwiKS5jb25jYXQodHIoZSkpLnRyaW0oKSl9Y2F0Y2goZSl7ZWUuZXJyb3IoXCJbQXV0b0NhcHR1cmVdXCIsZSl9fSkpLHR9ZnVuY3Rpb24gaXIoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUubWFwKChlPT57dmFyIHQsaSxyPVwiXCI7aWYoZS50YWdfbmFtZSYmKHIrPWUudGFnX25hbWUpLGUuYXR0cl9jbGFzcylmb3IodmFyIHMgb2YoZS5hdHRyX2NsYXNzLnNvcnQoKSxlLmF0dHJfY2xhc3MpKXIrPVwiLlwiLmNvbmNhdChzLnJlcGxhY2UoL1wiL2csXCJcIikpO3ZhciBuPW5lKG5lKG5lKG5lKHt9LGUudGV4dD97dGV4dDplLnRleHR9Ont9KSx7fSx7XCJudGgtY2hpbGRcIjpudWxsIT09KHQ9ZS5udGhfY2hpbGQpJiZ2b2lkIDAhPT10P3Q6MCxcIm50aC1vZi10eXBlXCI6bnVsbCE9PShpPWUubnRoX29mX3R5cGUpJiZ2b2lkIDAhPT1pP2k6MH0sZS5ocmVmP3tocmVmOmUuaHJlZn06e30pLGUuYXR0cl9pZD97YXR0cl9pZDplLmF0dHJfaWR9Ont9KSxlLmF0dHJpYnV0ZXMpLG89e307cmV0dXJuIGsobikuc29ydCgoKGUsdCk9Pnt2YXJbaV09ZSxbcl09dDtyZXR1cm4gaS5sb2NhbGVDb21wYXJlKHIpfSkpLmZvckVhY2goKGU9Pnt2YXJbdCxpXT1lO3JldHVybiBvW3JyKHQudG9TdHJpbmcoKSldPXJyKGkudG9TdHJpbmcoKSl9KSkscis9XCI6XCIscis9ayhuKS5tYXAoKGU9Pnt2YXJbdCxpXT1lO3JldHVyblwiXCIuY29uY2F0KHQsJz1cIicpLmNvbmNhdChpLCdcIicpfSkpLmpvaW4oXCJcIil9KSk7cmV0dXJuIHQuam9pbihcIjtcIil9KGZ1bmN0aW9uKGUpe3JldHVybiBlLm1hcCgoZT0+e3ZhciB0LGkscj17dGV4dDpudWxsPT09KHQ9ZS4kZWxfdGV4dCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuc2xpY2UoMCw0MDApLHRhZ19uYW1lOmUudGFnX25hbWUsaHJlZjpudWxsPT09KGk9ZS5hdHRyX19ocmVmKXx8dm9pZCAwPT09aT92b2lkIDA6aS5zbGljZSgwLDIwNDgpLGF0dHJfY2xhc3M6c3IoZSksYXR0cl9pZDplLmF0dHJfX2lkLG50aF9jaGlsZDplLm50aF9jaGlsZCxudGhfb2ZfdHlwZTplLm50aF9vZl90eXBlLGF0dHJpYnV0ZXM6e319O3JldHVybiBrKGUpLmZpbHRlcigoZT0+e3Zhclt0XT1lO3JldHVybiAwPT09dC5pbmRleE9mKFwiYXR0cl9fXCIpfSkpLmZvckVhY2goKGU9Pnt2YXJbdCxpXT1lO3JldHVybiByLmF0dHJpYnV0ZXNbdF09aX0pKSxyfSkpfShlKSl9ZnVuY3Rpb24gcnIoZSl7cmV0dXJuIGUucmVwbGFjZSgvXCJ8XFxcXFwiL2csJ1xcXFxcIicpfWZ1bmN0aW9uIHNyKGUpe3ZhciB0PWUuYXR0cl9fY2xhc3M7cmV0dXJuIHQ/Qih0KT90OkxpKHQpOnZvaWQgMH12YXIgbnI9XCJbU2Vzc2lvblJlY29yZGluZ11cIixvcj1cInJlZGFjdGVkXCIsYXI9e2luaXRpYXRvclR5cGVzOltcImF1ZGlvXCIsXCJiZWFjb25cIixcImJvZHlcIixcImNzc1wiLFwiZWFybHktaGludFwiLFwiZW1iZWRcIixcImZldGNoXCIsXCJmcmFtZVwiLFwiaWZyYW1lXCIsXCJpY29uXCIsXCJpbWFnZVwiLFwiaW1nXCIsXCJpbnB1dFwiLFwibGlua1wiLFwibmF2aWdhdGlvblwiLFwib2JqZWN0XCIsXCJwaW5nXCIsXCJzY3JpcHRcIixcInRyYWNrXCIsXCJ2aWRlb1wiLFwieG1saHR0cHJlcXVlc3RcIl0sbWFza1JlcXVlc3RGbjplPT5lLHJlY29yZEhlYWRlcnM6ITEscmVjb3JkQm9keTohMSxyZWNvcmRJbml0aWFsUmVxdWVzdHM6ITEscmVjb3JkUGVyZm9ybWFuY2U6ITEscGVyZm9ybWFuY2VFbnRyeVR5cGVUb09ic2VydmU6W1wiZmlyc3QtaW5wdXRcIixcIm5hdmlnYXRpb25cIixcInBhaW50XCIsXCJyZXNvdXJjZVwiXSxwYXlsb2FkU2l6ZUxpbWl0Qnl0ZXM6MWU2LHBheWxvYWRIb3N0RGVueUxpc3Q6W1wiLmxyLWluZ2VzdC5pb1wiLFwiLmluZ2VzdC5zZW50cnkuaW9cIixcIi5jbGFyaXR5Lm1zXCIsXCJhbmFseXRpY3MuZ29vZ2xlLmNvbVwiXX0sbHI9W1wiYXV0aG9yaXphdGlvblwiLFwieC1mb3J3YXJkZWQtZm9yXCIsXCJhdXRob3JpemF0aW9uXCIsXCJjb29raWVcIixcInNldC1jb29raWVcIixcIngtYXBpLWtleVwiLFwieC1yZWFsLWlwXCIsXCJyZW1vdGUtYWRkclwiLFwiZm9yd2FyZGVkXCIsXCJwcm94eS1hdXRob3JpemF0aW9uXCIsXCJ4LWNzcmYtdG9rZW5cIixcIngtY3NyZnRva2VuXCIsXCJ4LXhzcmYtdG9rZW5cIl0sdXI9W1wicGFzc3dvcmRcIixcInNlY3JldFwiLFwicGFzc3dkXCIsXCJhcGlfa2V5XCIsXCJhcGlrZXlcIixcImF1dGhcIixcImNyZWRlbnRpYWxzXCIsXCJteXNxbF9wd2RcIixcInByaXZhdGVrZXlcIixcInByaXZhdGVfa2V5XCIsXCJ0b2tlblwiXSxjcj1bXCIvcy9cIixcIi9lL1wiLFwiL2kvXCJdO2Z1bmN0aW9uIGRyKGUsdCxpLHIpe2lmKEooZSkpcmV0dXJuIGU7dmFyIHM9KG51bGw9PXQ/dm9pZCAwOnRbXCJjb250ZW50LWxlbmd0aFwiXSl8fGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgQmxvYihbZV0pLnNpemV9KGUpO3JldHVybiBXKHMpJiYocz1wYXJzZUludChzKSkscz5pP25yK1wiIFwiLmNvbmNhdChyLFwiIGJvZHkgdG9vIGxhcmdlIHRvIHJlY29yZCAoXCIpLmNvbmNhdChzLFwiIGJ5dGVzKVwiKTplfWZ1bmN0aW9uIGhyKGUsdCl7aWYoSihlKSlyZXR1cm4gZTt2YXIgaT1lO3JldHVybiBaaShpLCExKXx8KGk9bnIrXCIgXCIrdCtcIiBib2R5IFwiK29yKSx5KHVyLChlPT57dmFyIHIscztudWxsIT09KHI9aSkmJnZvaWQgMCE9PXImJnIubGVuZ3RoJiYtMSE9PShudWxsPT09KHM9aSl8fHZvaWQgMD09PXM/dm9pZCAwOnMuaW5kZXhPZihlKSkmJihpPW5yK1wiIFwiK3QrXCIgYm9keSBcIitvcitcIiBhcyBtaWdodCBjb250YWluOiBcIitlKX0pKSxpfXZhciBfcj0oZSx0KT0+e3ZhciBpLHIscyxuPXtwYXlsb2FkU2l6ZUxpbWl0Qnl0ZXM6YXIucGF5bG9hZFNpemVMaW1pdEJ5dGVzLHBlcmZvcm1hbmNlRW50cnlUeXBlVG9PYnNlcnZlOlsuLi5hci5wZXJmb3JtYW5jZUVudHJ5VHlwZVRvT2JzZXJ2ZV0scGF5bG9hZEhvc3REZW55TGlzdDpbLi4udC5wYXlsb2FkSG9zdERlbnlMaXN0fHxbXSwuLi5hci5wYXlsb2FkSG9zdERlbnlMaXN0XX0sbz0hMSE9PWUuc2Vzc2lvbl9yZWNvcmRpbmcucmVjb3JkSGVhZGVycyYmdC5yZWNvcmRIZWFkZXJzLGE9ITEhPT1lLnNlc3Npb25fcmVjb3JkaW5nLnJlY29yZEJvZHkmJnQucmVjb3JkQm9keSxsPSExIT09ZS5jYXB0dXJlX3BlcmZvcm1hbmNlJiZ0LnJlY29yZFBlcmZvcm1hbmNlLHU9KGk9bixzPU1hdGgubWluKDFlNixudWxsIT09KHI9aS5wYXlsb2FkU2l6ZUxpbWl0Qnl0ZXMpJiZ2b2lkIDAhPT1yP3I6MWU2KSxlPT4obnVsbCE9ZSYmZS5yZXF1ZXN0Qm9keSYmKGUucmVxdWVzdEJvZHk9ZHIoZS5yZXF1ZXN0Qm9keSxlLnJlcXVlc3RIZWFkZXJzLHMsXCJSZXF1ZXN0XCIpKSxudWxsIT1lJiZlLnJlc3BvbnNlQm9keSYmKGUucmVzcG9uc2VCb2R5PWRyKGUucmVzcG9uc2VCb2R5LGUucmVzcG9uc2VIZWFkZXJzLHMsXCJSZXNwb25zZVwiKSksZSkpLGM9dD0+e3JldHVybiB1KCgoZSx0KT0+e3ZhciBpLHI9eXQoZS5uYW1lKSxzPTA9PT10LmluZGV4T2YoXCJodHRwXCIpP251bGw9PT0oaT15dCh0KSl8fHZvaWQgMD09PWk/dm9pZCAwOmkucGF0aG5hbWU6dDtcIi9cIj09PXMmJihzPVwiXCIpO3ZhciBuPW51bGw9PXI/dm9pZCAwOnIucGF0aG5hbWUucmVwbGFjZShzfHxcIlwiLFwiXCIpO2lmKCEociYmbiYmY3Iuc29tZSgoZT0+MD09PW4uaW5kZXhPZihlKSkpKSlyZXR1cm4gZX0pKChyPShpPXQpLnJlcXVlc3RIZWFkZXJzLEoocil8fHkoT2JqZWN0LmtleXMobnVsbCE9cj9yOnt9KSwoZT0+e2xyLmluY2x1ZGVzKGUudG9Mb3dlckNhc2UoKSkmJihyW2VdPW9yKX0pKSxpKSxlLmFwaV9ob3N0KSk7dmFyIGkscn0sZD1IKGUuc2Vzc2lvbl9yZWNvcmRpbmcubWFza05ldHdvcmtSZXF1ZXN0Rm4pO3JldHVybiBkJiZIKGUuc2Vzc2lvbl9yZWNvcmRpbmcubWFza0NhcHR1cmVkTmV0d29ya1JlcXVlc3RGbikmJmVlLndhcm4oXCJCb3RoIGBtYXNrTmV0d29ya1JlcXVlc3RGbmAgYW5kIGBtYXNrQ2FwdHVyZWROZXR3b3JrUmVxdWVzdEZuYCBhcmUgZGVmaW5lZC4gYG1hc2tOZXR3b3JrUmVxdWVzdEZuYCB3aWxsIGJlIGlnbm9yZWQuXCIpLGQmJihlLnNlc3Npb25fcmVjb3JkaW5nLm1hc2tDYXB0dXJlZE5ldHdvcmtSZXF1ZXN0Rm49dD0+e3ZhciBpPWUuc2Vzc2lvbl9yZWNvcmRpbmcubWFza05ldHdvcmtSZXF1ZXN0Rm4oe3VybDp0Lm5hbWV9KTtyZXR1cm4gbmUobmUoe30sdCkse30se25hbWU6bnVsbD09aT92b2lkIDA6aS51cmx9KX0pLG4ubWFza1JlcXVlc3RGbj1IKGUuc2Vzc2lvbl9yZWNvcmRpbmcubWFza0NhcHR1cmVkTmV0d29ya1JlcXVlc3RGbik/dD0+e3ZhciBpLHIscyxuPWModCk7cmV0dXJuIG4mJm51bGwhPT0oaT1udWxsPT09KHI9KHM9ZS5zZXNzaW9uX3JlY29yZGluZykubWFza0NhcHR1cmVkTmV0d29ya1JlcXVlc3RGbil8fHZvaWQgMD09PXI/dm9pZCAwOnIuY2FsbChzLG4pKSYmdm9pZCAwIT09aT9pOnZvaWQgMH06ZT0+ZnVuY3Rpb24oZSl7aWYoIXooZSkpcmV0dXJuIGUucmVxdWVzdEJvZHk9aHIoZS5yZXF1ZXN0Qm9keSxcIlJlcXVlc3RcIiksZS5yZXNwb25zZUJvZHk9aHIoZS5yZXNwb25zZUJvZHksXCJSZXNwb25zZVwiKSxlfShjKGUpKSxuZShuZShuZSh7fSxhciksbikse30se3JlY29yZEhlYWRlcnM6byxyZWNvcmRCb2R5OmEscmVjb3JkUGVyZm9ybWFuY2U6bCxyZWNvcmRJbml0aWFsUmVxdWVzdHM6bH0pfTtmdW5jdGlvbiBwcihlLHQsaSxyLHMpe3JldHVybiB0PmkmJihlZS53YXJuKFwibWluIGNhbm5vdCBiZSBncmVhdGVyIHRoYW4gbWF4LlwiKSx0PWkpLFkoZSk/ZT5pPyhyJiZlZS53YXJuKHIrXCIgY2Fubm90IGJlICBncmVhdGVyIHRoYW4gbWF4OiBcIitpK1wiLiBVc2luZyBtYXggdmFsdWUgaW5zdGVhZC5cIiksaSk6ZTx0PyhyJiZlZS53YXJuKHIrXCIgY2Fubm90IGJlIGxlc3MgdGhhbiBtaW46IFwiK3QrXCIuIFVzaW5nIG1pbiB2YWx1ZSBpbnN0ZWFkLlwiKSx0KTplOihyJiZlZS53YXJuKHIrXCIgbXVzdCBiZSBhIG51bWJlci4gdXNpbmcgbWF4IG9yIGZhbGxiYWNrLiBtYXg6IFwiK2krXCIsIGZhbGxiYWNrOiBcIitzKSxwcihzfHxpLHQsaSxyKSl9Y2xhc3MgdnJ7Y29uc3RydWN0b3IoZSl7dmFyIHQsaSxyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtvZSh0aGlzLFwiYnVja2V0U2l6ZVwiLDEwMCksb2UodGhpcyxcInJlZmlsbFJhdGVcIiwxMCksb2UodGhpcyxcIm11dGF0aW9uQnVja2V0c1wiLHt9KSxvZSh0aGlzLFwibG9nZ2VkVHJhY2tlclwiLHt9KSxvZSh0aGlzLFwicmVmaWxsQnVja2V0c1wiLCgoKT0+e09iamVjdC5rZXlzKHRoaXMubXV0YXRpb25CdWNrZXRzKS5mb3JFYWNoKChlPT57dGhpcy5tdXRhdGlvbkJ1Y2tldHNbZV09dGhpcy5tdXRhdGlvbkJ1Y2tldHNbZV0rdGhpcy5yZWZpbGxSYXRlLHRoaXMubXV0YXRpb25CdWNrZXRzW2VdPj10aGlzLmJ1Y2tldFNpemUmJmRlbGV0ZSB0aGlzLm11dGF0aW9uQnVja2V0c1tlXX0pKX0pKSxvZSh0aGlzLFwiZ2V0Tm9kZU9yUmVsZXZhbnRQYXJlbnRcIiwoZT0+e3ZhciB0PXRoaXMucnJ3ZWIubWlycm9yLmdldE5vZGUoZSk7aWYoXCJzdmdcIiE9PShudWxsPT10P3ZvaWQgMDp0Lm5vZGVOYW1lKSYmdCBpbnN0YW5jZW9mIEVsZW1lbnQpe3ZhciBpPXQuY2xvc2VzdChcInN2Z1wiKTtpZihpKXJldHVyblt0aGlzLnJyd2ViLm1pcnJvci5nZXRJZChpKSxpXX1yZXR1cm5bZSx0XX0pKSxvZSh0aGlzLFwibnVtYmVyT2ZDaGFuZ2VzXCIsKGU9Pnt2YXIgdCxpLHIscyxuLG8sYSxsO3JldHVybihudWxsIT09KHQ9bnVsbD09PShpPWUucmVtb3Zlcyl8fHZvaWQgMD09PWk/dm9pZCAwOmkubGVuZ3RoKSYmdm9pZCAwIT09dD90OjApKyhudWxsIT09KHI9bnVsbD09PShzPWUuYXR0cmlidXRlcyl8fHZvaWQgMD09PXM/dm9pZCAwOnMubGVuZ3RoKSYmdm9pZCAwIT09cj9yOjApKyhudWxsIT09KG49bnVsbD09PShvPWUudGV4dHMpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmxlbmd0aCkmJnZvaWQgMCE9PW4/bjowKSsobnVsbCE9PShhPW51bGw9PT0obD1lLmFkZHMpfHx2b2lkIDA9PT1sP3ZvaWQgMDpsLmxlbmd0aCkmJnZvaWQgMCE9PWE/YTowKX0pKSxvZSh0aGlzLFwidGhyb3R0bGVNdXRhdGlvbnNcIiwoZT0+e2lmKDMhPT1lLnR5cGV8fDAhPT1lLmRhdGEuc291cmNlKXJldHVybiBlO3ZhciB0PWUuZGF0YSxpPXRoaXMubnVtYmVyT2ZDaGFuZ2VzKHQpO3QuYXR0cmlidXRlcyYmKHQuYXR0cmlidXRlcz10LmF0dHJpYnV0ZXMuZmlsdGVyKChlPT57dmFyIHQsaSxyLFtzLG5dPXRoaXMuZ2V0Tm9kZU9yUmVsZXZhbnRQYXJlbnQoZS5pZCk7aWYoMD09PXRoaXMubXV0YXRpb25CdWNrZXRzW3NdKXJldHVybiExOyh0aGlzLm11dGF0aW9uQnVja2V0c1tzXT1udWxsIT09KHQ9dGhpcy5tdXRhdGlvbkJ1Y2tldHNbc10pJiZ2b2lkIDAhPT10P3Q6dGhpcy5idWNrZXRTaXplLHRoaXMubXV0YXRpb25CdWNrZXRzW3NdPU1hdGgubWF4KHRoaXMubXV0YXRpb25CdWNrZXRzW3NdLTEsMCksMD09PXRoaXMubXV0YXRpb25CdWNrZXRzW3NdKSYmKHRoaXMubG9nZ2VkVHJhY2tlcltzXXx8KHRoaXMubG9nZ2VkVHJhY2tlcltzXT0hMCxudWxsPT09KGk9KHI9dGhpcy5vcHRpb25zKS5vbkJsb2NrZWROb2RlKXx8dm9pZCAwPT09aXx8aS5jYWxsKHIscyxuKSkpO3JldHVybiBlfSkpKTt2YXIgcj10aGlzLm51bWJlck9mQ2hhbmdlcyh0KTtyZXR1cm4gMCE9PXJ8fGk9PT1yP2U6dm9pZCAwfSkpLHRoaXMucnJ3ZWI9ZSx0aGlzLm9wdGlvbnM9cix0aGlzLnJlZmlsbFJhdGU9cHIobnVsbCE9PSh0PXRoaXMub3B0aW9ucy5yZWZpbGxSYXRlKSYmdm9pZCAwIT09dD90OnRoaXMucmVmaWxsUmF0ZSwwLDEwMCxcIm11dGF0aW9uIHRocm90dGxpbmcgcmVmaWxsIHJhdGVcIiksdGhpcy5idWNrZXRTaXplPXByKG51bGwhPT0oaT10aGlzLm9wdGlvbnMuYnVja2V0U2l6ZSkmJnZvaWQgMCE9PWk/aTp0aGlzLmJ1Y2tldFNpemUsMCwxMDAsXCJtdXRhdGlvbiB0aHJvdHRsaW5nIGJ1Y2tldCBzaXplXCIpLHNldEludGVydmFsKCgoKT0+e3RoaXMucmVmaWxsQnVja2V0cygpfSksMWUzKX19dmFyIGdyPVVpbnQ4QXJyYXksZnI9VWludDE2QXJyYXksbXI9VWludDMyQXJyYXksYnI9bmV3IGdyKFswLDAsMCwwLDAsMCwwLDAsMSwxLDEsMSwyLDIsMiwyLDMsMywzLDMsNCw0LDQsNCw1LDUsNSw1LDAsMCwwLDBdKSx5cj1uZXcgZ3IoWzAsMCwwLDAsMSwxLDIsMiwzLDMsNCw0LDUsNSw2LDYsNyw3LDgsOCw5LDksMTAsMTAsMTEsMTEsMTIsMTIsMTMsMTMsMCwwXSksd3I9bmV3IGdyKFsxNiwxNywxOCwwLDgsNyw5LDYsMTAsNSwxMSw0LDEyLDMsMTMsMiwxNCwxLDE1XSksU3I9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9bmV3IGZyKDMxKSxyPTA7cjwzMTsrK3IpaVtyXT10Kz0xPDxlW3ItMV07dmFyIHM9bmV3IG1yKGlbMzBdKTtmb3Iocj0xO3I8MzA7KytyKWZvcih2YXIgbj1pW3JdO248aVtyKzFdOysrbilzW25dPW4taVtyXTw8NXxyO3JldHVybltpLHNdfSxrcj1TcihiciwyKSxFcj1rclswXSx4cj1rclsxXTtFclsyOF09MjU4LHhyWzI1OF09Mjg7Zm9yKHZhciBJcj1Tcih5ciwwKVsxXSxDcj1uZXcgZnIoMzI3NjgpLFByPTA7UHI8MzI3Njg7KytQcil7dmFyIEZyPSg0MzY5MCZQcik+Pj4xfCgyMTg0NSZQcik8PDE7RnI9KDYxNjgwJihGcj0oNTI0MjgmRnIpPj4+MnwoMTMxMDcmRnIpPDwyKSk+Pj40fCgzODU1JkZyKTw8NCxDcltQcl09KCg2NTI4MCZGcik+Pj44fCgyNTUmRnIpPDw4KT4+PjF9dmFyIFRyPWZ1bmN0aW9uKGUsdCxpKXtmb3IodmFyIHI9ZS5sZW5ndGgscz0wLG49bmV3IGZyKHQpO3M8cjsrK3MpKytuW2Vbc10tMV07dmFyIG8sYT1uZXcgZnIodCk7Zm9yKHM9MDtzPHQ7KytzKWFbc109YVtzLTFdK25bcy0xXTw8MTtpZihpKXtvPW5ldyBmcigxPDx0KTt2YXIgbD0xNS10O2ZvcihzPTA7czxyOysrcylpZihlW3NdKWZvcih2YXIgdT1zPDw0fGVbc10sYz10LWVbc10sZD1hW2Vbc10tMV0rKzw8YyxoPWR8KDE8PGMpLTE7ZDw9aDsrK2Qpb1tDcltkXT4+PmxdPXV9ZWxzZSBmb3Iobz1uZXcgZnIocikscz0wO3M8cjsrK3Mpb1tzXT1DclthW2Vbc10tMV0rK10+Pj4xNS1lW3NdO3JldHVybiBvfSxScj1uZXcgZ3IoMjg4KTtmb3IoUHI9MDtQcjwxNDQ7KytQcilScltQcl09ODtmb3IoUHI9MTQ0O1ByPDI1NjsrK1ByKVJyW1ByXT05O2ZvcihQcj0yNTY7UHI8MjgwOysrUHIpUnJbUHJdPTc7Zm9yKFByPTI4MDtQcjwyODg7KytQcilScltQcl09ODt2YXIgJHI9bmV3IGdyKDMyKTtmb3IoUHI9MDtQcjwzMjsrK1ByKSRyW1ByXT01O3ZhciBPcj1UcihSciw5LDApLE1yPVRyKCRyLDUsMCksQXI9ZnVuY3Rpb24oZSl7cmV0dXJuKGUvOD4+MCkrKDcmZSYmMSl9LExyPWZ1bmN0aW9uKGUsdCxpKXsobnVsbD09aXx8aT5lLmxlbmd0aCkmJihpPWUubGVuZ3RoKTt2YXIgcj1uZXcoZSBpbnN0YW5jZW9mIGZyP2ZyOmUgaW5zdGFuY2VvZiBtcj9tcjpncikoaS10KTtyZXR1cm4gci5zZXQoZS5zdWJhcnJheSh0LGkpKSxyfSxEcj1mdW5jdGlvbihlLHQsaSl7aTw8PTcmdDt2YXIgcj10Lzg+PjA7ZVtyXXw9aSxlW3IrMV18PWk+Pj44fSxOcj1mdW5jdGlvbihlLHQsaSl7aTw8PTcmdDt2YXIgcj10Lzg+PjA7ZVtyXXw9aSxlW3IrMV18PWk+Pj44LGVbcisyXXw9aT4+PjE2fSxxcj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaT1bXSxyPTA7cjxlLmxlbmd0aDsrK3IpZVtyXSYmaS5wdXNoKHtzOnIsZjplW3JdfSk7dmFyIHM9aS5sZW5ndGgsbj1pLnNsaWNlKCk7aWYoIXMpcmV0dXJuW25ldyBncigwKSwwXTtpZigxPT1zKXt2YXIgbz1uZXcgZ3IoaVswXS5zKzEpO3JldHVybiBvW2lbMF0uc109MSxbbywxXX1pLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZi10LmZ9KSksaS5wdXNoKHtzOi0xLGY6MjUwMDF9KTt2YXIgYT1pWzBdLGw9aVsxXSx1PTAsYz0xLGQ9Mjtmb3IoaVswXT17czotMSxmOmEuZitsLmYsbDphLHI6bH07YyE9cy0xOylhPWlbaVt1XS5mPGlbZF0uZj91Kys6ZCsrXSxsPWlbdSE9YyYmaVt1XS5mPGlbZF0uZj91Kys6ZCsrXSxpW2MrK109e3M6LTEsZjphLmYrbC5mLGw6YSxyOmx9O3ZhciBoPW5bMF0ucztmb3Iocj0xO3I8czsrK3IpbltyXS5zPmgmJihoPW5bcl0ucyk7dmFyIF89bmV3IGZyKGgrMSkscD1CcihpW2MtMV0sXywwKTtpZihwPnQpe3I9MDt2YXIgdj0wLGc9cC10LGY9MTw8Zztmb3Iobi5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiBfW3Quc10tX1tlLnNdfHxlLmYtdC5mfSkpO3I8czsrK3Ipe3ZhciBtPW5bcl0ucztpZighKF9bbV0+dCkpYnJlYWs7dis9Zi0oMTw8cC1fW21dKSxfW21dPXR9Zm9yKHY+Pj49Zzt2PjA7KXt2YXIgYj1uW3JdLnM7X1tiXTx0P3YtPTE8PHQtX1tiXSsrLTE6KytyfWZvcig7cj49MCYmdjstLXIpe3ZhciB5PW5bcl0ucztfW3ldPT10JiYoLS1fW3ldLCsrdil9cD10fXJldHVybltuZXcgZ3IoXykscF19LEJyPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4tMT09ZS5zP01hdGgubWF4KEJyKGUubCx0LGkrMSksQnIoZS5yLHQsaSsxKSk6dFtlLnNdPWl9LEhyPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmxlbmd0aDt0JiYhZVstLXRdOyk7Zm9yKHZhciBpPW5ldyBmcigrK3QpLHI9MCxzPWVbMF0sbj0xLG89ZnVuY3Rpb24oZSl7aVtyKytdPWV9LGE9MTthPD10OysrYSlpZihlW2FdPT1zJiZhIT10KSsrbjtlbHNle2lmKCFzJiZuPjIpe2Zvcig7bj4xMzg7bi09MTM4KW8oMzI3NTQpO24+MiYmKG8obj4xMD9uLTExPDw1fDI4NjkwOm4tMzw8NXwxMjMwNSksbj0wKX1lbHNlIGlmKG4+Myl7Zm9yKG8ocyksLS1uO24+NjtuLT02KW8oODMwNCk7bj4yJiYobyhuLTM8PDV8ODIwOCksbj0wKX1mb3IoO24tLTspbyhzKTtuPTEscz1lW2FdfXJldHVybltpLnN1YmFycmF5KDAsciksdF19LFVyPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPTAscj0wO3I8dC5sZW5ndGg7KytyKWkrPWVbcl0qdFtyXTtyZXR1cm4gaX0sanI9ZnVuY3Rpb24oZSx0LGkpe3ZhciByPWkubGVuZ3RoLHM9QXIodCsyKTtlW3NdPTI1NSZyLGVbcysxXT1yPj4+OCxlW3MrMl09MjU1XmVbc10sZVtzKzNdPTI1NV5lW3MrMV07Zm9yKHZhciBuPTA7bjxyOysrbillW3Mrbis0XT1pW25dO3JldHVybiA4KihzKzQrcil9LHpyPWZ1bmN0aW9uKGUsdCxpLHIscyxuLG8sYSxsLHUsYyl7RHIodCxjKyssaSksKytzWzI1Nl07Zm9yKHZhciBkPXFyKHMsMTUpLGg9ZFswXSxfPWRbMV0scD1xcihuLDE1KSx2PXBbMF0sZz1wWzFdLGY9SHIoaCksbT1mWzBdLGI9ZlsxXSx5PUhyKHYpLHc9eVswXSxTPXlbMV0saz1uZXcgZnIoMTkpLEU9MDtFPG0ubGVuZ3RoOysrRSlrWzMxJm1bRV1dKys7Zm9yKEU9MDtFPHcubGVuZ3RoOysrRSlrWzMxJndbRV1dKys7Zm9yKHZhciB4PXFyKGssNyksST14WzBdLEM9eFsxXSxQPTE5O1A+NCYmIUlbd3JbUC0xXV07LS1QKTt2YXIgRixULFIsJCxPPXUrNTw8MyxNPVVyKHMsUnIpK1VyKG4sJHIpK28sQT1VcihzLGgpK1VyKG4sdikrbysxNCszKlArVXIoayxJKSsoMiprWzE2XSszKmtbMTddKzcqa1sxOF0pO2lmKE88PU0mJk88PUEpcmV0dXJuIGpyKHQsYyxlLnN1YmFycmF5KGwsbCt1KSk7aWYoRHIodCxjLDErKEE8TSkpLGMrPTIsQTxNKXtGPVRyKGgsXywwKSxUPWgsUj1Ucih2LGcsMCksJD12O3ZhciBMPVRyKEksQywwKTtEcih0LGMsYi0yNTcpLERyKHQsYys1LFMtMSksRHIodCxjKzEwLFAtNCksYys9MTQ7Zm9yKEU9MDtFPFA7KytFKURyKHQsYyszKkUsSVt3cltFXV0pO2MrPTMqUDtmb3IodmFyIEQ9W20sd10sTj0wO048MjsrK04pe3ZhciBxPURbTl07Zm9yKEU9MDtFPHEubGVuZ3RoOysrRSl7dmFyIEI9MzEmcVtFXTtEcih0LGMsTFtCXSksYys9SVtCXSxCPjE1JiYoRHIodCxjLHFbRV0+Pj41JjEyNyksYys9cVtFXT4+PjEyKX19fWVsc2UgRj1PcixUPVJyLFI9TXIsJD0kcjtmb3IoRT0wO0U8YTsrK0UpaWYocltFXT4yNTUpe0I9cltFXT4+PjE4JjMxO05yKHQsYyxGW0IrMjU3XSksYys9VFtCKzI1N10sQj43JiYoRHIodCxjLHJbRV0+Pj4yMyYzMSksYys9YnJbQl0pO3ZhciBIPTMxJnJbRV07TnIodCxjLFJbSF0pLGMrPSRbSF0sSD4zJiYoTnIodCxjLHJbRV0+Pj41JjgxOTEpLGMrPXlyW0hdKX1lbHNlIE5yKHQsYyxGW3JbRV1dKSxjKz1UW3JbRV1dO3JldHVybiBOcih0LGMsRlsyNTZdKSxjK1RbMjU2XX0sV3I9bmV3IG1yKFs2NTU0MCwxMzEwODAsMTMxMDg4LDEzMTEwNCwyNjIxNzYsMTA0ODcwNCwxMDQ4ODMyLDIxMTQ1NjAsMjExNzYzMl0pLFZyPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPW5ldyBtcigyNTYpLHQ9MDt0PDI1NjsrK3Qpe2Zvcih2YXIgaT10LHI9OTstLXI7KWk9KDEmaSYmMzk4ODI5MjM4NCleaT4+PjE7ZVt0XT1pfXJldHVybiBlfSgpLEdyPWZ1bmN0aW9uKCl7dmFyIGU9NDI5NDk2NzI5NTtyZXR1cm57cDpmdW5jdGlvbih0KXtmb3IodmFyIGk9ZSxyPTA7cjx0Lmxlbmd0aDsrK3IpaT1WclsyNTUmaV50W3JdXV5pPj4+ODtlPWl9LGQ6ZnVuY3Rpb24oKXtyZXR1cm4gNDI5NDk2NzI5NV5lfX19LEpyPWZ1bmN0aW9uKGUsdCxpLHIscyl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxpLHIscyxuKXt2YXIgbz1lLmxlbmd0aCxhPW5ldyBncihyK28rNSooMStNYXRoLmZsb29yKG8vN2UzKSkrcyksbD1hLnN1YmFycmF5KHIsYS5sZW5ndGgtcyksdT0wO2lmKCF0fHxvPDgpZm9yKHZhciBjPTA7Yzw9bztjKz02NTUzNSl7dmFyIGQ9Yys2NTUzNTtkPG8/dT1qcihsLHUsZS5zdWJhcnJheShjLGQpKToobFtjXT1uLHU9anIobCx1LGUuc3ViYXJyYXkoYyxvKSkpfWVsc2V7Zm9yKHZhciBoPVdyW3QtMV0sXz1oPj4+MTMscD04MTkxJmgsdj0oMTw8aSktMSxnPW5ldyBmcigzMjc2OCksZj1uZXcgZnIodisxKSxtPU1hdGguY2VpbChpLzMpLGI9MiptLHk9ZnVuY3Rpb24odCl7cmV0dXJuKGVbdF1eZVt0KzFdPDxtXmVbdCsyXTw8Yikmdn0sdz1uZXcgbXIoMjVlMyksUz1uZXcgZnIoMjg4KSxrPW5ldyBmcigzMiksRT0wLHg9MCxJPShjPTAsMCksQz0wLFA9MDtjPG87KytjKXt2YXIgRj15KGMpLFQ9MzI3NjcmYyxSPWZbRl07aWYoZ1tUXT1SLGZbRl09VCxDPD1jKXt2YXIgJD1vLWM7aWYoKEU+N2UzfHxJPjI0NTc2KSYmJD40MjMpe3U9enIoZSxsLDAsdyxTLGsseCxJLFAsYy1QLHUpLEk9RT14PTAsUD1jO2Zvcih2YXIgTz0wO088Mjg2OysrTylTW09dPTA7Zm9yKE89MDtPPDMwOysrTylrW09dPTB9dmFyIE09MixBPTAsTD1wLEQ9VC1SJjMyNzY3O2lmKCQ+MiYmRj09eShjLUQpKWZvcih2YXIgTj1NYXRoLm1pbihfLCQpLTEscT1NYXRoLm1pbigzMjc2NyxjKSxCPU1hdGgubWluKDI1OCwkKTtEPD1xJiYtLUwmJlQhPVI7KXtpZihlW2MrTV09PWVbYytNLURdKXtmb3IodmFyIEg9MDtIPEImJmVbYytIXT09ZVtjK0gtRF07KytIKTtpZihIPk0pe2lmKE09SCxBPUQsSD5OKWJyZWFrO3ZhciBVPU1hdGgubWluKEQsSC0yKSxqPTA7Zm9yKE89MDtPPFU7KytPKXt2YXIgej1jLUQrTyszMjc2OCYzMjc2NyxXPXotZ1t6XSszMjc2OCYzMjc2NztXPmomJihqPVcsUj16KX19fUQrPShUPVIpLShSPWdbVF0pKzMyNzY4JjMyNzY3fWlmKEEpe3dbSSsrXT0yNjg0MzU0NTZ8eHJbTV08PDE4fElyW0FdO3ZhciBWPTMxJnhyW01dLEc9MzEmSXJbQV07eCs9YnJbVl0reXJbR10sKytTWzI1NytWXSwrK2tbR10sQz1jK00sKytFfWVsc2Ugd1tJKytdPWVbY10sKytTW2VbY11dfX11PXpyKGUsbCxuLHcsUyxrLHgsSSxQLGMtUCx1KX1yZXR1cm4gTHIoYSwwLHIrQXIodSkrcyl9KGUsbnVsbD09dC5sZXZlbD82OnQubGV2ZWwsbnVsbD09dC5tZW0/TWF0aC5jZWlsKDEuNSpNYXRoLm1heCg4LE1hdGgubWluKDEzLE1hdGgubG9nKGUubGVuZ3RoKSkpKToxMit0Lm1lbSxpLHIsIXMpfSxZcj1mdW5jdGlvbihlLHQsaSl7Zm9yKDtpOysrdCllW3RdPWksaT4+Pj04fSxLcj1mdW5jdGlvbihlLHQpe3ZhciBpPXQuZmlsZW5hbWU7aWYoZVswXT0zMSxlWzFdPTEzOSxlWzJdPTgsZVs4XT10LmxldmVsPDI/NDo5PT10LmxldmVsPzI6MCxlWzldPTMsMCE9dC5tdGltZSYmWXIoZSw0LE1hdGguZmxvb3IobmV3IERhdGUodC5tdGltZXx8RGF0ZS5ub3coKSkvMWUzKSksaSl7ZVszXT04O2Zvcih2YXIgcj0wO3I8PWkubGVuZ3RoOysrcillW3IrMTBdPWkuY2hhckNvZGVBdChyKX19LFhyPWZ1bmN0aW9uKGUpe3JldHVybiAxMCsoZS5maWxlbmFtZSYmZS5maWxlbmFtZS5sZW5ndGgrMXx8MCl9O2Z1bmN0aW9uIFFyKGUsdCl7dm9pZCAwPT09dCYmKHQ9e30pO3ZhciBpPUdyKCkscj1lLmxlbmd0aDtpLnAoZSk7dmFyIHM9SnIoZSx0LFhyKHQpLDgpLG49cy5sZW5ndGg7cmV0dXJuIEtyKHMsdCksWXIocyxuLTgsaS5kKCkpLFlyKHMsbi00LHIpLHN9ZnVuY3Rpb24gWnIoZSx0KXt2YXIgaT1lLmxlbmd0aDtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgVGV4dEVuY29kZXIpcmV0dXJuKG5ldyBUZXh0RW5jb2RlcikuZW5jb2RlKGUpO2Zvcih2YXIgcj1uZXcgZ3IoZS5sZW5ndGgrKGUubGVuZ3RoPj4+MSkpLHM9MCxuPWZ1bmN0aW9uKGUpe3JbcysrXT1lfSxvPTA7bzxpOysrbyl7aWYocys1PnIubGVuZ3RoKXt2YXIgYT1uZXcgZ3Iocys4KyhpLW88PDEpKTthLnNldChyKSxyPWF9dmFyIGw9ZS5jaGFyQ29kZUF0KG8pO2w8MTI4fHx0P24obCk6bDwyMDQ4PyhuKDE5MnxsPj4+NiksbigxMjh8NjMmbCkpOmw+NTUyOTUmJmw8NTczNDQ/KG4oMjQwfChsPTY1NTM2KygxMDQ3NTUyJmwpfDEwMjMmZS5jaGFyQ29kZUF0KCsrbykpPj4+MTgpLG4oMTI4fGw+Pj4xMiY2MyksbigxMjh8bD4+PjYmNjMpLG4oMTI4fDYzJmwpKToobigyMjR8bD4+PjEyKSxuKDEyOHxsPj4+NiY2MyksbigxMjh8NjMmbCkpfXJldHVybiBMcihyLDAscyl9ZnVuY3Rpb24gZXMoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsaT0wO2k8ZS5sZW5ndGg7aSsrKXQ9KHQ8PDUpLXQrZS5jaGFyQ29kZUF0KGkpLHR8PTA7cmV0dXJuIE1hdGguYWJzKHQpfShlKSUxMDA8cHIoMTAwKnQsMCwxMDApfXZhciB0cz1cIltTZXNzaW9uUmVjb3JkaW5nXVwiLGlzPXRlKHRzKSxycz0zZTUsc3M9W1RpLk1vdXNlTW92ZSxUaS5Nb3VzZUludGVyYWN0aW9uLFRpLlNjcm9sbCxUaS5WaWV3cG9ydFJlc2l6ZSxUaS5JbnB1dCxUaS5Ub3VjaE1vdmUsVGkuTWVkaWFJbnRlcmFjdGlvbixUaS5EcmFnXSxucz1lPT4oe3Jyd2ViTWV0aG9kOmUsZW5xdWV1ZWRBdDpEYXRlLm5vdygpLGF0dGVtcHQ6MX0pO2Z1bmN0aW9uIG9zKGUpe3JldHVybiBmdW5jdGlvbihlLHQpe2Zvcih2YXIgaT1cIlwiLHI9MDtyPGUubGVuZ3RoOyl7dmFyIHM9ZVtyKytdO3M8MTI4fHx0P2krPVN0cmluZy5mcm9tQ2hhckNvZGUocyk6czwyMjQ/aSs9U3RyaW5nLmZyb21DaGFyQ29kZSgoMzEmcyk8PDZ8NjMmZVtyKytdKTpzPDI0MD9pKz1TdHJpbmcuZnJvbUNoYXJDb2RlKCgxNSZzKTw8MTJ8KDYzJmVbcisrXSk8PDZ8NjMmZVtyKytdKToocz0oKDE1JnMpPDwxOHwoNjMmZVtyKytdKTw8MTJ8KDYzJmVbcisrXSk8PDZ8NjMmZVtyKytdKS02NTUzNixpKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2fHM+PjEwLDU2MzIwfDEwMjMmcykpfXJldHVybiBpfShRcihacihKU09OLnN0cmluZ2lmeShlKSkpLCEwKX1mdW5jdGlvbiBhcyhlKXtyZXR1cm4gZS50eXBlPT09RmkuQ3VzdG9tJiZcInNlc3Npb25JZGxlXCI9PT1lLmRhdGEudGFnfWZ1bmN0aW9uIGxzKGUsdCl7cmV0dXJuIHQuc29tZSgodD0+XCJyZWdleFwiPT09dC5tYXRjaGluZyYmbmV3IFJlZ0V4cCh0LnVybCkudGVzdChlKSkpfWNsYXNzIHVze2dldCBzZXNzaW9uSWRsZVRocmVzaG9sZE1pbGxpc2Vjb25kcygpe3JldHVybiB0aGlzLmluc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZy5zZXNzaW9uX2lkbGVfdGhyZXNob2xkX21zfHwzZTV9Z2V0IHJyd2ViUmVjb3JkKCl7dmFyIGUsdDtyZXR1cm4gbnVsbD09X3x8bnVsbD09PShlPV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09ZXx8bnVsbD09PSh0PWUucnJ3ZWIpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnJlY29yZH1nZXQgc3RhcnRlZCgpe3JldHVybiB0aGlzLl9jYXB0dXJlU3RhcnRlZH1nZXQgc2Vzc2lvbk1hbmFnZXIoKXtpZighdGhpcy5pbnN0YW5jZS5zZXNzaW9uTWFuYWdlcil0aHJvdyBuZXcgRXJyb3IodHMrXCIgbXVzdCBiZSBzdGFydGVkIHdpdGggYSB2YWxpZCBzZXNzaW9uTWFuYWdlci5cIik7cmV0dXJuIHRoaXMuaW5zdGFuY2Uuc2Vzc2lvbk1hbmFnZXJ9Z2V0IGZ1bGxTbmFwc2hvdEludGVydmFsTWlsbGlzKCl7dmFyIGUsdDtyZXR1cm5cInRyaWdnZXJfcGVuZGluZ1wiPT09dGhpcy50cmlnZ2VyU3RhdHVzPzZlNDpudWxsIT09KGU9bnVsbD09PSh0PXRoaXMuaW5zdGFuY2UuY29uZmlnLnNlc3Npb25fcmVjb3JkaW5nKXx8dm9pZCAwPT09dD92b2lkIDA6dC5mdWxsX3NuYXBzaG90X2ludGVydmFsX21pbGxpcykmJnZvaWQgMCE9PWU/ZTpyc31nZXQgaXNTYW1wbGVkKCl7dmFyIGU9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoeGUpO3JldHVybiBLKGUpP2U6bnVsbH1nZXQgc2Vzc2lvbkR1cmF0aW9uKCl7dmFyIGUsdCxpPW51bGw9PT0oZT10aGlzLmJ1ZmZlcil8fHZvaWQgMD09PWU/dm9pZCAwOmUuZGF0YVsobnVsbD09PSh0PXRoaXMuYnVmZmVyKXx8dm9pZCAwPT09dD92b2lkIDA6dC5kYXRhLmxlbmd0aCktMV0se3Nlc3Npb25TdGFydFRpbWVzdGFtcDpyfT10aGlzLnNlc3Npb25NYW5hZ2VyLmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCEwKTtyZXR1cm4gaT9pLnRpbWVzdGFtcC1yOm51bGx9Z2V0IGlzUmVjb3JkaW5nRW5hYmxlZCgpe3ZhciBlPSEhdGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoZmUpLGk9IXRoaXMuaW5zdGFuY2UuY29uZmlnLmRpc2FibGVfc2Vzc2lvbl9yZWNvcmRpbmc7cmV0dXJuIHQmJmUmJml9Z2V0IGlzQ29uc29sZUxvZ0NhcHR1cmVFbmFibGVkKCl7dmFyIGU9ISF0aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShtZSksdD10aGlzLmluc3RhbmNlLmNvbmZpZy5lbmFibGVfcmVjb3JkaW5nX2NvbnNvbGVfbG9nO3JldHVybiBudWxsIT10P3Q6ZX1nZXQgY2FudmFzUmVjb3JkaW5nKCl7dmFyIGUsdCxpLHIscyxuLG89dGhpcy5pbnN0YW5jZS5jb25maWcuc2Vzc2lvbl9yZWNvcmRpbmcuY2FwdHVyZUNhbnZhcyxhPXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KHllKSxsPW51bGwhPT0oZT1udWxsIT09KHQ9bnVsbD09bz92b2lkIDA6by5yZWNvcmRDYW52YXMpJiZ2b2lkIDAhPT10P3Q6bnVsbD09YT92b2lkIDA6YS5lbmFibGVkKSYmdm9pZCAwIT09ZSYmZSx1PW51bGwhPT0oaT1udWxsIT09KHI9bnVsbD09bz92b2lkIDA6by5jYW52YXNGcHMpJiZ2b2lkIDAhPT1yP3I6bnVsbD09YT92b2lkIDA6YS5mcHMpJiZ2b2lkIDAhPT1pP2k6MCxjPW51bGwhPT0ocz1udWxsIT09KG49bnVsbD09bz92b2lkIDA6by5jYW52YXNRdWFsaXR5KSYmdm9pZCAwIT09bj9uOm51bGw9PWE/dm9pZCAwOmEucXVhbGl0eSkmJnZvaWQgMCE9PXM/czowO3JldHVybntlbmFibGVkOmwsZnBzOnByKHUsMCwxMixcImNhbnZhcyByZWNvcmRpbmcgZnBzXCIpLHF1YWxpdHk6cHIoYywwLDEsXCJjYW52YXMgcmVjb3JkaW5nIHF1YWxpdHlcIil9fWdldCBuZXR3b3JrUGF5bG9hZENhcHR1cmUoKXt2YXIgZSx0LGk9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoYmUpLHI9e3JlY29yZEhlYWRlcnM6bnVsbD09PShlPXRoaXMuaW5zdGFuY2UuY29uZmlnLnNlc3Npb25fcmVjb3JkaW5nKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5yZWNvcmRIZWFkZXJzLHJlY29yZEJvZHk6bnVsbD09PSh0PXRoaXMuaW5zdGFuY2UuY29uZmlnLnNlc3Npb25fcmVjb3JkaW5nKXx8dm9pZCAwPT09dD92b2lkIDA6dC5yZWNvcmRCb2R5fSxzPShudWxsPT1yP3ZvaWQgMDpyLnJlY29yZEhlYWRlcnMpfHwobnVsbD09aT92b2lkIDA6aS5yZWNvcmRIZWFkZXJzKSxuPShudWxsPT1yP3ZvaWQgMDpyLnJlY29yZEJvZHkpfHwobnVsbD09aT92b2lkIDA6aS5yZWNvcmRCb2R5KSxvPVUodGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZSk/dGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZS5uZXR3b3JrX3RpbWluZzp0aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlLGE9ISEoSyhvKT9vOm51bGw9PWk/dm9pZCAwOmkuY2FwdHVyZVBlcmZvcm1hbmNlKTtyZXR1cm4gc3x8bnx8YT97cmVjb3JkSGVhZGVyczpzLHJlY29yZEJvZHk6bixyZWNvcmRQZXJmb3JtYW5jZTphfTp2b2lkIDB9Z2V0IHNhbXBsZVJhdGUoKXt2YXIgZT10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eSh3ZSk7cmV0dXJuIFkoZSk/ZTpudWxsfWdldCBtaW5pbXVtRHVyYXRpb24oKXt2YXIgZT10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShTZSk7cmV0dXJuIFkoZSk/ZTpudWxsfWdldCBzdGF0dXMoKXtyZXR1cm4gdGhpcy5yZWNlaXZlZERlY2lkZT90aGlzLmlzUmVjb3JkaW5nRW5hYmxlZD8hMT09PXRoaXMuaXNTYW1wbGVkP1wiZGlzYWJsZWRcIjp0aGlzLl91cmxCbG9ja2VkP1wicGF1c2VkXCI6Sih0aGlzLl9saW5rZWRGbGFnKXx8dGhpcy5fbGlua2VkRmxhZ1NlZW4/XCJ0cmlnZ2VyX3BlbmRpbmdcIj09PXRoaXMudHJpZ2dlclN0YXR1cz9cImJ1ZmZlcmluZ1wiOksodGhpcy5pc1NhbXBsZWQpP3RoaXMuaXNTYW1wbGVkP1wic2FtcGxlZFwiOlwiZGlzYWJsZWRcIjpcImFjdGl2ZVwiOlwiYnVmZmVyaW5nXCI6XCJkaXNhYmxlZFwiOlwiYnVmZmVyaW5nXCJ9Z2V0IHVybFRyaWdnZXJTdGF0dXMoKXt2YXIgZTtyZXR1cm4gMD09PXRoaXMuX3VybFRyaWdnZXJzLmxlbmd0aD9cInRyaWdnZXJfZGlzYWJsZWRcIjoobnVsbD09PShlPXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmdldF9wcm9wZXJ0eShJZSkpPT09dGhpcy5zZXNzaW9uSWQ/XCJ0cmlnZ2VyX2FjdGl2YXRlZFwiOlwidHJpZ2dlcl9wZW5kaW5nXCJ9Z2V0IGV2ZW50VHJpZ2dlclN0YXR1cygpe3ZhciBlO3JldHVybiAwPT09dGhpcy5fZXZlbnRUcmlnZ2Vycy5sZW5ndGg/XCJ0cmlnZ2VyX2Rpc2FibGVkXCI6KG51bGw9PT0oZT10aGlzLmluc3RhbmNlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5nZXRfcHJvcGVydHkoQ2UpKT09PXRoaXMuc2Vzc2lvbklkP1widHJpZ2dlcl9hY3RpdmF0ZWRcIjpcInRyaWdnZXJfcGVuZGluZ1wifWdldCB0cmlnZ2VyU3RhdHVzKCl7dmFyIGU9XCJ0cmlnZ2VyX2FjdGl2YXRlZFwiPT09dGhpcy5ldmVudFRyaWdnZXJTdGF0dXN8fFwidHJpZ2dlcl9hY3RpdmF0ZWRcIj09PXRoaXMudXJsVHJpZ2dlclN0YXR1cyx0PVwidHJpZ2dlcl9wZW5kaW5nXCI9PT10aGlzLmV2ZW50VHJpZ2dlclN0YXR1c3x8XCJ0cmlnZ2VyX3BlbmRpbmdcIj09PXRoaXMudXJsVHJpZ2dlclN0YXR1cztyZXR1cm4gZT9cInRyaWdnZXJfYWN0aXZhdGVkXCI6dD9cInRyaWdnZXJfcGVuZGluZ1wiOlwidHJpZ2dlcl9kaXNhYmxlZFwifWNvbnN0cnVjdG9yKGUpe2lmKG9lKHRoaXMsXCJxdWV1ZWRSUldlYkV2ZW50c1wiLFtdKSxvZSh0aGlzLFwiaXNJZGxlXCIsITEpLG9lKHRoaXMsXCJfbGlua2VkRmxhZ1NlZW5cIiwhMSksb2UodGhpcyxcIl9sYXN0QWN0aXZpdHlUaW1lc3RhbXBcIixEYXRlLm5vdygpKSxvZSh0aGlzLFwiX2xpbmtlZEZsYWdcIixudWxsKSxvZSh0aGlzLFwiX3JlbW92ZVBhZ2VWaWV3Q2FwdHVyZUhvb2tcIix2b2lkIDApLG9lKHRoaXMsXCJfb25TZXNzaW9uSWRMaXN0ZW5lclwiLHZvaWQgMCksb2UodGhpcyxcIl9wZXJzaXN0RGVjaWRlT25TZXNzaW9uTGlzdGVuZXJcIix2b2lkIDApLG9lKHRoaXMsXCJfc2FtcGxpbmdTZXNzaW9uTGlzdGVuZXJcIix2b2lkIDApLG9lKHRoaXMsXCJfdXJsVHJpZ2dlcnNcIixbXSksb2UodGhpcyxcIl91cmxCbG9ja2xpc3RcIixbXSksb2UodGhpcyxcIl91cmxCbG9ja2VkXCIsITEpLG9lKHRoaXMsXCJfZXZlbnRUcmlnZ2Vyc1wiLFtdKSxvZSh0aGlzLFwiX3JlbW92ZUV2ZW50VHJpZ2dlckNhcHR1cmVIb29rXCIsdm9pZCAwKSxvZSh0aGlzLFwiX2ZvcmNlQWxsb3dMb2NhbGhvc3ROZXR3b3JrQ2FwdHVyZVwiLCExKSxvZSh0aGlzLFwiX29uQmVmb3JlVW5sb2FkXCIsKCgpPT57dGhpcy5fZmx1c2hCdWZmZXIoKX0pKSxvZSh0aGlzLFwiX29uT2ZmbGluZVwiLCgoKT0+e3RoaXMuX3RyeUFkZEN1c3RvbUV2ZW50KFwiYnJvd3NlciBvZmZsaW5lXCIse30pfSkpLG9lKHRoaXMsXCJfb25PbmxpbmVcIiwoKCk9Pnt0aGlzLl90cnlBZGRDdXN0b21FdmVudChcImJyb3dzZXIgb25saW5lXCIse30pfSkpLG9lKHRoaXMsXCJfb25WaXNpYmlsaXR5Q2hhbmdlXCIsKCgpPT57aWYobnVsbCE9YSYmYS52aXNpYmlsaXR5U3RhdGUpe3ZhciBlPVwid2luZG93IFwiK2EudmlzaWJpbGl0eVN0YXRlO3RoaXMuX3RyeUFkZEN1c3RvbUV2ZW50KGUse30pfX0pKSx0aGlzLmluc3RhbmNlPWUsdGhpcy5fY2FwdHVyZVN0YXJ0ZWQ9ITEsdGhpcy5fZW5kcG9pbnQ9XCIvcy9cIix0aGlzLnN0b3BScndlYj12b2lkIDAsdGhpcy5yZWNlaXZlZERlY2lkZT0hMSwhdGhpcy5pbnN0YW5jZS5zZXNzaW9uTWFuYWdlcil0aHJvdyBpcy5lcnJvcihcInN0YXJ0ZWQgd2l0aG91dCB2YWxpZCBzZXNzaW9uTWFuYWdlclwiKSxuZXcgRXJyb3IodHMrXCIgc3RhcnRlZCB3aXRob3V0IHZhbGlkIHNlc3Npb25NYW5hZ2VyLiBUaGlzIGlzIGEgYnVnLlwiKTtpZih0aGlzLmluc3RhbmNlLmNvbmZpZy5fX3ByZXZpZXdfZXhwZXJpbWVudGFsX2Nvb2tpZWxlc3NfbW9kZSl0aHJvdyBuZXcgRXJyb3IodHMrXCIgY2Fubm90IGJlIHVzZWQgd2l0aCBfX3ByZXZpZXdfZXhwZXJpbWVudGFsX2Nvb2tpZWxlc3NfbW9kZS5cIik7dmFye3Nlc3Npb25JZDp0LHdpbmRvd0lkOml9PXRoaXMuc2Vzc2lvbk1hbmFnZXIuY2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQoKTt0aGlzLnNlc3Npb25JZD10LHRoaXMud2luZG93SWQ9aSx0aGlzLmJ1ZmZlcj10aGlzLmNsZWFyQnVmZmVyKCksdGhpcy5zZXNzaW9uSWRsZVRocmVzaG9sZE1pbGxpc2Vjb25kcz49dGhpcy5zZXNzaW9uTWFuYWdlci5zZXNzaW9uVGltZW91dE1zJiZpcy53YXJuKFwic2Vzc2lvbl9pZGxlX3RocmVzaG9sZF9tcyAoXCIuY29uY2F0KHRoaXMuc2Vzc2lvbklkbGVUaHJlc2hvbGRNaWxsaXNlY29uZHMsXCIpIGlzIGdyZWF0ZXIgdGhhbiB0aGUgc2Vzc2lvbiB0aW1lb3V0IChcIikuY29uY2F0KHRoaXMuc2Vzc2lvbk1hbmFnZXIuc2Vzc2lvblRpbWVvdXRNcyxcIikuIFNlc3Npb24gd2lsbCBuZXZlciBiZSBkZXRlY3RlZCBhcyBpZGxlXCIpKX1zdGFydElmRW5hYmxlZE9yU3RvcChlKXt0aGlzLmlzUmVjb3JkaW5nRW5hYmxlZD8odGhpcy5fc3RhcnRDYXB0dXJlKGUpLFIodCxcImJlZm9yZXVubG9hZFwiLHRoaXMuX29uQmVmb3JlVW5sb2FkKSxSKHQsXCJvZmZsaW5lXCIsdGhpcy5fb25PZmZsaW5lKSxSKHQsXCJvbmxpbmVcIix0aGlzLl9vbk9ubGluZSksUih0LFwidmlzaWJpbGl0eWNoYW5nZVwiLHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSksdGhpcy5fc2V0dXBTYW1wbGluZygpLHRoaXMuX2FkZEV2ZW50VHJpZ2dlckxpc3RlbmVyKCksSih0aGlzLl9yZW1vdmVQYWdlVmlld0NhcHR1cmVIb29rKSYmKHRoaXMuX3JlbW92ZVBhZ2VWaWV3Q2FwdHVyZUhvb2s9dGhpcy5pbnN0YW5jZS5vbihcImV2ZW50Q2FwdHVyZWRcIiwoZT0+e3RyeXtpZihcIiRwYWdldmlld1wiPT09ZS5ldmVudCl7dmFyIHQ9bnVsbCE9ZSYmZS5wcm9wZXJ0aWVzLiRjdXJyZW50X3VybD90aGlzLl9tYXNrVXJsKG51bGw9PWU/dm9pZCAwOmUucHJvcGVydGllcy4kY3VycmVudF91cmwpOlwiXCI7aWYoIXQpcmV0dXJuO3RoaXMuX3RyeUFkZEN1c3RvbUV2ZW50KFwiJHBhZ2V2aWV3XCIse2hyZWY6dH0pfX1jYXRjaChlKXtpcy5lcnJvcihcIkNvdWxkIG5vdCBhZGQgJHBhZ2V2aWV3IHRvIHJyd2ViIHNlc3Npb25cIixlKX19KSkpLHRoaXMuX29uU2Vzc2lvbklkTGlzdGVuZXJ8fCh0aGlzLl9vblNlc3Npb25JZExpc3RlbmVyPXRoaXMuc2Vzc2lvbk1hbmFnZXIub25TZXNzaW9uSWQoKChlLHQsaSk9Pnt2YXIgcixzLG4sbztpJiYodGhpcy5fdHJ5QWRkQ3VzdG9tRXZlbnQoXCIkc2Vzc2lvbl9pZF9jaGFuZ2VcIix7c2Vzc2lvbklkOmUsd2luZG93SWQ6dCxjaGFuZ2VSZWFzb246aX0pLG51bGw9PT0ocj10aGlzLmluc3RhbmNlKXx8dm9pZCAwPT09cnx8bnVsbD09PShzPXIucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1zfHxzLnVucmVnaXN0ZXIoQ2UpLG51bGw9PT0obj10aGlzLmluc3RhbmNlKXx8dm9pZCAwPT09bnx8bnVsbD09PShvPW4ucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1vfHxvLnVucmVnaXN0ZXIoSWUpKX0pKSkpOnRoaXMuc3RvcFJlY29yZGluZygpfXN0b3BSZWNvcmRpbmcoKXt2YXIgZSxpLHIsczt0aGlzLl9jYXB0dXJlU3RhcnRlZCYmdGhpcy5zdG9wUnJ3ZWImJih0aGlzLnN0b3BScndlYigpLHRoaXMuc3RvcFJyd2ViPXZvaWQgMCx0aGlzLl9jYXB0dXJlU3RhcnRlZD0hMSxudWxsPT10fHx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIix0aGlzLl9vbkJlZm9yZVVubG9hZCksbnVsbD09dHx8dC5yZW1vdmVFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLHRoaXMuX29uT2ZmbGluZSksbnVsbD09dHx8dC5yZW1vdmVFdmVudExpc3RlbmVyKFwib25saW5lXCIsdGhpcy5fb25PbmxpbmUpLG51bGw9PXR8fHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIix0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UpLHRoaXMuY2xlYXJCdWZmZXIoKSxjbGVhckludGVydmFsKHRoaXMuX2Z1bGxTbmFwc2hvdFRpbWVyKSxudWxsPT09KGU9dGhpcy5fcmVtb3ZlUGFnZVZpZXdDYXB0dXJlSG9vayl8fHZvaWQgMD09PWV8fGUuY2FsbCh0aGlzKSx0aGlzLl9yZW1vdmVQYWdlVmlld0NhcHR1cmVIb29rPXZvaWQgMCxudWxsPT09KGk9dGhpcy5fcmVtb3ZlRXZlbnRUcmlnZ2VyQ2FwdHVyZUhvb2spfHx2b2lkIDA9PT1pfHxpLmNhbGwodGhpcyksdGhpcy5fcmVtb3ZlRXZlbnRUcmlnZ2VyQ2FwdHVyZUhvb2s9dm9pZCAwLG51bGw9PT0ocj10aGlzLl9vblNlc3Npb25JZExpc3RlbmVyKXx8dm9pZCAwPT09cnx8ci5jYWxsKHRoaXMpLHRoaXMuX29uU2Vzc2lvbklkTGlzdGVuZXI9dm9pZCAwLG51bGw9PT0ocz10aGlzLl9zYW1wbGluZ1Nlc3Npb25MaXN0ZW5lcil8fHZvaWQgMD09PXN8fHMuY2FsbCh0aGlzKSx0aGlzLl9zYW1wbGluZ1Nlc3Npb25MaXN0ZW5lcj12b2lkIDAsaXMuaW5mbyhcInN0b3BwZWRcIikpfW1ha2VTYW1wbGluZ0RlY2lzaW9uKGUpe3ZhciB0LGk9dGhpcy5zZXNzaW9uSWQhPT1lLHI9dGhpcy5zYW1wbGVSYXRlO2lmKFkocikpe3ZhciBzPXRoaXMuaXNTYW1wbGVkLG49aXx8IUsocyksbz1uP2VzKGUscik6cztuJiYobz90aGlzLl9yZXBvcnRTdGFydGVkKFwic2FtcGxlZFwiKTppcy53YXJuKFwiU2FtcGxlIHJhdGUgKFwiLmNvbmNhdChyLFwiKSBoYXMgZGV0ZXJtaW5lZCB0aGF0IHRoaXMgc2Vzc2lvbklkIChcIikuY29uY2F0KGUsXCIpIHdpbGwgbm90IGJlIHNlbnQgdG8gdGhlIHNlcnZlci5cIikpLHRoaXMuX3RyeUFkZEN1c3RvbUV2ZW50KFwic2FtcGxpbmdEZWNpc2lvbk1hZGVcIix7c2FtcGxlUmF0ZTpyLGlzU2FtcGxlZDpvfSkpLG51bGw9PT0odD10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dHx8dC5yZWdpc3Rlcih7W3hlXTpvfSl9ZWxzZXt2YXIgYTtudWxsPT09KGE9dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWF8fGEucmVnaXN0ZXIoe1t4ZV06bnVsbH0pfX1vblJlbW90ZUNvbmZpZyhlKXt2YXIgdCxpLHIscyxuLG87KHRoaXMuX3RyeUFkZEN1c3RvbUV2ZW50KFwiJHJlbW90ZV9jb25maWdfcmVjZWl2ZWRcIixlKSx0aGlzLl9wZXJzaXN0UmVtb3RlQ29uZmlnKGUpLHRoaXMuX2xpbmtlZEZsYWc9KG51bGw9PT0odD1lLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmxpbmtlZEZsYWcpfHxudWxsLG51bGwhPT0oaT1lLnNlc3Npb25SZWNvcmRpbmcpJiZ2b2lkIDAhPT1pJiZpLmVuZHBvaW50KSYmKHRoaXMuX2VuZHBvaW50PW51bGw9PT0obz1lLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmVuZHBvaW50KTtpZih0aGlzLl9zZXR1cFNhbXBsaW5nKCksIUoodGhpcy5fbGlua2VkRmxhZykmJiF0aGlzLl9saW5rZWRGbGFnU2Vlbil7dmFyIGE9Vyh0aGlzLl9saW5rZWRGbGFnKT90aGlzLl9saW5rZWRGbGFnOnRoaXMuX2xpbmtlZEZsYWcuZmxhZyxsPVcodGhpcy5fbGlua2VkRmxhZyk/bnVsbDp0aGlzLl9saW5rZWRGbGFnLnZhcmlhbnQ7dGhpcy5pbnN0YW5jZS5vbkZlYXR1cmVGbGFncygoKGUsdCk9Pnt2YXIgaT1VKHQpJiZhIGluIHQscj1sP3RbYV09PT1sOmk7ciYmdGhpcy5fcmVwb3J0U3RhcnRlZChcImxpbmtlZF9mbGFnX21hdGNoZWRcIix7bGlua2VkRmxhZzphLGxpbmtlZFZhcmlhbnQ6bH0pLHRoaXMuX2xpbmtlZEZsYWdTZWVuPXJ9KSl9bnVsbCE9PShyPWUuc2Vzc2lvblJlY29yZGluZykmJnZvaWQgMCE9PXImJnIudXJsVHJpZ2dlcnMmJih0aGlzLl91cmxUcmlnZ2Vycz1lLnNlc3Npb25SZWNvcmRpbmcudXJsVHJpZ2dlcnMpLG51bGwhPT0ocz1lLnNlc3Npb25SZWNvcmRpbmcpJiZ2b2lkIDAhPT1zJiZzLnVybEJsb2NrbGlzdCYmKHRoaXMuX3VybEJsb2NrbGlzdD1lLnNlc3Npb25SZWNvcmRpbmcudXJsQmxvY2tsaXN0KSxudWxsIT09KG49ZS5zZXNzaW9uUmVjb3JkaW5nKSYmdm9pZCAwIT09biYmbi5ldmVudFRyaWdnZXJzJiYodGhpcy5fZXZlbnRUcmlnZ2Vycz1lLnNlc3Npb25SZWNvcmRpbmcuZXZlbnRUcmlnZ2VycyksdGhpcy5yZWNlaXZlZERlY2lkZT0hMCx0aGlzLnN0YXJ0SWZFbmFibGVkT3JTdG9wKCl9X3NldHVwU2FtcGxpbmcoKXtZKHRoaXMuc2FtcGxlUmF0ZSkmJkoodGhpcy5fc2FtcGxpbmdTZXNzaW9uTGlzdGVuZXIpJiYodGhpcy5fc2FtcGxpbmdTZXNzaW9uTGlzdGVuZXI9dGhpcy5zZXNzaW9uTWFuYWdlci5vblNlc3Npb25JZCgoZT0+e3RoaXMubWFrZVNhbXBsaW5nRGVjaXNpb24oZSl9KSkpfV9wZXJzaXN0UmVtb3RlQ29uZmlnKGUpe2lmKHRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2Upe3ZhciB0LGk9dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSxyPSgpPT57dmFyIHQscixzLG4sbyxhLGwsdSxjPW51bGw9PT0odD1lLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnNhbXBsZVJhdGUsZD1KKGMpP251bGw6cGFyc2VGbG9hdChjKSxoPW51bGw9PT0ocj1lLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLm1pbmltdW1EdXJhdGlvbk1pbGxpc2Vjb25kcztpLnJlZ2lzdGVyKHtbZmVdOiEhZS5zZXNzaW9uUmVjb3JkaW5nLFttZV06bnVsbD09PShzPWUuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PXM/dm9pZCAwOnMuY29uc29sZUxvZ1JlY29yZGluZ0VuYWJsZWQsW2JlXTpuZSh7Y2FwdHVyZVBlcmZvcm1hbmNlOmUuY2FwdHVyZVBlcmZvcm1hbmNlfSxudWxsPT09KG49ZS5zZXNzaW9uUmVjb3JkaW5nKXx8dm9pZCAwPT09bj92b2lkIDA6bi5uZXR3b3JrUGF5bG9hZENhcHR1cmUpLFt5ZV06e2VuYWJsZWQ6bnVsbD09PShvPWUuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PW8/dm9pZCAwOm8ucmVjb3JkQ2FudmFzLGZwczpudWxsPT09KGE9ZS5zZXNzaW9uUmVjb3JkaW5nKXx8dm9pZCAwPT09YT92b2lkIDA6YS5jYW52YXNGcHMscXVhbGl0eTpudWxsPT09KGw9ZS5zZXNzaW9uUmVjb3JkaW5nKXx8dm9pZCAwPT09bD92b2lkIDA6bC5jYW52YXNRdWFsaXR5fSxbd2VdOmQsW1NlXTp6KGgpP251bGw6aCxba2VdOm51bGw9PT0odT1lLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT11P3ZvaWQgMDp1LnNjcmlwdENvbmZpZ30pfTtyKCksbnVsbD09PSh0PXRoaXMuX3BlcnNpc3REZWNpZGVPblNlc3Npb25MaXN0ZW5lcil8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzKSx0aGlzLl9wZXJzaXN0RGVjaWRlT25TZXNzaW9uTGlzdGVuZXI9dGhpcy5zZXNzaW9uTWFuYWdlci5vblNlc3Npb25JZChyKX19bG9nKGUpe3ZhciB0LGk9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwibG9nXCI7bnVsbD09PSh0PXRoaXMuaW5zdGFuY2Uuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PXR8fHQub25SUndlYkVtaXQoe3R5cGU6NixkYXRhOntwbHVnaW46XCJycndlYi9jb25zb2xlQDFcIixwYXlsb2FkOntsZXZlbDppLHRyYWNlOltdLHBheWxvYWQ6W0pTT04uc3RyaW5naWZ5KGUpXX19LHRpbWVzdGFtcDpEYXRlLm5vdygpfSl9X3N0YXJ0Q2FwdHVyZShlKXtpZigheihPYmplY3QuYXNzaWduKSYmIXooQXJyYXkuZnJvbSkmJiEodGhpcy5fY2FwdHVyZVN0YXJ0ZWR8fHRoaXMuaW5zdGFuY2UuY29uZmlnLmRpc2FibGVfc2Vzc2lvbl9yZWNvcmRpbmd8fHRoaXMuaW5zdGFuY2UuY29uc2VudC5pc09wdGVkT3V0KCkpKXt2YXIgdCxpO2lmKHRoaXMuX2NhcHR1cmVTdGFydGVkPSEwLHRoaXMuc2Vzc2lvbk1hbmFnZXIuY2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQoKSx0aGlzLnJyd2ViUmVjb3JkKXRoaXMuX29uU2NyaXB0TG9hZGVkKCk7ZWxzZSBudWxsPT09KHQ9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHx2b2lkIDA9PT10fHxudWxsPT09KGk9dC5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5KXx8dm9pZCAwPT09aXx8aS5jYWxsKHQsdGhpcy5pbnN0YW5jZSx0aGlzLnNjcmlwdE5hbWUsKGU9PntpZihlKXJldHVybiBpcy5lcnJvcihcImNvdWxkIG5vdCBsb2FkIHJlY29yZGVyXCIsZSk7dGhpcy5fb25TY3JpcHRMb2FkZWQoKX0pKTtpcy5pbmZvKFwic3RhcnRpbmdcIiksXCJhY3RpdmVcIj09PXRoaXMuc3RhdHVzJiZ0aGlzLl9yZXBvcnRTdGFydGVkKGV8fFwicmVjb3JkaW5nX2luaXRpYWxpemVkXCIpfX1nZXQgc2NyaXB0TmFtZSgpe3ZhciBlLHQsaTtyZXR1cm4obnVsbD09PShlPXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT1lfHxudWxsPT09KHQ9ZS5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PXR8fG51bGw9PT0oaT10LmdldF9wcm9wZXJ0eShrZSkpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnNjcmlwdCl8fFwicmVjb3JkZXJcIn1pc0ludGVyYWN0aXZlRXZlbnQoZSl7dmFyIHQ7cmV0dXJuIDM9PT1lLnR5cGUmJi0xIT09c3MuaW5kZXhPZihudWxsPT09KHQ9ZS5kYXRhKXx8dm9pZCAwPT09dD92b2lkIDA6dC5zb3VyY2UpfV91cGRhdGVXaW5kb3dBbmRTZXNzaW9uSWRzKGUpe3ZhciB0PXRoaXMuaXNJbnRlcmFjdGl2ZUV2ZW50KGUpO3R8fHRoaXMuaXNJZGxlfHxlLnRpbWVzdGFtcC10aGlzLl9sYXN0QWN0aXZpdHlUaW1lc3RhbXA+dGhpcy5zZXNzaW9uSWRsZVRocmVzaG9sZE1pbGxpc2Vjb25kcyYmKHRoaXMuaXNJZGxlPSEwLGNsZWFySW50ZXJ2YWwodGhpcy5fZnVsbFNuYXBzaG90VGltZXIpLHRoaXMuX3RyeUFkZEN1c3RvbUV2ZW50KFwic2Vzc2lvbklkbGVcIix7ZXZlbnRUaW1lc3RhbXA6ZS50aW1lc3RhbXAsbGFzdEFjdGl2aXR5VGltZXN0YW1wOnRoaXMuX2xhc3RBY3Rpdml0eVRpbWVzdGFtcCx0aHJlc2hvbGQ6dGhpcy5zZXNzaW9uSWRsZVRocmVzaG9sZE1pbGxpc2Vjb25kcyxidWZmZXJMZW5ndGg6dGhpcy5idWZmZXIuZGF0YS5sZW5ndGgsYnVmZmVyU2l6ZTp0aGlzLmJ1ZmZlci5zaXplfSksdGhpcy5fZmx1c2hCdWZmZXIoKSk7dmFyIGk9ITE7aWYodCYmKHRoaXMuX2xhc3RBY3Rpdml0eVRpbWVzdGFtcD1lLnRpbWVzdGFtcCx0aGlzLmlzSWRsZSYmKHRoaXMuaXNJZGxlPSExLHRoaXMuX3RyeUFkZEN1c3RvbUV2ZW50KFwic2Vzc2lvbk5vTG9uZ2VySWRsZVwiLHtyZWFzb246XCJ1c2VyIGFjdGl2aXR5XCIsdHlwZTplLnR5cGV9KSxpPSEwKSksIXRoaXMuaXNJZGxlKXt2YXJ7d2luZG93SWQ6cixzZXNzaW9uSWQ6c309dGhpcy5zZXNzaW9uTWFuYWdlci5jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCghdCxlLnRpbWVzdGFtcCksbj10aGlzLnNlc3Npb25JZCE9PXMsbz10aGlzLndpbmRvd0lkIT09cjt0aGlzLndpbmRvd0lkPXIsdGhpcy5zZXNzaW9uSWQ9cyxufHxvPyh0aGlzLnN0b3BSZWNvcmRpbmcoKSx0aGlzLnN0YXJ0SWZFbmFibGVkT3JTdG9wKFwic2Vzc2lvbl9pZF9jaGFuZ2VkXCIpKTppJiZ0aGlzLl9zY2hlZHVsZUZ1bGxTbmFwc2hvdCgpfX1fdHJ5UlJXZWJNZXRob2QoZSl7dHJ5e3JldHVybiBlLnJyd2ViTWV0aG9kKCksITB9Y2F0Y2godCl7cmV0dXJuIHRoaXMucXVldWVkUlJXZWJFdmVudHMubGVuZ3RoPDEwP3RoaXMucXVldWVkUlJXZWJFdmVudHMucHVzaCh7ZW5xdWV1ZWRBdDplLmVucXVldWVkQXR8fERhdGUubm93KCksYXR0ZW1wdDplLmF0dGVtcHQrKyxycndlYk1ldGhvZDplLnJyd2ViTWV0aG9kfSk6aXMud2FybihcImNvdWxkIG5vdCBlbWl0IHF1ZXVlZCBycndlYiBldmVudC5cIix0LGUpLCExfX1fdHJ5QWRkQ3VzdG9tRXZlbnQoZSx0KXtyZXR1cm4gdGhpcy5fdHJ5UlJXZWJNZXRob2QobnMoKCgpPT50aGlzLnJyd2ViUmVjb3JkLmFkZEN1c3RvbUV2ZW50KGUsdCkpKSl9X3RyeVRha2VGdWxsU25hcHNob3QoKXtyZXR1cm4gdGhpcy5fdHJ5UlJXZWJNZXRob2QobnMoKCgpPT50aGlzLnJyd2ViUmVjb3JkLnRha2VGdWxsU25hcHNob3QoKSkpKX1fb25TY3JpcHRMb2FkZWQoKXt2YXIgZSx0PXtibG9ja0NsYXNzOlwicGgtbm8tY2FwdHVyZVwiLGJsb2NrU2VsZWN0b3I6dm9pZCAwLGlnbm9yZUNsYXNzOlwicGgtaWdub3JlLWlucHV0XCIsbWFza1RleHRDbGFzczpcInBoLW1hc2tcIixtYXNrVGV4dFNlbGVjdG9yOnZvaWQgMCxtYXNrVGV4dEZuOnZvaWQgMCxtYXNrQWxsSW5wdXRzOiEwLG1hc2tJbnB1dE9wdGlvbnM6e3Bhc3N3b3JkOiEwfSxtYXNrSW5wdXRGbjp2b2lkIDAsc2xpbURPTU9wdGlvbnM6e30sY29sbGVjdEZvbnRzOiExLGlubGluZVN0eWxlc2hlZXQ6ITAscmVjb3JkQ3Jvc3NPcmlnaW5JZnJhbWVzOiExfSxpPXRoaXMuaW5zdGFuY2UuY29uZmlnLnNlc3Npb25fcmVjb3JkaW5nO2Zvcih2YXJbcixzXW9mIE9iamVjdC5lbnRyaWVzKGl8fHt9KSlyIGluIHQmJihcIm1hc2tJbnB1dE9wdGlvbnNcIj09PXI/dC5tYXNrSW5wdXRPcHRpb25zPW5lKHtwYXNzd29yZDohMH0scyk6dFtyXT1zKTtpZih0aGlzLmNhbnZhc1JlY29yZGluZyYmdGhpcy5jYW52YXNSZWNvcmRpbmcuZW5hYmxlZCYmKHQucmVjb3JkQ2FudmFzPSEwLHQuc2FtcGxpbmc9e2NhbnZhczp0aGlzLmNhbnZhc1JlY29yZGluZy5mcHN9LHQuZGF0YVVSTE9wdGlvbnM9e3R5cGU6XCJpbWFnZS93ZWJwXCIscXVhbGl0eTp0aGlzLmNhbnZhc1JlY29yZGluZy5xdWFsaXR5fSksdGhpcy5ycndlYlJlY29yZCl7dGhpcy5tdXRhdGlvblJhdGVMaW1pdGVyPW51bGwhPT0oZT10aGlzLm11dGF0aW9uUmF0ZUxpbWl0ZXIpJiZ2b2lkIDAhPT1lP2U6bmV3IHZyKHRoaXMucnJ3ZWJSZWNvcmQse3JlZmlsbFJhdGU6dGhpcy5pbnN0YW5jZS5jb25maWcuc2Vzc2lvbl9yZWNvcmRpbmcuX19tdXRhdGlvblJhdGVMaW1pdGVyUmVmaWxsUmF0ZSxidWNrZXRTaXplOnRoaXMuaW5zdGFuY2UuY29uZmlnLnNlc3Npb25fcmVjb3JkaW5nLl9fbXV0YXRpb25SYXRlTGltaXRlckJ1Y2tldFNpemUsb25CbG9ja2VkTm9kZTooZSx0KT0+e3ZhciBpPVwiVG9vIG1hbnkgbXV0YXRpb25zIG9uIG5vZGUgJ1wiLmNvbmNhdChlLFwiJy4gUmF0ZSBsaW1pdGluZy4gVGhpcyBjb3VsZCBiZSBkdWUgdG8gU1ZHIGFuaW1hdGlvbnMgb3Igc29tZXRoaW5nIHNpbWlsYXJcIik7aXMuaW5mbyhpLHtub2RlOnR9KSx0aGlzLmxvZyh0cytcIiBcIitpLFwid2FyblwiKX19KTt2YXIgbj10aGlzLl9nYXRoZXJSUldlYlBsdWdpbnMoKTt0aGlzLnN0b3BScndlYj10aGlzLnJyd2ViUmVjb3JkKG5lKHtlbWl0OmU9Pnt0aGlzLm9uUlJ3ZWJFbWl0KGUpfSxwbHVnaW5zOm59LHQpKSx0aGlzLl9sYXN0QWN0aXZpdHlUaW1lc3RhbXA9RGF0ZS5ub3coKSx0aGlzLmlzSWRsZT0hMSx0aGlzLl90cnlBZGRDdXN0b21FdmVudChcIiRzZXNzaW9uX29wdGlvbnNcIix7c2Vzc2lvblJlY29yZGluZ09wdGlvbnM6dCxhY3RpdmVQbHVnaW5zOm4ubWFwKChlPT5udWxsPT1lP3ZvaWQgMDplLm5hbWUpKX0pLHRoaXMuX3RyeUFkZEN1c3RvbUV2ZW50KFwiJHBvc3Rob2dfY29uZmlnXCIse2NvbmZpZzp0aGlzLmluc3RhbmNlLmNvbmZpZ30pfWVsc2UgaXMuZXJyb3IoXCJvblNjcmlwdExvYWRlZCB3YXMgY2FsbGVkIGJ1dCBycndlYlJlY29yZCBpcyBub3QgYXZhaWxhYmxlLiBUaGlzIGluZGljYXRlcyBzb21ldGhpbmcgaGFzIGdvbmUgd3JvbmcuXCIpfV9zY2hlZHVsZUZ1bGxTbmFwc2hvdCgpe2lmKHRoaXMuX2Z1bGxTbmFwc2hvdFRpbWVyJiZjbGVhckludGVydmFsKHRoaXMuX2Z1bGxTbmFwc2hvdFRpbWVyKSwhdGhpcy5pc0lkbGUpe3ZhciBlPXRoaXMuZnVsbFNuYXBzaG90SW50ZXJ2YWxNaWxsaXM7ZSYmKHRoaXMuX2Z1bGxTbmFwc2hvdFRpbWVyPXNldEludGVydmFsKCgoKT0+e3RoaXMuX3RyeVRha2VGdWxsU25hcHNob3QoKX0pLGUpKX19X2dhdGhlclJSV2ViUGx1Z2lucygpe3ZhciBlLHQsaSxyLHM9W10sbj1udWxsPT09KGU9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHx2b2lkIDA9PT1lfHxudWxsPT09KHQ9ZS5ycndlYlBsdWdpbnMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmdldFJlY29yZENvbnNvbGVQbHVnaW47biYmdGhpcy5pc0NvbnNvbGVMb2dDYXB0dXJlRW5hYmxlZCYmcy5wdXNoKG4oKSk7dmFyIG89bnVsbD09PShpPV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09aXx8bnVsbD09PShyPWkucnJ3ZWJQbHVnaW5zKXx8dm9pZCAwPT09cj92b2lkIDA6ci5nZXRSZWNvcmROZXR3b3JrUGx1Z2luO3RoaXMubmV0d29ya1BheWxvYWRDYXB0dXJlJiZIKG8pJiYoIWJ0LmluY2x1ZGVzKGxvY2F0aW9uLmhvc3RuYW1lKXx8dGhpcy5fZm9yY2VBbGxvd0xvY2FsaG9zdE5ldHdvcmtDYXB0dXJlP3MucHVzaChvKF9yKHRoaXMuaW5zdGFuY2UuY29uZmlnLHRoaXMubmV0d29ya1BheWxvYWRDYXB0dXJlKSkpOmlzLmluZm8oXCJOZXR3b3JrQ2FwdHVyZSBub3Qgc3RhcnRlZCBiZWNhdXNlIHdlIGFyZSBvbiBsb2NhbGhvc3QuXCIpKTtyZXR1cm4gc31vblJSd2ViRW1pdChlKXt2YXIgdDtpZih0aGlzLl9wcm9jZXNzUXVldWVkRXZlbnRzKCksZSYmVShlKSl7aWYoZS50eXBlPT09RmkuTWV0YSl7dmFyIGk9dGhpcy5fbWFza1VybChlLmRhdGEuaHJlZik7aWYodGhpcy5fbGFzdEhyZWY9aSwhaSlyZXR1cm47ZS5kYXRhLmhyZWY9aX1lbHNlIHRoaXMuX3BhZ2VWaWV3RmFsbEJhY2soKTtpZih0aGlzLl9jaGVja1VybFRyaWdnZXJDb25kaXRpb25zKCksIXRoaXMuX3VybEJsb2NrZWR8fGZ1bmN0aW9uKGUpe3JldHVybiBlLnR5cGU9PT1GaS5DdXN0b20mJlwicmVjb3JkaW5nIHBhdXNlZFwiPT09ZS5kYXRhLnRhZ30oZSkpe2UudHlwZT09PUZpLkZ1bGxTbmFwc2hvdCYmdGhpcy5fc2NoZWR1bGVGdWxsU25hcHNob3QoKSxlLnR5cGU9PT1GaS5GdWxsU25hcHNob3QmJlwidHJpZ2dlcl9wZW5kaW5nXCI9PT10aGlzLnRyaWdnZXJTdGF0dXMmJnRoaXMuY2xlYXJCdWZmZXIoKTt2YXIgcj10aGlzLm11dGF0aW9uUmF0ZUxpbWl0ZXI/dGhpcy5tdXRhdGlvblJhdGVMaW1pdGVyLnRocm90dGxlTXV0YXRpb25zKGUpOmU7aWYocil7dmFyIHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZTtpZih0JiZVKHQpJiY2PT09dC50eXBlJiZVKHQuZGF0YSkmJlwicnJ3ZWIvY29uc29sZUAxXCI9PT10LmRhdGEucGx1Z2luKXt0LmRhdGEucGF5bG9hZC5wYXlsb2FkLmxlbmd0aD4xMCYmKHQuZGF0YS5wYXlsb2FkLnBheWxvYWQ9dC5kYXRhLnBheWxvYWQucGF5bG9hZC5zbGljZSgwLDEwKSx0LmRhdGEucGF5bG9hZC5wYXlsb2FkLnB1c2goXCIuLi5bdHJ1bmNhdGVkXVwiKSk7Zm9yKHZhciBpPVtdLHI9MDtyPHQuZGF0YS5wYXlsb2FkLnBheWxvYWQubGVuZ3RoO3IrKyl0LmRhdGEucGF5bG9hZC5wYXlsb2FkW3JdJiZ0LmRhdGEucGF5bG9hZC5wYXlsb2FkW3JdLmxlbmd0aD4yZTM/aS5wdXNoKHQuZGF0YS5wYXlsb2FkLnBheWxvYWRbcl0uc2xpY2UoMCwyZTMpK1wiLi4uW3RydW5jYXRlZF1cIik6aS5wdXNoKHQuZGF0YS5wYXlsb2FkLnBheWxvYWRbcl0pO3JldHVybiB0LmRhdGEucGF5bG9hZC5wYXlsb2FkPWksZX1yZXR1cm4gZX0ocik7aWYodGhpcy5fdXBkYXRlV2luZG93QW5kU2Vzc2lvbklkcyhzKSwhdGhpcy5pc0lkbGV8fGFzKHMpKXtpZihhcyhzKSl7dmFyIG49cy5kYXRhLnBheWxvYWQ7aWYobil7dmFyIG89bi5sYXN0QWN0aXZpdHlUaW1lc3RhbXAsYT1uLnRocmVzaG9sZDtzLnRpbWVzdGFtcD1vK2F9fXZhciBsPW51bGw9PT0odD10aGlzLmluc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZy5jb21wcmVzc19ldmVudHMpfHx2b2lkIDA9PT10fHx0P2Z1bmN0aW9uKGUpe2lmKENpKGUpPDEwMjQpcmV0dXJuIGU7dHJ5e2lmKGUudHlwZT09PUZpLkZ1bGxTbmFwc2hvdClyZXR1cm4gbmUobmUoe30sZSkse30se2RhdGE6b3MoZS5kYXRhKSxjdjpcIjIwMjQtMTBcIn0pO2lmKGUudHlwZT09PUZpLkluY3JlbWVudGFsU25hcHNob3QmJmUuZGF0YS5zb3VyY2U9PT1UaS5NdXRhdGlvbilyZXR1cm4gbmUobmUoe30sZSkse30se2N2OlwiMjAyNC0xMFwiLGRhdGE6bmUobmUoe30sZS5kYXRhKSx7fSx7dGV4dHM6b3MoZS5kYXRhLnRleHRzKSxhdHRyaWJ1dGVzOm9zKGUuZGF0YS5hdHRyaWJ1dGVzKSxyZW1vdmVzOm9zKGUuZGF0YS5yZW1vdmVzKSxhZGRzOm9zKGUuZGF0YS5hZGRzKX0pfSk7aWYoZS50eXBlPT09RmkuSW5jcmVtZW50YWxTbmFwc2hvdCYmZS5kYXRhLnNvdXJjZT09PVRpLlN0eWxlU2hlZXRSdWxlKXJldHVybiBuZShuZSh7fSxlKSx7fSx7Y3Y6XCIyMDI0LTEwXCIsZGF0YTpuZShuZSh7fSxlLmRhdGEpLHt9LHthZGRzOm9zKGUuZGF0YS5hZGRzKSxyZW1vdmVzOm9zKGUuZGF0YS5yZW1vdmVzKX0pfSl9Y2F0Y2goZSl7aXMuZXJyb3IoXCJjb3VsZCBub3QgY29tcHJlc3MgZXZlbnQgLSB3aWxsIHVzZSB1bmNvbXByZXNzZWQgZXZlbnRcIixlKX1yZXR1cm4gZX0ocyk6cyx1PXskc25hcHNob3RfYnl0ZXM6Q2kobCksJHNuYXBzaG90X2RhdGE6bCwkc2Vzc2lvbl9pZDp0aGlzLnNlc3Npb25JZCwkd2luZG93X2lkOnRoaXMud2luZG93SWR9O1wiZGlzYWJsZWRcIiE9PXRoaXMuc3RhdHVzP3RoaXMuX2NhcHR1cmVTbmFwc2hvdEJ1ZmZlcmVkKHUpOnRoaXMuY2xlYXJCdWZmZXIoKX19fX19X3BhZ2VWaWV3RmFsbEJhY2soKXtpZighdGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wYWdldmlldyYmdCl7dmFyIGU9dGhpcy5fbWFza1VybCh0LmxvY2F0aW9uLmhyZWYpO3RoaXMuX2xhc3RIcmVmIT09ZSYmKHRoaXMuX3RyeUFkZEN1c3RvbUV2ZW50KFwiJHVybF9jaGFuZ2VkXCIse2hyZWY6ZX0pLHRoaXMuX2xhc3RIcmVmPWUpfX1fcHJvY2Vzc1F1ZXVlZEV2ZW50cygpe2lmKHRoaXMucXVldWVkUlJXZWJFdmVudHMubGVuZ3RoKXt2YXIgZT1bLi4udGhpcy5xdWV1ZWRSUldlYkV2ZW50c107dGhpcy5xdWV1ZWRSUldlYkV2ZW50cz1bXSxlLmZvckVhY2goKGU9PntEYXRlLm5vdygpLWUuZW5xdWV1ZWRBdDw9MmUzJiZ0aGlzLl90cnlSUldlYk1ldGhvZChlKX0pKX19X21hc2tVcmwoZSl7dmFyIHQ9dGhpcy5pbnN0YW5jZS5jb25maWcuc2Vzc2lvbl9yZWNvcmRpbmc7aWYodC5tYXNrTmV0d29ya1JlcXVlc3RGbil7dmFyIGkscj17dXJsOmV9O3JldHVybiBudWxsPT09KGk9cj10Lm1hc2tOZXR3b3JrUmVxdWVzdEZuKHIpKXx8dm9pZCAwPT09aT92b2lkIDA6aS51cmx9cmV0dXJuIGV9Y2xlYXJCdWZmZXIoKXtyZXR1cm4gdGhpcy5idWZmZXI9e3NpemU6MCxkYXRhOltdLHNlc3Npb25JZDp0aGlzLnNlc3Npb25JZCx3aW5kb3dJZDp0aGlzLndpbmRvd0lkfSx0aGlzLmJ1ZmZlcn1fZmx1c2hCdWZmZXIoKXt0aGlzLmZsdXNoQnVmZmVyVGltZXImJihjbGVhclRpbWVvdXQodGhpcy5mbHVzaEJ1ZmZlclRpbWVyKSx0aGlzLmZsdXNoQnVmZmVyVGltZXI9dm9pZCAwKTt2YXIgZT10aGlzLm1pbmltdW1EdXJhdGlvbix0PXRoaXMuc2Vzc2lvbkR1cmF0aW9uLGk9WSh0KSYmdD49MCxyPVkoZSkmJmkmJnQ8ZTtpZihcImJ1ZmZlcmluZ1wiPT09dGhpcy5zdGF0dXN8fFwicGF1c2VkXCI9PT10aGlzLnN0YXR1c3x8XCJkaXNhYmxlZFwiPT09dGhpcy5zdGF0dXN8fHIpcmV0dXJuIHRoaXMuZmx1c2hCdWZmZXJUaW1lcj1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuX2ZsdXNoQnVmZmVyKCl9KSwyZTMpLHRoaXMuYnVmZmVyO3RoaXMuYnVmZmVyLmRhdGEubGVuZ3RoPjAmJlBpKHRoaXMuYnVmZmVyKS5mb3JFYWNoKChlPT57dGhpcy5fY2FwdHVyZVNuYXBzaG90KHskc25hcHNob3RfYnl0ZXM6ZS5zaXplLCRzbmFwc2hvdF9kYXRhOmUuZGF0YSwkc2Vzc2lvbl9pZDplLnNlc3Npb25JZCwkd2luZG93X2lkOmUud2luZG93SWQsJGxpYjpcIndlYlwiLCRsaWJfdmVyc2lvbjpwLkxJQl9WRVJTSU9OfSl9KSk7cmV0dXJuIHRoaXMuY2xlYXJCdWZmZXIoKX1fY2FwdHVyZVNuYXBzaG90QnVmZmVyZWQoZSl7dmFyIHQsaT0yKygobnVsbD09PSh0PXRoaXMuYnVmZmVyKXx8dm9pZCAwPT09dD92b2lkIDA6dC5kYXRhLmxlbmd0aCl8fDApOyF0aGlzLmlzSWRsZSYmKHRoaXMuYnVmZmVyLnNpemUrZS4kc25hcHNob3RfYnl0ZXMraT45NDM3MTguNHx8dGhpcy5idWZmZXIuc2Vzc2lvbklkIT09dGhpcy5zZXNzaW9uSWQpJiYodGhpcy5idWZmZXI9dGhpcy5fZmx1c2hCdWZmZXIoKSksdGhpcy5idWZmZXIuc2l6ZSs9ZS4kc25hcHNob3RfYnl0ZXMsdGhpcy5idWZmZXIuZGF0YS5wdXNoKGUuJHNuYXBzaG90X2RhdGEpLHRoaXMuZmx1c2hCdWZmZXJUaW1lcnx8dGhpcy5pc0lkbGV8fCh0aGlzLmZsdXNoQnVmZmVyVGltZXI9c2V0VGltZW91dCgoKCk9Pnt0aGlzLl9mbHVzaEJ1ZmZlcigpfSksMmUzKSl9X2NhcHR1cmVTbmFwc2hvdChlKXt0aGlzLmluc3RhbmNlLmNhcHR1cmUoXCIkc25hcHNob3RcIixlLHtfdXJsOnRoaXMuaW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLHRoaXMuX2VuZHBvaW50KSxfbm9UcnVuY2F0ZTohMCxfYmF0Y2hLZXk6XCJyZWNvcmRpbmdzXCIsc2tpcF9jbGllbnRfcmF0ZV9saW1pdGluZzohMH0pfV9jaGVja1VybFRyaWdnZXJDb25kaXRpb25zKCl7aWYodm9pZCAwIT09dCYmdC5sb2NhdGlvbi5ocmVmKXt2YXIgZT10LmxvY2F0aW9uLmhyZWYsaT10aGlzLl91cmxCbG9ja2VkLHI9bHMoZSx0aGlzLl91cmxCbG9ja2xpc3QpO3ImJiFpP3RoaXMuX3BhdXNlUmVjb3JkaW5nKCk6IXImJmkmJnRoaXMuX3Jlc3VtZVJlY29yZGluZygpLGxzKGUsdGhpcy5fdXJsVHJpZ2dlcnMpJiZ0aGlzLl9hY3RpdmF0ZVRyaWdnZXIoXCJ1cmxcIil9fV9hY3RpdmF0ZVRyaWdnZXIoZSl7dmFyIHQsaTtcInRyaWdnZXJfcGVuZGluZ1wiPT09dGhpcy50cmlnZ2VyU3RhdHVzJiYobnVsbD09PSh0PXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT10fHxudWxsPT09KGk9dC5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWl8fGkucmVnaXN0ZXIoe1tcInVybFwiPT09ZT9JZTpDZV06dGhpcy5zZXNzaW9uSWR9KSx0aGlzLl9mbHVzaEJ1ZmZlcigpLHRoaXMuX3JlcG9ydFN0YXJ0ZWQoZStcIl90cmlnZ2VyX21hdGNoZWRcIikpfV9wYXVzZVJlY29yZGluZygpe3RoaXMuX3VybEJsb2NrZWR8fCh0aGlzLl91cmxCbG9ja2VkPSEwLGNsZWFySW50ZXJ2YWwodGhpcy5fZnVsbFNuYXBzaG90VGltZXIpLGlzLmluZm8oXCJyZWNvcmRpbmcgcGF1c2VkIGR1ZSB0byBVUkwgYmxvY2tlclwiKSx0aGlzLl90cnlBZGRDdXN0b21FdmVudChcInJlY29yZGluZyBwYXVzZWRcIix7cmVhc29uOlwidXJsIGJsb2NrZXJcIn0pKX1fcmVzdW1lUmVjb3JkaW5nKCl7dGhpcy5fdXJsQmxvY2tlZCYmKHRoaXMuX3VybEJsb2NrZWQ9ITEsdGhpcy5fdHJ5VGFrZUZ1bGxTbmFwc2hvdCgpLHRoaXMuX3NjaGVkdWxlRnVsbFNuYXBzaG90KCksdGhpcy5fdHJ5QWRkQ3VzdG9tRXZlbnQoXCJyZWNvcmRpbmcgcmVzdW1lZFwiLHtyZWFzb246XCJsZWZ0IGJsb2NrZWQgdXJsXCJ9KSxpcy5pbmZvKFwicmVjb3JkaW5nIHJlc3VtZWRcIikpfV9hZGRFdmVudFRyaWdnZXJMaXN0ZW5lcigpezAhPT10aGlzLl9ldmVudFRyaWdnZXJzLmxlbmd0aCYmSih0aGlzLl9yZW1vdmVFdmVudFRyaWdnZXJDYXB0dXJlSG9vaykmJih0aGlzLl9yZW1vdmVFdmVudFRyaWdnZXJDYXB0dXJlSG9vaz10aGlzLmluc3RhbmNlLm9uKFwiZXZlbnRDYXB0dXJlZFwiLChlPT57dHJ5e3RoaXMuX2V2ZW50VHJpZ2dlcnMuaW5jbHVkZXMoZS5ldmVudCkmJnRoaXMuX2FjdGl2YXRlVHJpZ2dlcihcImV2ZW50XCIpfWNhdGNoKGUpe2lzLmVycm9yKFwiQ291bGQgbm90IGFjdGl2YXRlIGV2ZW50IHRyaWdnZXJcIixlKX19KSkpfW92ZXJyaWRlTGlua2VkRmxhZygpe3RoaXMuX2xpbmtlZEZsYWdTZWVuPSEwLHRoaXMuX3RyeVRha2VGdWxsU25hcHNob3QoKSx0aGlzLl9yZXBvcnRTdGFydGVkKFwibGlua2VkX2ZsYWdfb3ZlcnJpZGRlblwiKX1vdmVycmlkZVNhbXBsaW5nKCl7dmFyIGU7bnVsbD09PShlPXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1lfHxlLnJlZ2lzdGVyKHtbeGVdOiEwfSksdGhpcy5fdHJ5VGFrZUZ1bGxTbmFwc2hvdCgpLHRoaXMuX3JlcG9ydFN0YXJ0ZWQoXCJzYW1wbGluZ19vdmVycmlkZGVuXCIpfW92ZXJyaWRlVHJpZ2dlcihlKXt0aGlzLl9hY3RpdmF0ZVRyaWdnZXIoZSl9X3JlcG9ydFN0YXJ0ZWQoZSx0KXt0aGlzLmluc3RhbmNlLnJlZ2lzdGVyX2Zvcl9zZXNzaW9uKHskc2Vzc2lvbl9yZWNvcmRpbmdfc3RhcnRfcmVhc29uOmV9KSxpcy5pbmZvKGUucmVwbGFjZShcIl9cIixcIiBcIiksdCksJChbXCJyZWNvcmRpbmdfaW5pdGlhbGl6ZWRcIixcInNlc3Npb25faWRfY2hhbmdlZFwiXSxlKXx8dGhpcy5fdHJ5QWRkQ3VzdG9tRXZlbnQoZSx0KX19dmFyIGNzPXRlKFwiW1JlbW90ZUNvbmZpZ11cIik7Y2xhc3MgZHN7Y29uc3RydWN0b3IoZSl7dGhpcy5pbnN0YW5jZT1lfWdldCByZW1vdGVDb25maWcoKXt2YXIgZSx0O3JldHVybiBudWxsPT09KGU9Xy5fUE9TVEhPR19SRU1PVEVfQ09ORklHKXx8dm9pZCAwPT09ZXx8bnVsbD09PSh0PWVbdGhpcy5pbnN0YW5jZS5jb25maWcudG9rZW5dKXx8dm9pZCAwPT09dD92b2lkIDA6dC5jb25maWd9X2xvYWRSZW1vdGVDb25maWdKcyhlKXt2YXIgdCxpLHI7bnVsbCE9PSh0PV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmdm9pZCAwIT09dCYmdC5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5P251bGw9PT0oaT1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fHZvaWQgMD09PWl8fG51bGw9PT0ocj1pLmxvYWRFeHRlcm5hbERlcGVuZGVuY3kpfHx2b2lkIDA9PT1yfHxyLmNhbGwoaSx0aGlzLmluc3RhbmNlLFwicmVtb3RlLWNvbmZpZ1wiLCgoKT0+ZSh0aGlzLnJlbW90ZUNvbmZpZykpKTooY3MuZXJyb3IoXCJQb3N0SG9nIEV4dGVuc2lvbnMgbm90IGZvdW5kLiBDYW5ub3QgbG9hZCByZW1vdGUgY29uZmlnLlwiKSxlKCkpfV9sb2FkUmVtb3RlQ29uZmlnSlNPTihlKXt0aGlzLmluc3RhbmNlLl9zZW5kX3JlcXVlc3Qoe21ldGhvZDpcIkdFVFwiLHVybDp0aGlzLmluc3RhbmNlLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJhc3NldHNcIixcIi9hcnJheS9cIi5jb25jYXQodGhpcy5pbnN0YW5jZS5jb25maWcudG9rZW4sXCIvY29uZmlnXCIpKSxjYWxsYmFjazp0PT57ZSh0Lmpzb24pfX0pfWxvYWQoKXt0cnl7aWYodGhpcy5yZW1vdGVDb25maWcpcmV0dXJuIGNzLmluZm8oXCJVc2luZyBwcmVsb2FkZWQgcmVtb3RlIGNvbmZpZ1wiLHRoaXMucmVtb3RlQ29uZmlnKSx2b2lkIHRoaXMub25SZW1vdGVDb25maWcodGhpcy5yZW1vdGVDb25maWcpO2lmKHRoaXMuaW5zdGFuY2UuY29uZmlnLmFkdmFuY2VkX2Rpc2FibGVfZGVjaWRlKXJldHVybiB2b2lkIGNzLndhcm4oXCJSZW1vdGUgY29uZmlnIGlzIGRpc2FibGVkLiBGYWxsaW5nIGJhY2sgdG8gbG9jYWwgY29uZmlnLlwiKTt0aGlzLl9sb2FkUmVtb3RlQ29uZmlnSnMoKGU9PntpZighZSlyZXR1cm4gY3MuaW5mbyhcIk5vIGNvbmZpZyBmb3VuZCBhZnRlciBsb2FkaW5nIHJlbW90ZSBKUyBjb25maWcuIEZhbGxpbmcgYmFjayB0byBKU09OLlwiKSx2b2lkIHRoaXMuX2xvYWRSZW1vdGVDb25maWdKU09OKChlPT57dGhpcy5vblJlbW90ZUNvbmZpZyhlKX0pKTt0aGlzLm9uUmVtb3RlQ29uZmlnKGUpfSkpfWNhdGNoKGUpe2NzLmVycm9yKFwiRXJyb3IgbG9hZGluZyByZW1vdGUgY29uZmlnXCIsZSl9fW9uUmVtb3RlQ29uZmlnKGUpe2U/dGhpcy5pbnN0YW5jZS5jb25maWcuX19wcmV2aWV3X3JlbW90ZV9jb25maWc/KHRoaXMuaW5zdGFuY2UuX29uUmVtb3RlQ29uZmlnKGUpLCExIT09ZS5oYXNGZWF0dXJlRmxhZ3MmJnRoaXMuaW5zdGFuY2UuZmVhdHVyZUZsYWdzLmVuc3VyZUZsYWdzTG9hZGVkKCkpOmNzLmluZm8oXCJfX3ByZXZpZXdfcmVtb3RlX2NvbmZpZyBpcyBkaXNhYmxlZC4gTG9nZ2luZyBjb25maWcgaW5zdGVhZFwiLGUpOmNzLmVycm9yKFwiRmFpbGVkIHRvIGZldGNoIHJlbW90ZSBjb25maWcgZnJvbSBQb3N0SG9nLlwiKX19dmFyIGhzLF9zPW51bGwhPXQmJnQubG9jYXRpb24/RXQodC5sb2NhdGlvbi5oYXNoLFwiX19wb3N0aG9nXCIpfHxFdChsb2NhdGlvbi5oYXNoLFwic3RhdGVcIik6bnVsbCxwcz1cIl9wb3N0SG9nVG9vbGJhclBhcmFtc1wiLHZzPXRlKFwiW1Rvb2xiYXJdXCIpOyFmdW5jdGlvbihlKXtlW2UuVU5JTklUSUFMSVpFRD0wXT1cIlVOSU5JVElBTElaRURcIixlW2UuTE9BRElORz0xXT1cIkxPQURJTkdcIixlW2UuTE9BREVEPTJdPVwiTE9BREVEXCJ9KGhzfHwoaHM9e30pKTtjbGFzcyBnc3tjb25zdHJ1Y3RvcihlKXt0aGlzLmluc3RhbmNlPWV9c2V0VG9vbGJhclN0YXRlKGUpe18ucGhfdG9vbGJhcl9zdGF0ZT1lfWdldFRvb2xiYXJTdGF0ZSgpe3ZhciBlO3JldHVybiBudWxsIT09KGU9Xy5waF90b29sYmFyX3N0YXRlKSYmdm9pZCAwIT09ZT9lOmhzLlVOSU5JVElBTElaRUR9bWF5YmVMb2FkVG9vbGJhcigpe3ZhciBlLGkscj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dm9pZCAwLHM9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnZvaWQgMCxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp2b2lkIDA7aWYoIXR8fCFhKXJldHVybiExO3I9bnVsbCE9PShlPXIpJiZ2b2lkIDAhPT1lP2U6dC5sb2NhdGlvbixuPW51bGwhPT0oaT1uKSYmdm9pZCAwIT09aT9pOnQuaGlzdG9yeTt0cnl7aWYoIXMpe3RyeXt0LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidGVzdFwiLFwidGVzdFwiKSx0LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwidGVzdFwiKX1jYXRjaChlKXtyZXR1cm4hMX1zPW51bGw9PXQ/dm9pZCAwOnQubG9jYWxTdG9yYWdlfXZhciBvLGw9X3N8fEV0KHIuaGFzaCxcIl9fcG9zdGhvZ1wiKXx8RXQoci5oYXNoLFwic3RhdGVcIiksdT1sP0UoKCgpPT5KU09OLnBhcnNlKGF0b2IoZGVjb2RlVVJJQ29tcG9uZW50KGwpKSkpKXx8RSgoKCk9PkpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KGwpKSkpOm51bGw7cmV0dXJuIHUmJlwicGhfYXV0aG9yaXplXCI9PT11LmFjdGlvbj8oKG89dSkuc291cmNlPVwidXJsXCIsbyYmT2JqZWN0LmtleXMobykubGVuZ3RoPjAmJih1LmRlc2lyZWRIYXNoP3IuaGFzaD11LmRlc2lyZWRIYXNoOm4/bi5yZXBsYWNlU3RhdGUobi5zdGF0ZSxcIlwiLHIucGF0aG5hbWUrci5zZWFyY2gpOnIuaGFzaD1cIlwiKSk6KChvPUpTT04ucGFyc2Uocy5nZXRJdGVtKHBzKXx8XCJ7fVwiKSkuc291cmNlPVwibG9jYWxzdG9yYWdlXCIsZGVsZXRlIG8udXNlckludGVudCksISghby50b2tlbnx8dGhpcy5pbnN0YW5jZS5jb25maWcudG9rZW4hPT1vLnRva2VuKSYmKHRoaXMubG9hZFRvb2xiYXIobyksITApfWNhdGNoKGUpe3JldHVybiExfX1fY2FsbExvYWRUb29sYmFyKGUpe3ZhciB0PV8ucGhfbG9hZF90b29sYmFyfHxfLnBoX2xvYWRfZWRpdG9yOyFKKHQpJiZIKHQpP3QoZSx0aGlzLmluc3RhbmNlKTp2cy53YXJuKFwiTm8gdG9vbGJhciBsb2FkIGZ1bmN0aW9uIGZvdW5kXCIpfWxvYWRUb29sYmFyKGUpe3ZhciBpPSEobnVsbD09YXx8IWEuZ2V0RWxlbWVudEJ5SWQoVWUpKTtpZighdHx8aSlyZXR1cm4hMTt2YXIgcj1cImN1c3RvbVwiPT09dGhpcy5pbnN0YW5jZS5yZXF1ZXN0Um91dGVyLnJlZ2lvbiYmdGhpcy5pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV90b29sYmFyX21ldHJpY3Mscz1uZShuZSh7dG9rZW46dGhpcy5pbnN0YW5jZS5jb25maWcudG9rZW59LGUpLHt9LHthcGlVUkw6dGhpcy5pbnN0YW5jZS5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwidWlcIil9LHI/e2luc3RydW1lbnQ6ITF9Ont9KTtpZih0LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHBzLEpTT04uc3RyaW5naWZ5KG5lKG5lKHt9LHMpLHt9LHtzb3VyY2U6dm9pZCAwfSkpKSx0aGlzLmdldFRvb2xiYXJTdGF0ZSgpPT09aHMuTE9BREVEKXRoaXMuX2NhbGxMb2FkVG9vbGJhcihzKTtlbHNlIGlmKHRoaXMuZ2V0VG9vbGJhclN0YXRlKCk9PT1ocy5VTklOSVRJQUxJWkVEKXt2YXIgbixvO3RoaXMuc2V0VG9vbGJhclN0YXRlKGhzLkxPQURJTkcpLG51bGw9PT0obj1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fHZvaWQgMD09PW58fG51bGw9PT0obz1uLmxvYWRFeHRlcm5hbERlcGVuZGVuY3kpfHx2b2lkIDA9PT1vfHxvLmNhbGwobix0aGlzLmluc3RhbmNlLFwidG9vbGJhclwiLChlPT57aWYoZSlyZXR1cm4gdnMuZXJyb3IoXCJbVG9vbGJhcl0gRmFpbGVkIHRvIGxvYWRcIixlKSx2b2lkIHRoaXMuc2V0VG9vbGJhclN0YXRlKGhzLlVOSU5JVElBTElaRUQpO3RoaXMuc2V0VG9vbGJhclN0YXRlKGhzLkxPQURFRCksdGhpcy5fY2FsbExvYWRUb29sYmFyKHMpfSkpLFIodCxcInR1cmJvbGlua3M6bG9hZFwiLCgoKT0+e3RoaXMuc2V0VG9vbGJhclN0YXRlKGhzLlVOSU5JVElBTElaRUQpLHRoaXMubG9hZFRvb2xiYXIocyl9KSl9cmV0dXJuITB9X2xvYWRFZGl0b3IoZSl7cmV0dXJuIHRoaXMubG9hZFRvb2xiYXIoZSl9bWF5YmVMb2FkRWRpdG9yKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnZvaWQgMCx0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp2b2lkIDAsaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06dm9pZCAwO3JldHVybiB0aGlzLm1heWJlTG9hZFRvb2xiYXIoZSx0LGkpfX12YXIgZnM9M2UzO2NsYXNzIG1ze2NvbnN0cnVjdG9yKGUsdCl7b2UodGhpcyxcImlzUGF1c2VkXCIsITApLG9lKHRoaXMsXCJxdWV1ZVwiLFtdKSx0aGlzLmZsdXNoVGltZW91dE1zPXByKChudWxsPT10P3ZvaWQgMDp0LmZsdXNoX2ludGVydmFsX21zKXx8ZnMsMjUwLDVlMyxcImZsdXNoIGludGVydmFsXCIsZnMpLHRoaXMuc2VuZFJlcXVlc3Q9ZX1lbnF1ZXVlKGUpe3RoaXMucXVldWUucHVzaChlKSx0aGlzLmZsdXNoVGltZW91dHx8dGhpcy5zZXRGbHVzaFRpbWVvdXQoKX11bmxvYWQoKXt0aGlzLmNsZWFyRmx1c2hUaW1lb3V0KCk7dmFyIGU9dGhpcy5xdWV1ZS5sZW5ndGg+MD90aGlzLmZvcm1hdFF1ZXVlKCk6e30sdD1PYmplY3QudmFsdWVzKGUpLGk9Wy4uLnQuZmlsdGVyKChlPT4wPT09ZS51cmwuaW5kZXhPZihcIi9lXCIpKSksLi4udC5maWx0ZXIoKGU9PjAhPT1lLnVybC5pbmRleE9mKFwiL2VcIikpKV07aS5tYXAoKGU9Pnt0aGlzLnNlbmRSZXF1ZXN0KG5lKG5lKHt9LGUpLHt9LHt0cmFuc3BvcnQ6XCJzZW5kQmVhY29uXCJ9KSl9KSl9ZW5hYmxlKCl7dGhpcy5pc1BhdXNlZD0hMSx0aGlzLnNldEZsdXNoVGltZW91dCgpfXNldEZsdXNoVGltZW91dCgpe3ZhciBlPXRoaXM7dGhpcy5pc1BhdXNlZHx8KHRoaXMuZmx1c2hUaW1lb3V0PXNldFRpbWVvdXQoKCgpPT57aWYodGhpcy5jbGVhckZsdXNoVGltZW91dCgpLHRoaXMucXVldWUubGVuZ3RoPjApe3ZhciB0PXRoaXMuZm9ybWF0UXVldWUoKSxpPWZ1bmN0aW9uKGkpe3ZhciByPXRbaV0scz0obmV3IERhdGUpLmdldFRpbWUoKTtyLmRhdGEmJkIoci5kYXRhKSYmeShyLmRhdGEsKGU9PntlLm9mZnNldD1NYXRoLmFicyhlLnRpbWVzdGFtcC1zKSxkZWxldGUgZS50aW1lc3RhbXB9KSksZS5zZW5kUmVxdWVzdChyKX07Zm9yKHZhciByIGluIHQpaShyKX19KSx0aGlzLmZsdXNoVGltZW91dE1zKSl9Y2xlYXJGbHVzaFRpbWVvdXQoKXtjbGVhclRpbWVvdXQodGhpcy5mbHVzaFRpbWVvdXQpLHRoaXMuZmx1c2hUaW1lb3V0PXZvaWQgMH1mb3JtYXRRdWV1ZSgpe3ZhciBlPXt9O3JldHVybiB5KHRoaXMucXVldWUsKHQ9Pnt2YXIgaSxyPXQscz0ocj9yLmJhdGNoS2V5Om51bGwpfHxyLnVybDt6KGVbc10pJiYoZVtzXT1uZShuZSh7fSxyKSx7fSx7ZGF0YTpbXX0pKSxudWxsPT09KGk9ZVtzXS5kYXRhKXx8dm9pZCAwPT09aXx8aS5wdXNoKHIuZGF0YSl9KSksdGhpcy5xdWV1ZT1bXSxlfX12YXIgYnM9ZnVuY3Rpb24oZSl7dmFyIHQsaSxyLHMsbj1cIlwiO2Zvcih0PWk9MCxyPShlPShlK1wiXCIpLnJlcGxhY2UoL1xcclxcbi9nLFwiXFxuXCIpLnJlcGxhY2UoL1xcci9nLFwiXFxuXCIpKS5sZW5ndGgscz0wO3M8cjtzKyspe3ZhciBvPWUuY2hhckNvZGVBdChzKSxhPW51bGw7bzwxMjg/aSsrOmE9bz4xMjcmJm88MjA0OD9TdHJpbmcuZnJvbUNoYXJDb2RlKG8+PjZ8MTkyLDYzJm98MTI4KTpTdHJpbmcuZnJvbUNoYXJDb2RlKG8+PjEyfDIyNCxvPj42JjYzfDEyOCw2MyZvfDEyOCksRyhhKXx8KGk+dCYmKG4rPWUuc3Vic3RyaW5nKHQsaSkpLG4rPWEsdD1pPXMrMSl9cmV0dXJuIGk+dCYmKG4rPWUuc3Vic3RyaW5nKHQsZS5sZW5ndGgpKSxufSx5cz0hIWN8fCEhdSx3cz1cInRleHQvcGxhaW5cIixTcz0oZSx0KT0+e3ZhcltpLHJdPWUuc3BsaXQoXCI/XCIpLHM9bmUoe30sdCk7bnVsbD09cnx8ci5zcGxpdChcIiZcIikuZm9yRWFjaCgoZT0+e3Zhclt0XT1lLnNwbGl0KFwiPVwiKTtkZWxldGUgc1t0XX0pKTt2YXIgbj13dChzKTtyZXR1cm4gbj1uPyhyP3IrXCImXCI6XCJcIikrbjpyLFwiXCIuY29uY2F0KGksXCI/XCIpLmNvbmNhdChuKX0sa3M9KGUsdCk9PkpTT04uc3RyaW5naWZ5KGUsKChlLHQpPT5cImJpZ2ludFwiPT10eXBlb2YgdD90LnRvU3RyaW5nKCk6dCksdCksRXM9dD0+e3ZhcntkYXRhOmksY29tcHJlc3Npb246cn09dDtpZihpKXtpZihyPT09ZS5HWmlwSlMpe3ZhciBzPVFyKFpyKGtzKGkpKSx7bXRpbWU6MH0pLG49bmV3IEJsb2IoW3NdLHt0eXBlOndzfSk7cmV0dXJue2NvbnRlbnRUeXBlOndzLGJvZHk6bixlc3RpbWF0ZWRTaXplOm4uc2l6ZX19aWYocj09PWUuQmFzZTY0KXt2YXIgbz1mdW5jdGlvbihlKXt2YXIgdCxpLHIscyxuLG89XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPVwiLGE9MCxsPTAsdT1cIlwiLGM9W107aWYoIWUpcmV0dXJuIGU7ZT1icyhlKTtkb3t0PShuPWUuY2hhckNvZGVBdChhKyspPDwxNnxlLmNoYXJDb2RlQXQoYSsrKTw8OHxlLmNoYXJDb2RlQXQoYSsrKSk+PjE4JjYzLGk9bj4+MTImNjMscj1uPj42JjYzLHM9NjMmbixjW2wrK109by5jaGFyQXQodCkrby5jaGFyQXQoaSkrby5jaGFyQXQocikrby5jaGFyQXQocyl9d2hpbGUoYTxlLmxlbmd0aCk7c3dpdGNoKHU9Yy5qb2luKFwiXCIpLGUubGVuZ3RoJTMpe2Nhc2UgMTp1PXUuc2xpY2UoMCwtMikrXCI9PVwiO2JyZWFrO2Nhc2UgMjp1PXUuc2xpY2UoMCwtMSkrXCI9XCJ9cmV0dXJuIHV9KGtzKGkpKSxhPShlPT5cImRhdGE9XCIrZW5jb2RlVVJJQ29tcG9uZW50KFwic3RyaW5nXCI9PXR5cGVvZiBlP2U6a3MoZSkpKShvKTtyZXR1cm57Y29udGVudFR5cGU6XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIixib2R5OmEsZXN0aW1hdGVkU2l6ZTpuZXcgQmxvYihbYV0pLnNpemV9fXZhciBsPWtzKGkpO3JldHVybntjb250ZW50VHlwZTpcImFwcGxpY2F0aW9uL2pzb25cIixib2R5OmwsZXN0aW1hdGVkU2l6ZTpuZXcgQmxvYihbbF0pLnNpemV9fX0seHM9W107dSYmeHMucHVzaCh7dHJhbnNwb3J0OlwiZmV0Y2hcIixtZXRob2Q6ZT0+e3ZhciB0LGkse2NvbnRlbnRUeXBlOnIsYm9keTpzLGVzdGltYXRlZFNpemU6bn09bnVsbCE9PSh0PUVzKGUpKSYmdm9pZCAwIT09dD90Ont9LG89bmV3IEhlYWRlcnM7eShlLmhlYWRlcnMsKGZ1bmN0aW9uKGUsdCl7by5hcHBlbmQodCxlKX0pKSxyJiZvLmFwcGVuZChcIkNvbnRlbnQtVHlwZVwiLHIpO3ZhciBhPWUudXJsLGw9bnVsbDtpZihkKXt2YXIgYz1uZXcgZDtsPXtzaWduYWw6Yy5zaWduYWwsdGltZW91dDpzZXRUaW1lb3V0KCgoKT0+Yy5hYm9ydCgpKSxlLnRpbWVvdXQpfX11KGEsbmUoe21ldGhvZDoobnVsbD09ZT92b2lkIDA6ZS5tZXRob2QpfHxcIkdFVFwiLGhlYWRlcnM6byxrZWVwYWxpdmU6XCJQT1NUXCI9PT1lLm1ldGhvZCYmKG58fDApPDUyNDI4LjgsYm9keTpzLHNpZ25hbDpudWxsPT09KGk9bCl8fHZvaWQgMD09PWk/dm9pZCAwOmkuc2lnbmFsfSxlLmZldGNoT3B0aW9ucykpLnRoZW4oKHQ9PnQudGV4dCgpLnRoZW4oKGk9Pnt2YXIgcixzPXtzdGF0dXNDb2RlOnQuc3RhdHVzLHRleHQ6aX07aWYoMjAwPT09dC5zdGF0dXMpdHJ5e3MuanNvbj1KU09OLnBhcnNlKGkpfWNhdGNoKGUpe2VlLmVycm9yKGUpfW51bGw9PT0ocj1lLmNhbGxiYWNrKXx8dm9pZCAwPT09cnx8ci5jYWxsKGUscyl9KSkpKS5jYXRjaCgodD0+e3ZhciBpO2VlLmVycm9yKHQpLG51bGw9PT0oaT1lLmNhbGxiYWNrKXx8dm9pZCAwPT09aXx8aS5jYWxsKGUse3N0YXR1c0NvZGU6MCx0ZXh0OnR9KX0pKS5maW5hbGx5KCgoKT0+bD9jbGVhclRpbWVvdXQobC50aW1lb3V0KTpudWxsKSl9fSksYyYmeHMucHVzaCh7dHJhbnNwb3J0OlwiWEhSXCIsbWV0aG9kOmU9Pnt2YXIgdCxpPW5ldyBjO2kub3BlbihlLm1ldGhvZHx8XCJHRVRcIixlLnVybCwhMCk7dmFye2NvbnRlbnRUeXBlOnIsYm9keTpzfT1udWxsIT09KHQ9RXMoZSkpJiZ2b2lkIDAhPT10P3Q6e307eShlLmhlYWRlcnMsKGZ1bmN0aW9uKGUsdCl7aS5zZXRSZXF1ZXN0SGVhZGVyKHQsZSl9KSksciYmaS5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsciksZS50aW1lb3V0JiYoaS50aW1lb3V0PWUudGltZW91dCksaS53aXRoQ3JlZGVudGlhbHM9ITAsaS5vbnJlYWR5c3RhdGVjaGFuZ2U9KCk9PntpZig0PT09aS5yZWFkeVN0YXRlKXt2YXIgdCxyPXtzdGF0dXNDb2RlOmkuc3RhdHVzLHRleHQ6aS5yZXNwb25zZVRleHR9O2lmKDIwMD09PWkuc3RhdHVzKXRyeXtyLmpzb249SlNPTi5wYXJzZShpLnJlc3BvbnNlVGV4dCl9Y2F0Y2goZSl7fW51bGw9PT0odD1lLmNhbGxiYWNrKXx8dm9pZCAwPT09dHx8dC5jYWxsKGUscil9fSxpLnNlbmQocyl9fSksbnVsbCE9byYmby5zZW5kQmVhY29uJiZ4cy5wdXNoKHt0cmFuc3BvcnQ6XCJzZW5kQmVhY29uXCIsbWV0aG9kOmU9Pnt2YXIgdD1TcyhlLnVybCx7YmVhY29uOlwiMVwifSk7dHJ5e3ZhciBpLHtjb250ZW50VHlwZTpyLGJvZHk6c309bnVsbCE9PShpPUVzKGUpKSYmdm9pZCAwIT09aT9pOnt9LG49XCJzdHJpbmdcIj09dHlwZW9mIHM/bmV3IEJsb2IoW3NdLHt0eXBlOnJ9KTpzO28uc2VuZEJlYWNvbih0LG4pfWNhdGNoKGUpe319fSk7dmFyIElzPVtcInJldHJpZXNQZXJmb3JtZWRTb0ZhclwiXTtjbGFzcyBDc3tjb25zdHJ1Y3RvcihlKXtvZSh0aGlzLFwiaXNQb2xsaW5nXCIsITEpLG9lKHRoaXMsXCJwb2xsSW50ZXJ2YWxNc1wiLDNlMyksb2UodGhpcyxcInF1ZXVlXCIsW10pLHRoaXMuaW5zdGFuY2U9ZSx0aGlzLnF1ZXVlPVtdLHRoaXMuYXJlV2VPbmxpbmU9ITAsIXoodCkmJlwib25MaW5lXCJpbiB0Lm5hdmlnYXRvciYmKHRoaXMuYXJlV2VPbmxpbmU9dC5uYXZpZ2F0b3Iub25MaW5lLFIodCxcIm9ubGluZVwiLCgoKT0+e3RoaXMuYXJlV2VPbmxpbmU9ITAsdGhpcy5mbHVzaCgpfSkpLFIodCxcIm9mZmxpbmVcIiwoKCk9Pnt0aGlzLmFyZVdlT25saW5lPSExfSkpKX1yZXRyaWFibGVSZXF1ZXN0KGUpe3ZhcntyZXRyaWVzUGVyZm9ybWVkU29GYXI6dH09ZSxpPWFlKGUsSXMpO1kodCkmJnQ+MCYmKGkudXJsPVNzKGkudXJsLHtyZXRyeV9jb3VudDp0fSkpLHRoaXMuaW5zdGFuY2UuX3NlbmRfcmVxdWVzdChuZShuZSh7fSxpKSx7fSx7Y2FsbGJhY2s6ZT0+e3ZhciByOzIwMCE9PWUuc3RhdHVzQ29kZSYmKGUuc3RhdHVzQ29kZTw0MDB8fGUuc3RhdHVzQ29kZT49NTAwKSYmKG51bGwhPXQ/dDowKTwxMD90aGlzLmVucXVldWUobmUoe3JldHJpZXNQZXJmb3JtZWRTb0Zhcjp0fSxpKSk6bnVsbD09PShyPWkuY2FsbGJhY2spfHx2b2lkIDA9PT1yfHxyLmNhbGwoaSxlKX19KSl9ZW5xdWV1ZShlKXt2YXIgdD1lLnJldHJpZXNQZXJmb3JtZWRTb0Zhcnx8MDtlLnJldHJpZXNQZXJmb3JtZWRTb0Zhcj10KzE7dmFyIGk9ZnVuY3Rpb24oZSl7dmFyIHQ9M2UzKk1hdGgucG93KDIsZSksaT10LzIscj1NYXRoLm1pbigxOGU1LHQpLHM9KE1hdGgucmFuZG9tKCktLjUpKihyLWkpO3JldHVybiBNYXRoLmNlaWwocitzKX0odCkscj1EYXRlLm5vdygpK2k7dGhpcy5xdWV1ZS5wdXNoKHtyZXRyeUF0OnIscmVxdWVzdE9wdGlvbnM6ZX0pO3ZhciBzPVwiRW5xdWV1ZWQgZmFpbGVkIHJlcXVlc3QgZm9yIHJldHJ5IGluIFwiLmNvbmNhdChpKTtuYXZpZ2F0b3Iub25MaW5lfHwocys9XCIgKEJyb3dzZXIgaXMgb2ZmbGluZSlcIiksZWUud2FybihzKSx0aGlzLmlzUG9sbGluZ3x8KHRoaXMuaXNQb2xsaW5nPSEwLHRoaXMucG9sbCgpKX1wb2xsKCl7dGhpcy5wb2xsZXImJmNsZWFyVGltZW91dCh0aGlzLnBvbGxlciksdGhpcy5wb2xsZXI9c2V0VGltZW91dCgoKCk9Pnt0aGlzLmFyZVdlT25saW5lJiZ0aGlzLnF1ZXVlLmxlbmd0aD4wJiZ0aGlzLmZsdXNoKCksdGhpcy5wb2xsKCl9KSx0aGlzLnBvbGxJbnRlcnZhbE1zKX1mbHVzaCgpe3ZhciBlPURhdGUubm93KCksdD1bXSxpPXRoaXMucXVldWUuZmlsdGVyKChpPT5pLnJldHJ5QXQ8ZXx8KHQucHVzaChpKSwhMSkpKTtpZih0aGlzLnF1ZXVlPXQsaS5sZW5ndGg+MClmb3IodmFye3JlcXVlc3RPcHRpb25zOnJ9b2YgaSl0aGlzLnJldHJpYWJsZVJlcXVlc3Qocil9dW5sb2FkKCl7Zm9yKHZhcntyZXF1ZXN0T3B0aW9uczplfW9mKHRoaXMucG9sbGVyJiYoY2xlYXJUaW1lb3V0KHRoaXMucG9sbGVyKSx0aGlzLnBvbGxlcj12b2lkIDApLHRoaXMucXVldWUpKXRyeXt0aGlzLmluc3RhbmNlLl9zZW5kX3JlcXVlc3QobmUobmUoe30sZSkse30se3RyYW5zcG9ydDpcInNlbmRCZWFjb25cIn0pKX1jYXRjaChlKXtlZS5lcnJvcihlKX10aGlzLnF1ZXVlPVtdfX12YXIgUHMsRnM9dGUoXCJbU2Vzc2lvbklkXVwiKTtjbGFzcyBUc3tjb25zdHJ1Y3RvcihlLHQsaSl7dmFyIHI7aWYob2UodGhpcyxcIl9zZXNzaW9uSWRDaGFuZ2VkSGFuZGxlcnNcIixbXSksIWUucGVyc2lzdGVuY2UpdGhyb3cgbmV3IEVycm9yKFwiU2Vzc2lvbklkTWFuYWdlciByZXF1aXJlcyBhIFBvc3RIb2dQZXJzaXN0ZW5jZSBpbnN0YW5jZVwiKTtpZihlLmNvbmZpZy5fX3ByZXZpZXdfZXhwZXJpbWVudGFsX2Nvb2tpZWxlc3NfbW9kZSl0aHJvdyBuZXcgRXJyb3IoXCJTZXNzaW9uSWRNYW5hZ2VyIGNhbm5vdCBiZSB1c2VkIHdpdGggX19wcmV2aWV3X2V4cGVyaW1lbnRhbF9jb29raWVsZXNzX21vZGVcIik7dGhpcy5jb25maWc9ZS5jb25maWcsdGhpcy5wZXJzaXN0ZW5jZT1lLnBlcnNpc3RlbmNlLHRoaXMuX3dpbmRvd0lkPXZvaWQgMCx0aGlzLl9zZXNzaW9uSWQ9dm9pZCAwLHRoaXMuX3Nlc3Npb25TdGFydFRpbWVzdGFtcD1udWxsLHRoaXMuX3Nlc3Npb25BY3Rpdml0eVRpbWVzdGFtcD1udWxsLHRoaXMuX3Nlc3Npb25JZEdlbmVyYXRvcj10fHxzdCx0aGlzLl93aW5kb3dJZEdlbmVyYXRvcj1pfHxzdDt2YXIgcz10aGlzLmNvbmZpZy5wZXJzaXN0ZW5jZV9uYW1lfHx0aGlzLmNvbmZpZy50b2tlbixuPXRoaXMuY29uZmlnLnNlc3Npb25faWRsZV90aW1lb3V0X3NlY29uZHN8fDE4MDA7aWYodGhpcy5fc2Vzc2lvblRpbWVvdXRNcz0xZTMqcHIobiw2MCwzNmUzLFwic2Vzc2lvbl9pZGxlX3RpbWVvdXRfc2Vjb25kc1wiLDE4MDApLGUucmVnaXN0ZXIoeyRjb25maWd1cmVkX3Nlc3Npb25fdGltZW91dF9tczp0aGlzLl9zZXNzaW9uVGltZW91dE1zfSksdGhpcy5yZXNldElkbGVUaW1lcigpLHRoaXMuX3dpbmRvd19pZF9zdG9yYWdlX2tleT1cInBoX1wiK3MrXCJfd2luZG93X2lkXCIsdGhpcy5fcHJpbWFyeV93aW5kb3dfZXhpc3RzX3N0b3JhZ2Vfa2V5PVwicGhfXCIrcytcIl9wcmltYXJ5X3dpbmRvd19leGlzdHNcIix0aGlzLl9jYW5Vc2VTZXNzaW9uU3RvcmFnZSgpKXt2YXIgbz1tdC5wYXJzZSh0aGlzLl93aW5kb3dfaWRfc3RvcmFnZV9rZXkpLGE9bXQucGFyc2UodGhpcy5fcHJpbWFyeV93aW5kb3dfZXhpc3RzX3N0b3JhZ2Vfa2V5KTtvJiYhYT90aGlzLl93aW5kb3dJZD1vOm10LnJlbW92ZSh0aGlzLl93aW5kb3dfaWRfc3RvcmFnZV9rZXkpLG10LnNldCh0aGlzLl9wcmltYXJ5X3dpbmRvd19leGlzdHNfc3RvcmFnZV9rZXksITApfWlmKG51bGwhPT0ocj10aGlzLmNvbmZpZy5ib290c3RyYXApJiZ2b2lkIDAhPT1yJiZyLnNlc3Npb25JRCl0cnl7dmFyIGw9KGU9Pnt2YXIgdD1lLnJlcGxhY2UoLy0vZyxcIlwiKTtpZigzMiE9PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIk5vdCBhIHZhbGlkIFVVSURcIik7aWYoXCI3XCIhPT10WzEyXSl0aHJvdyBuZXcgRXJyb3IoXCJOb3QgYSBVVUlEdjdcIik7cmV0dXJuIHBhcnNlSW50KHQuc3Vic3RyaW5nKDAsMTIpLDE2KX0pKHRoaXMuY29uZmlnLmJvb3RzdHJhcC5zZXNzaW9uSUQpO3RoaXMuX3NldFNlc3Npb25JZCh0aGlzLmNvbmZpZy5ib290c3RyYXAuc2Vzc2lvbklELChuZXcgRGF0ZSkuZ2V0VGltZSgpLGwpfWNhdGNoKGUpe0ZzLmVycm9yKFwiSW52YWxpZCBzZXNzaW9uSUQgaW4gYm9vdHN0cmFwXCIsZSl9dGhpcy5fbGlzdGVuVG9SZWxvYWRXaW5kb3coKX1nZXQgc2Vzc2lvblRpbWVvdXRNcygpe3JldHVybiB0aGlzLl9zZXNzaW9uVGltZW91dE1zfW9uU2Vzc2lvbklkKGUpe3JldHVybiB6KHRoaXMuX3Nlc3Npb25JZENoYW5nZWRIYW5kbGVycykmJih0aGlzLl9zZXNzaW9uSWRDaGFuZ2VkSGFuZGxlcnM9W10pLHRoaXMuX3Nlc3Npb25JZENoYW5nZWRIYW5kbGVycy5wdXNoKGUpLHRoaXMuX3Nlc3Npb25JZCYmZSh0aGlzLl9zZXNzaW9uSWQsdGhpcy5fd2luZG93SWQpLCgpPT57dGhpcy5fc2Vzc2lvbklkQ2hhbmdlZEhhbmRsZXJzPXRoaXMuX3Nlc3Npb25JZENoYW5nZWRIYW5kbGVycy5maWx0ZXIoKHQ9PnQhPT1lKSl9fV9jYW5Vc2VTZXNzaW9uU3RvcmFnZSgpe3JldHVyblwibWVtb3J5XCIhPT10aGlzLmNvbmZpZy5wZXJzaXN0ZW5jZSYmIXRoaXMucGVyc2lzdGVuY2UuZGlzYWJsZWQmJm10LmlzX3N1cHBvcnRlZCgpfV9zZXRXaW5kb3dJZChlKXtlIT09dGhpcy5fd2luZG93SWQmJih0aGlzLl93aW5kb3dJZD1lLHRoaXMuX2NhblVzZVNlc3Npb25TdG9yYWdlKCkmJm10LnNldCh0aGlzLl93aW5kb3dfaWRfc3RvcmFnZV9rZXksZSkpfV9nZXRXaW5kb3dJZCgpe3JldHVybiB0aGlzLl93aW5kb3dJZD90aGlzLl93aW5kb3dJZDp0aGlzLl9jYW5Vc2VTZXNzaW9uU3RvcmFnZSgpP210LnBhcnNlKHRoaXMuX3dpbmRvd19pZF9zdG9yYWdlX2tleSk6bnVsbH1fc2V0U2Vzc2lvbklkKGUsdCxpKXtlPT09dGhpcy5fc2Vzc2lvbklkJiZ0PT09dGhpcy5fc2Vzc2lvbkFjdGl2aXR5VGltZXN0YW1wJiZpPT09dGhpcy5fc2Vzc2lvblN0YXJ0VGltZXN0YW1wfHwodGhpcy5fc2Vzc2lvblN0YXJ0VGltZXN0YW1wPWksdGhpcy5fc2Vzc2lvbkFjdGl2aXR5VGltZXN0YW1wPXQsdGhpcy5fc2Vzc2lvbklkPWUsdGhpcy5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W0VlXTpbdCxlLGldfSkpfV9nZXRTZXNzaW9uSWQoKXtpZih0aGlzLl9zZXNzaW9uSWQmJnRoaXMuX3Nlc3Npb25BY3Rpdml0eVRpbWVzdGFtcCYmdGhpcy5fc2Vzc2lvblN0YXJ0VGltZXN0YW1wKXJldHVyblt0aGlzLl9zZXNzaW9uQWN0aXZpdHlUaW1lc3RhbXAsdGhpcy5fc2Vzc2lvbklkLHRoaXMuX3Nlc3Npb25TdGFydFRpbWVzdGFtcF07dmFyIGU9dGhpcy5wZXJzaXN0ZW5jZS5wcm9wc1tFZV07cmV0dXJuIEIoZSkmJjI9PT1lLmxlbmd0aCYmZS5wdXNoKGVbMF0pLGV8fFswLG51bGwsMF19cmVzZXRTZXNzaW9uSWQoKXt0aGlzLl9zZXRTZXNzaW9uSWQobnVsbCxudWxsLG51bGwpfV9saXN0ZW5Ub1JlbG9hZFdpbmRvdygpe1IodCxcImJlZm9yZXVubG9hZFwiLCgoKT0+e3RoaXMuX2NhblVzZVNlc3Npb25TdG9yYWdlKCkmJm10LnJlbW92ZSh0aGlzLl9wcmltYXJ5X3dpbmRvd19leGlzdHNfc3RvcmFnZV9rZXkpfSkse2NhcHR1cmU6ITF9KX1jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF0sdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bnVsbDtpZih0aGlzLmNvbmZpZy5fX3ByZXZpZXdfZXhwZXJpbWVudGFsX2Nvb2tpZWxlc3NfbW9kZSl0aHJvdyBuZXcgRXJyb3IoXCJjaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCBzaG91bGQgbm90IGJlIGNhbGxlZCBpbiBfX3ByZXZpZXdfZXhwZXJpbWVudGFsX2Nvb2tpZWxlc3NfbW9kZVwiKTt2YXIgaT10fHwobmV3IERhdGUpLmdldFRpbWUoKSxbcixzLG5dPXRoaXMuX2dldFNlc3Npb25JZCgpLG89dGhpcy5fZ2V0V2luZG93SWQoKSxhPVkobikmJm4+MCYmTWF0aC5hYnMoaS1uKT44NjRlNSxsPSExLHU9IXMsYz0hZSYmTWF0aC5hYnMoaS1yKT50aGlzLnNlc3Npb25UaW1lb3V0TXM7dXx8Y3x8YT8ocz10aGlzLl9zZXNzaW9uSWRHZW5lcmF0b3IoKSxvPXRoaXMuX3dpbmRvd0lkR2VuZXJhdG9yKCksRnMuaW5mbyhcIm5ldyBzZXNzaW9uIElEIGdlbmVyYXRlZFwiLHtzZXNzaW9uSWQ6cyx3aW5kb3dJZDpvLGNoYW5nZVJlYXNvbjp7bm9TZXNzaW9uSWQ6dSxhY3Rpdml0eVRpbWVvdXQ6YyxzZXNzaW9uUGFzdE1heGltdW1MZW5ndGg6YX19KSxuPWksbD0hMCk6b3x8KG89dGhpcy5fd2luZG93SWRHZW5lcmF0b3IoKSxsPSEwKTt2YXIgZD0wPT09cnx8IWV8fGE/aTpyLGg9MD09PW4/KG5ldyBEYXRlKS5nZXRUaW1lKCk6bjtyZXR1cm4gdGhpcy5fc2V0V2luZG93SWQobyksdGhpcy5fc2V0U2Vzc2lvbklkKHMsZCxoKSxlfHx0aGlzLnJlc2V0SWRsZVRpbWVyKCksbCYmdGhpcy5fc2Vzc2lvbklkQ2hhbmdlZEhhbmRsZXJzLmZvckVhY2goKGU9PmUocyxvLGw/e25vU2Vzc2lvbklkOnUsYWN0aXZpdHlUaW1lb3V0OmMsc2Vzc2lvblBhc3RNYXhpbXVtTGVuZ3RoOmF9OnZvaWQgMCkpKSx7c2Vzc2lvbklkOnMsd2luZG93SWQ6byxzZXNzaW9uU3RhcnRUaW1lc3RhbXA6aCxjaGFuZ2VSZWFzb246bD97bm9TZXNzaW9uSWQ6dSxhY3Rpdml0eVRpbWVvdXQ6YyxzZXNzaW9uUGFzdE1heGltdW1MZW5ndGg6YX06dm9pZCAwLGxhc3RBY3Rpdml0eVRpbWVzdGFtcDpyfX1yZXNldElkbGVUaW1lcigpe2NsZWFyVGltZW91dCh0aGlzLl9lbmZvcmNlSWRsZVRpbWVvdXQpLHRoaXMuX2VuZm9yY2VJZGxlVGltZW91dD1zZXRUaW1lb3V0KCgoKT0+e3RoaXMucmVzZXRTZXNzaW9uSWQoKX0pLDEuMSp0aGlzLnNlc3Npb25UaW1lb3V0TXMpfX0hZnVuY3Rpb24oZSl7ZS5VUz1cInVzXCIsZS5FVT1cImV1XCIsZS5DVVNUT009XCJjdXN0b21cIn0oUHN8fChQcz17fSkpO3ZhciBScz1cImkucG9zdGhvZy5jb21cIjtjbGFzcyAkc3tjb25zdHJ1Y3RvcihlKXtvZSh0aGlzLFwiX3JlZ2lvbkNhY2hlXCIse30pLHRoaXMuaW5zdGFuY2U9ZX1nZXQgYXBpSG9zdCgpe3ZhciBlPXRoaXMuaW5zdGFuY2UuY29uZmlnLmFwaV9ob3N0LnRyaW0oKS5yZXBsYWNlKC9cXC8kLyxcIlwiKTtyZXR1cm5cImh0dHBzOi8vYXBwLnBvc3Rob2cuY29tXCI9PT1lP1wiaHR0cHM6Ly91cy5pLnBvc3Rob2cuY29tXCI6ZX1nZXQgdWlIb3N0KCl7dmFyIGUsdD1udWxsPT09KGU9dGhpcy5pbnN0YW5jZS5jb25maWcudWlfaG9zdCl8fHZvaWQgMD09PWU/dm9pZCAwOmUucmVwbGFjZSgvXFwvJC8sXCJcIik7cmV0dXJuIHR8fCh0PXRoaXMuYXBpSG9zdC5yZXBsYWNlKFwiLlwiLmNvbmNhdChScyksXCIucG9zdGhvZy5jb21cIikpLFwiaHR0cHM6Ly9hcHAucG9zdGhvZy5jb21cIj09PXQ/XCJodHRwczovL3VzLnBvc3Rob2cuY29tXCI6dH1nZXQgcmVnaW9uKCl7cmV0dXJuIHRoaXMuX3JlZ2lvbkNhY2hlW3RoaXMuYXBpSG9zdF18fCgvaHR0cHM6XFwvXFwvKGFwcHx1c3x1cy1hc3NldHMpKFxcLmkpP1xcLnBvc3Rob2dcXC5jb20vaS50ZXN0KHRoaXMuYXBpSG9zdCk/dGhpcy5fcmVnaW9uQ2FjaGVbdGhpcy5hcGlIb3N0XT1Qcy5VUzovaHR0cHM6XFwvXFwvKGV1fGV1LWFzc2V0cykoXFwuaSk/XFwucG9zdGhvZ1xcLmNvbS9pLnRlc3QodGhpcy5hcGlIb3N0KT90aGlzLl9yZWdpb25DYWNoZVt0aGlzLmFwaUhvc3RdPVBzLkVVOnRoaXMuX3JlZ2lvbkNhY2hlW3RoaXMuYXBpSG9zdF09UHMuQ1VTVE9NKSx0aGlzLl9yZWdpb25DYWNoZVt0aGlzLmFwaUhvc3RdfWVuZHBvaW50Rm9yKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcIlwiO2lmKHQmJih0PVwiL1wiPT09dFswXT90OlwiL1wiLmNvbmNhdCh0KSksXCJ1aVwiPT09ZSlyZXR1cm4gdGhpcy51aUhvc3QrdDtpZih0aGlzLnJlZ2lvbj09PVBzLkNVU1RPTSlyZXR1cm4gdGhpcy5hcGlIb3N0K3Q7dmFyIGk9UnMrdDtzd2l0Y2goZSl7Y2FzZVwiYXNzZXRzXCI6cmV0dXJuXCJodHRwczovL1wiLmNvbmNhdCh0aGlzLnJlZ2lvbixcIi1hc3NldHMuXCIpLmNvbmNhdChpKTtjYXNlXCJhcGlcIjpyZXR1cm5cImh0dHBzOi8vXCIuY29uY2F0KHRoaXMucmVnaW9uLFwiLlwiKS5jb25jYXQoaSl9fX12YXIgT3M9XCJwb3N0aG9nLWpzXCI7ZnVuY3Rpb24gTXMoZSl7dmFye29yZ2FuaXphdGlvbjp0LHByb2plY3RJZDppLHByZWZpeDpyLHNldmVyaXR5QWxsb3dMaXN0OnM9W1wiZXJyb3JcIl19PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gbj0+e3ZhciBvLGEsbCx1LGM7aWYoIShcIipcIj09PXN8fHMuaW5jbHVkZXMobi5sZXZlbCkpfHwhZS5fX2xvYWRlZClyZXR1cm4gbjtuLnRhZ3N8fChuLnRhZ3M9e30pO3ZhciBkPWUucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcInVpXCIsXCIvcHJvamVjdC9cIi5jb25jYXQoZS5jb25maWcudG9rZW4sXCIvcGVyc29uL1wiKS5jb25jYXQoZS5nZXRfZGlzdGluY3RfaWQoKSkpO24udGFnc1tcIlBvc3RIb2cgUGVyc29uIFVSTFwiXT1kLGUuc2Vzc2lvblJlY29yZGluZ1N0YXJ0ZWQoKSYmKG4udGFnc1tcIlBvc3RIb2cgUmVjb3JkaW5nIFVSTFwiXT1lLmdldF9zZXNzaW9uX3JlcGxheV91cmwoe3dpdGhUaW1lc3RhbXA6ITB9KSk7dmFyIGg9KG51bGw9PT0obz1uLmV4Y2VwdGlvbil8fHZvaWQgMD09PW8/dm9pZCAwOm8udmFsdWVzKXx8W107aC5mb3JFYWNoKChlPT57ZS5zdGFja3RyYWNlJiYoZS5zdGFja3RyYWNlLnR5cGU9XCJyYXdcIixlLnN0YWNrdHJhY2UuZnJhbWVzLmZvckVhY2goKGU9PntlLnBsYXRmb3JtPVwid2ViOmphdmFzY3JpcHRcIn0pKSl9KSk7dmFyIF89eyRleGNlcHRpb25fbWVzc2FnZToobnVsbD09PShhPWhbMF0pfHx2b2lkIDA9PT1hP3ZvaWQgMDphLnZhbHVlKXx8bi5tZXNzYWdlLCRleGNlcHRpb25fdHlwZTpudWxsPT09KGw9aFswXSl8fHZvaWQgMD09PWw/dm9pZCAwOmwudHlwZSwkZXhjZXB0aW9uX3BlcnNvblVSTDpkLCRleGNlcHRpb25fbGV2ZWw6bi5sZXZlbCwkZXhjZXB0aW9uX2xpc3Q6aCwkc2VudHJ5X2V2ZW50X2lkOm4uZXZlbnRfaWQsJHNlbnRyeV9leGNlcHRpb246bi5leGNlcHRpb24sJHNlbnRyeV9leGNlcHRpb25fbWVzc2FnZToobnVsbD09PSh1PWhbMF0pfHx2b2lkIDA9PT11P3ZvaWQgMDp1LnZhbHVlKXx8bi5tZXNzYWdlLCRzZW50cnlfZXhjZXB0aW9uX3R5cGU6bnVsbD09PShjPWhbMF0pfHx2b2lkIDA9PT1jP3ZvaWQgMDpjLnR5cGUsJHNlbnRyeV90YWdzOm4udGFnc307cmV0dXJuIHQmJmkmJihfLiRzZW50cnlfdXJsPShyfHxcImh0dHBzOi8vc2VudHJ5LmlvL29yZ2FuaXphdGlvbnMvXCIpK3QrXCIvaXNzdWVzLz9wcm9qZWN0PVwiK2krXCImcXVlcnk9XCIrbi5ldmVudF9pZCksZS5leGNlcHRpb25zLnNlbmRFeGNlcHRpb25FdmVudChfKSxufX1jbGFzcyBBc3tjb25zdHJ1Y3RvcihlLHQsaSxyLHMpe3RoaXMubmFtZT1Pcyx0aGlzLnNldHVwT25jZT1mdW5jdGlvbihuKXtuKE1zKGUse29yZ2FuaXphdGlvbjp0LHByb2plY3RJZDppLHByZWZpeDpyLHNldmVyaXR5QWxsb3dMaXN0OnN9KSl9fX12YXIgTHM9dGUoXCJbU2VnbWVudEludGVncmF0aW9uXVwiKTtmdW5jdGlvbiBEcyhlLHQpe3ZhciBpPWUuY29uZmlnLnNlZ21lbnQ7aWYoIWkpcmV0dXJuIHQoKTshZnVuY3Rpb24oZSx0KXt2YXIgaT1lLmNvbmZpZy5zZWdtZW50O2lmKCFpKXJldHVybiB0KCk7dmFyIHI9aT0+e3ZhciByPSgpPT5pLmFub255bW91c0lkKCl8fHN0KCk7ZS5jb25maWcuZ2V0X2RldmljZV9pZD1yLGkuaWQoKSYmKGUucmVnaXN0ZXIoe2Rpc3RpbmN0X2lkOmkuaWQoKSwkZGV2aWNlX2lkOnIoKX0pLGUucGVyc2lzdGVuY2Uuc2V0X3Byb3BlcnR5KEFlLFwiaWRlbnRpZmllZFwiKSksdCgpfSxzPWkudXNlcigpO1widGhlblwiaW4gcyYmSChzLnRoZW4pP3MudGhlbigoZT0+cihlKSkpOnIocyl9KGUsKCgpPT57aS5yZWdpc3RlcigoZT0+e1Byb21pc2UmJlByb21pc2UucmVzb2x2ZXx8THMud2FybihcIlRoaXMgYnJvd3NlciBkb2VzIG5vdCBoYXZlIFByb21pc2Ugc3VwcG9ydCwgYW5kIGNhbiBub3QgdXNlIHRoZSBzZWdtZW50IGludGVncmF0aW9uXCIpO3ZhciB0PSh0LGkpPT57dmFyIHI7aWYoIWkpcmV0dXJuIHQ7dC5ldmVudC51c2VySWR8fHQuZXZlbnQuYW5vbnltb3VzSWQ9PT1lLmdldF9kaXN0aW5jdF9pZCgpfHwoTHMuaW5mbyhcIk5vIHVzZXJJZCBzZXQsIHJlc2V0dGluZyBQb3N0SG9nXCIpLGUucmVzZXQoKSksdC5ldmVudC51c2VySWQmJnQuZXZlbnQudXNlcklkIT09ZS5nZXRfZGlzdGluY3RfaWQoKSYmKExzLmluZm8oXCJVc2VySWQgc2V0LCBpZGVudGlmeWluZyB3aXRoIFBvc3RIb2dcIiksZS5pZGVudGlmeSh0LmV2ZW50LnVzZXJJZCkpO3ZhciBzPWUuX2NhbGN1bGF0ZV9ldmVudF9wcm9wZXJ0aWVzKGksbnVsbCE9PShyPXQuZXZlbnQucHJvcGVydGllcykmJnZvaWQgMCE9PXI/cjp7fSxuZXcgRGF0ZSk7cmV0dXJuIHQuZXZlbnQucHJvcGVydGllcz1PYmplY3QuYXNzaWduKHt9LHMsdC5ldmVudC5wcm9wZXJ0aWVzKSx0fTtyZXR1cm57bmFtZTpcIlBvc3RIb2cgSlNcIix0eXBlOlwiZW5yaWNobWVudFwiLHZlcnNpb246XCIxLjAuMFwiLGlzTG9hZGVkOigpPT4hMCxsb2FkOigpPT5Qcm9taXNlLnJlc29sdmUoKSx0cmFjazplPT50KGUsZS5ldmVudC5ldmVudCkscGFnZTplPT50KGUsXCIkcGFnZXZpZXdcIiksaWRlbnRpZnk6ZT0+dChlLFwiJGlkZW50aWZ5XCIpLHNjcmVlbjplPT50KGUsXCIkc2NyZWVuXCIpfX0pKGUpKS50aGVuKCgoKT0+e3QoKX0pKX0pKX1jbGFzcyBOc3tjb25zdHJ1Y3RvcihlKXt0aGlzLl9pbnN0YW5jZT1lfWRvUGFnZVZpZXcoZSxpKXt2YXIgcixzPXRoaXMuX3ByZXZpb3VzUGFnZVZpZXdQcm9wZXJ0aWVzKGUsaSk7cmV0dXJuIHRoaXMuX2N1cnJlbnRQYWdldmlldz17cGF0aG5hbWU6bnVsbCE9PShyPW51bGw9PXQ/dm9pZCAwOnQubG9jYXRpb24ucGF0aG5hbWUpJiZ2b2lkIDAhPT1yP3I6XCJcIixwYWdlVmlld0lkOmksdGltZXN0YW1wOmV9LHRoaXMuX2luc3RhbmNlLnNjcm9sbE1hbmFnZXIucmVzZXRDb250ZXh0KCksc31kb1BhZ2VMZWF2ZShlKXt2YXIgdDtyZXR1cm4gdGhpcy5fcHJldmlvdXNQYWdlVmlld1Byb3BlcnRpZXMoZSxudWxsPT09KHQ9dGhpcy5fY3VycmVudFBhZ2V2aWV3KXx8dm9pZCAwPT09dD92b2lkIDA6dC5wYWdlVmlld0lkKX1kb0V2ZW50KCl7dmFyIGU7cmV0dXJueyRwYWdldmlld19pZDpudWxsPT09KGU9dGhpcy5fY3VycmVudFBhZ2V2aWV3KXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5wYWdlVmlld0lkfX1fcHJldmlvdXNQYWdlVmlld1Byb3BlcnRpZXMoZSx0KXt2YXIgaT10aGlzLl9jdXJyZW50UGFnZXZpZXc7aWYoIWkpcmV0dXJueyRwYWdldmlld19pZDp0fTt2YXIgcj17JHBhZ2V2aWV3X2lkOnQsJHByZXZfcGFnZXZpZXdfaWQ6aS5wYWdlVmlld0lkfSxzPXRoaXMuX2luc3RhbmNlLnNjcm9sbE1hbmFnZXIuZ2V0Q29udGV4dCgpO2lmKHMmJiF0aGlzLl9pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9zY3JvbGxfcHJvcGVydGllcyl7dmFye21heFNjcm9sbEhlaWdodDpuLGxhc3RTY3JvbGxZOm8sbWF4U2Nyb2xsWTphLG1heENvbnRlbnRIZWlnaHQ6bCxsYXN0Q29udGVudFk6dSxtYXhDb250ZW50WTpjfT1zO2lmKCEoeihuKXx8eihvKXx8eihhKXx8eihsKXx8eih1KXx8eihjKSkpe249TWF0aC5jZWlsKG4pLG89TWF0aC5jZWlsKG8pLGE9TWF0aC5jZWlsKGEpLGw9TWF0aC5jZWlsKGwpLHU9TWF0aC5jZWlsKHUpLGM9TWF0aC5jZWlsKGMpO3ZhciBkPW48PTE/MTpwcihvL24sMCwxKSxoPW48PTE/MTpwcihhL24sMCwxKSxfPWw8PTE/MTpwcih1L2wsMCwxKSxwPWw8PTE/MTpwcihjL2wsMCwxKTtyPXcocix7JHByZXZfcGFnZXZpZXdfbGFzdF9zY3JvbGw6bywkcHJldl9wYWdldmlld19sYXN0X3Njcm9sbF9wZXJjZW50YWdlOmQsJHByZXZfcGFnZXZpZXdfbWF4X3Njcm9sbDphLCRwcmV2X3BhZ2V2aWV3X21heF9zY3JvbGxfcGVyY2VudGFnZTpoLCRwcmV2X3BhZ2V2aWV3X2xhc3RfY29udGVudDp1LCRwcmV2X3BhZ2V2aWV3X2xhc3RfY29udGVudF9wZXJjZW50YWdlOl8sJHByZXZfcGFnZXZpZXdfbWF4X2NvbnRlbnQ6YywkcHJldl9wYWdldmlld19tYXhfY29udGVudF9wZXJjZW50YWdlOnB9KX19cmV0dXJuIGkucGF0aG5hbWUmJihyLiRwcmV2X3BhZ2V2aWV3X3BhdGhuYW1lPWkucGF0aG5hbWUpLGkudGltZXN0YW1wJiYoci4kcHJldl9wYWdldmlld19kdXJhdGlvbj0oZS5nZXRUaW1lKCktaS50aW1lc3RhbXAuZ2V0VGltZSgpKS8xZTMpLHJ9fXZhciBxcyxCcyxIcyxVcyxqcyx6cyxXcyxWcyxHcz17fSxKcz1bXSxZcz0vYWNpdHxleCg/OnN8Z3xufHB8JCl8cnBofGdyaWR8b3dzfG1uY3xudHd8aW5lW2NoXXx6b298Xm9yZHxpdGVyYS9pLEtzPUFycmF5LmlzQXJyYXk7ZnVuY3Rpb24gWHMoZSx0KXtmb3IodmFyIGkgaW4gdCllW2ldPXRbaV07cmV0dXJuIGV9ZnVuY3Rpb24gUXMoZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3QmJnQucmVtb3ZlQ2hpbGQoZSl9ZnVuY3Rpb24gWnMoZSx0LGkscixzKXt2YXIgbj17dHlwZTplLHByb3BzOnQsa2V5OmkscmVmOnIsX19rOm51bGwsX186bnVsbCxfX2I6MCxfX2U6bnVsbCxfX2Q6dm9pZCAwLF9fYzpudWxsLGNvbnN0cnVjdG9yOnZvaWQgMCxfX3Y6bnVsbD09cz8rK0hzOnMsX19pOi0xLF9fdTowfTtyZXR1cm4gbnVsbD09cyYmbnVsbCE9QnMudm5vZGUmJkJzLnZub2RlKG4pLG59ZnVuY3Rpb24gZW4oZSl7cmV0dXJuIGUuY2hpbGRyZW59ZnVuY3Rpb24gdG4oZSx0KXt0aGlzLnByb3BzPWUsdGhpcy5jb250ZXh0PXR9ZnVuY3Rpb24gcm4oZSx0KXtpZihudWxsPT10KXJldHVybiBlLl9fP3JuKGUuX18sZS5fX2krMSk6bnVsbDtmb3IodmFyIGk7dDxlLl9fay5sZW5ndGg7dCsrKWlmKG51bGwhPShpPWUuX19rW3RdKSYmbnVsbCE9aS5fX2UpcmV0dXJuIGkuX19lO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGUudHlwZT9ybihlKTpudWxsfWZ1bmN0aW9uIHNuKGUpe3ZhciB0LGk7aWYobnVsbCE9KGU9ZS5fXykmJm51bGwhPWUuX19jKXtmb3IoZS5fX2U9ZS5fX2MuYmFzZT1udWxsLHQ9MDt0PGUuX19rLmxlbmd0aDt0KyspaWYobnVsbCE9KGk9ZS5fX2tbdF0pJiZudWxsIT1pLl9fZSl7ZS5fX2U9ZS5fX2MuYmFzZT1pLl9fZTticmVha31yZXR1cm4gc24oZSl9fWZ1bmN0aW9uIG5uKGUpeyghZS5fX2QmJihlLl9fZD0hMCkmJlVzLnB1c2goZSkmJiFvbi5fX3IrK3x8anMhPT1Ccy5kZWJvdW5jZVJlbmRlcmluZykmJigoanM9QnMuZGVib3VuY2VSZW5kZXJpbmcpfHx6cykob24pfWZ1bmN0aW9uIG9uKCl7dmFyIGUsdCxpLHIscyxuLG8sYSxsO2ZvcihVcy5zb3J0KFdzKTtlPVVzLnNoaWZ0KCk7KWUuX19kJiYodD1Vcy5sZW5ndGgscj12b2lkIDAsbj0ocz0oaT1lKS5fX3YpLl9fZSxhPVtdLGw9W10sKG89aS5fX1ApJiYoKHI9WHMoe30scykpLl9fdj1zLl9fdisxLEJzLnZub2RlJiZCcy52bm9kZShyKSx2bihvLHIscyxpLl9fbix2b2lkIDAhPT1vLm93bmVyU1ZHRWxlbWVudCwzMiZzLl9fdT9bbl06bnVsbCxhLG51bGw9PW4/cm4ocyk6biwhISgzMiZzLl9fdSksbCksci5fXy5fX2tbci5fX2ldPXIsZ24oYSxyLGwpLHIuX19lIT1uJiZzbihyKSksVXMubGVuZ3RoPnQmJlVzLnNvcnQoV3MpKTtvbi5fX3I9MH1mdW5jdGlvbiBhbihlLHQsaSxyLHMsbixvLGEsbCx1LGMpe3ZhciBkLGgsXyxwLHYsZz1yJiZyLl9fa3x8SnMsZj10Lmxlbmd0aDtmb3IoaS5fX2Q9bCxsbihpLHQsZyksbD1pLl9fZCxkPTA7ZDxmO2QrKyludWxsIT0oXz1pLl9fa1tkXSkmJlwiYm9vbGVhblwiIT10eXBlb2YgXyYmXCJmdW5jdGlvblwiIT10eXBlb2YgXyYmKGg9LTE9PT1fLl9faT9HczpnW18uX19pXXx8R3MsXy5fX2k9ZCx2bihlLF8saCxzLG4sbyxhLGwsdSxjKSxwPV8uX19lLF8ucmVmJiZoLnJlZiE9Xy5yZWYmJihoLnJlZiYmbW4oaC5yZWYsbnVsbCxfKSxjLnB1c2goXy5yZWYsXy5fX2N8fHAsXykpLG51bGw9PXYmJm51bGwhPXAmJih2PXApLDY1NTM2Jl8uX191fHxoLl9faz09PV8uX19rP2w9dW4oXyxsLGUpOlwiZnVuY3Rpb25cIj09dHlwZW9mIF8udHlwZSYmdm9pZCAwIT09Xy5fX2Q/bD1fLl9fZDpwJiYobD1wLm5leHRTaWJsaW5nKSxfLl9fZD12b2lkIDAsXy5fX3UmPS0xOTY2MDkpO2kuX19kPWwsaS5fX2U9dn1mdW5jdGlvbiBsbihlLHQsaSl7dmFyIHIscyxuLG8sYSxsPXQubGVuZ3RoLHU9aS5sZW5ndGgsYz11LGQ9MDtmb3IoZS5fX2s9W10scj0wO3I8bDtyKyspbnVsbCE9KHM9ZS5fX2tbcl09bnVsbD09KHM9dFtyXSl8fFwiYm9vbGVhblwiPT10eXBlb2Ygc3x8XCJmdW5jdGlvblwiPT10eXBlb2Ygcz9udWxsOlwic3RyaW5nXCI9PXR5cGVvZiBzfHxcIm51bWJlclwiPT10eXBlb2Ygc3x8XCJiaWdpbnRcIj09dHlwZW9mIHN8fHMuY29uc3RydWN0b3I9PVN0cmluZz9acyhudWxsLHMsbnVsbCxudWxsLHMpOktzKHMpP1pzKGVuLHtjaGlsZHJlbjpzfSxudWxsLG51bGwsbnVsbCk6dm9pZCAwPT09cy5jb25zdHJ1Y3RvciYmcy5fX2I+MD9acyhzLnR5cGUscy5wcm9wcyxzLmtleSxzLnJlZj9zLnJlZjpudWxsLHMuX192KTpzKT8ocy5fXz1lLHMuX19iPWUuX19iKzEsYT1jbihzLGksbz1yK2QsYykscy5fX2k9YSxuPW51bGwsLTEhPT1hJiYoYy0tLChuPWlbYV0pJiYobi5fX3V8PTEzMTA3MikpLG51bGw9PW58fG51bGw9PT1uLl9fdj8oLTE9PWEmJmQtLSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBzLnR5cGUmJihzLl9fdXw9NjU1MzYpKTphIT09byYmKGE9PT1vKzE/ZCsrOmE+bz9jPmwtbz9kKz1hLW86ZC0tOmQ9YTxvJiZhPT1vLTE/YS1vOjAsYSE9PXIrZCYmKHMuX191fD02NTUzNikpKToobj1pW3JdKSYmbnVsbD09bi5rZXkmJm4uX19lJiYobi5fX2U9PWUuX19kJiYoZS5fX2Q9cm4obikpLGJuKG4sbiwhMSksaVtyXT1udWxsLGMtLSk7aWYoYylmb3Iocj0wO3I8dTtyKyspbnVsbCE9KG49aVtyXSkmJjA9PSgxMzEwNzImbi5fX3UpJiYobi5fX2U9PWUuX19kJiYoZS5fX2Q9cm4obikpLGJuKG4sbikpfWZ1bmN0aW9uIHVuKGUsdCxpKXt2YXIgcixzO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUudHlwZSl7Zm9yKHI9ZS5fX2sscz0wO3ImJnM8ci5sZW5ndGg7cysrKXJbc10mJihyW3NdLl9fPWUsdD11bihyW3NdLHQsaSkpO3JldHVybiB0fXJldHVybiBlLl9fZSE9dCYmKGkuaW5zZXJ0QmVmb3JlKGUuX19lLHR8fG51bGwpLHQ9ZS5fX2UpLHQmJnQubmV4dFNpYmxpbmd9ZnVuY3Rpb24gY24oZSx0LGkscil7dmFyIHM9ZS5rZXksbj1lLnR5cGUsbz1pLTEsYT1pKzEsbD10W2ldO2lmKG51bGw9PT1sfHxsJiZzPT1sLmtleSYmbj09PWwudHlwZSlyZXR1cm4gaTtpZihyPihudWxsIT1sJiYwPT0oMTMxMDcyJmwuX191KT8xOjApKWZvcig7bz49MHx8YTx0Lmxlbmd0aDspe2lmKG8+PTApe2lmKChsPXRbb10pJiYwPT0oMTMxMDcyJmwuX191KSYmcz09bC5rZXkmJm49PT1sLnR5cGUpcmV0dXJuIG87by0tfWlmKGE8dC5sZW5ndGgpe2lmKChsPXRbYV0pJiYwPT0oMTMxMDcyJmwuX191KSYmcz09bC5rZXkmJm49PT1sLnR5cGUpcmV0dXJuIGE7YSsrfX1yZXR1cm4tMX1mdW5jdGlvbiBkbihlLHQsaSl7XCItXCI9PT10WzBdP2Uuc2V0UHJvcGVydHkodCxudWxsPT1pP1wiXCI6aSk6ZVt0XT1udWxsPT1pP1wiXCI6XCJudW1iZXJcIiE9dHlwZW9mIGl8fFlzLnRlc3QodCk/aTppK1wicHhcIn1mdW5jdGlvbiBobihlLHQsaSxyLHMpe3ZhciBuO2U6aWYoXCJzdHlsZVwiPT09dClpZihcInN0cmluZ1wiPT10eXBlb2YgaSllLnN0eWxlLmNzc1RleHQ9aTtlbHNle2lmKFwic3RyaW5nXCI9PXR5cGVvZiByJiYoZS5zdHlsZS5jc3NUZXh0PXI9XCJcIikscilmb3IodCBpbiByKWkmJnQgaW4gaXx8ZG4oZS5zdHlsZSx0LFwiXCIpO2lmKGkpZm9yKHQgaW4gaSlyJiZpW3RdPT09clt0XXx8ZG4oZS5zdHlsZSx0LGlbdF0pfWVsc2UgaWYoXCJvXCI9PT10WzBdJiZcIm5cIj09PXRbMV0pbj10IT09KHQ9dC5yZXBsYWNlKC8oUG9pbnRlckNhcHR1cmUpJHxDYXB0dXJlJC8sXCIkMVwiKSksdD10LnRvTG93ZXJDYXNlKClpbiBlP3QudG9Mb3dlckNhc2UoKS5zbGljZSgyKTp0LnNsaWNlKDIpLGUubHx8KGUubD17fSksZS5sW3Qrbl09aSxpP3I/aS51PXIudTooaS51PURhdGUubm93KCksZS5hZGRFdmVudExpc3RlbmVyKHQsbj9wbjpfbixuKSk6ZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbj9wbjpfbixuKTtlbHNle2lmKHMpdD10LnJlcGxhY2UoL3hsaW5rKEh8OmgpLyxcImhcIikucmVwbGFjZSgvc05hbWUkLyxcInNcIik7ZWxzZSBpZihcIndpZHRoXCIhPT10JiZcImhlaWdodFwiIT09dCYmXCJocmVmXCIhPT10JiZcImxpc3RcIiE9PXQmJlwiZm9ybVwiIT09dCYmXCJ0YWJJbmRleFwiIT09dCYmXCJkb3dubG9hZFwiIT09dCYmXCJyb3dTcGFuXCIhPT10JiZcImNvbFNwYW5cIiE9PXQmJlwicm9sZVwiIT09dCYmdCBpbiBlKXRyeXtlW3RdPW51bGw9PWk/XCJcIjppO2JyZWFrIGV9Y2F0Y2goZSl7fVwiZnVuY3Rpb25cIj09dHlwZW9mIGl8fChudWxsPT1pfHwhMT09PWkmJlwiLVwiIT09dFs0XT9lLnJlbW92ZUF0dHJpYnV0ZSh0KTplLnNldEF0dHJpYnV0ZSh0LGkpKX19ZnVuY3Rpb24gX24oZSl7dmFyIHQ9dGhpcy5sW2UudHlwZSshMV07aWYoZS50KXtpZihlLnQ8PXQudSlyZXR1cm59ZWxzZSBlLnQ9RGF0ZS5ub3coKTtyZXR1cm4gdChCcy5ldmVudD9Ccy5ldmVudChlKTplKX1mdW5jdGlvbiBwbihlKXtyZXR1cm4gdGhpcy5sW2UudHlwZSshMF0oQnMuZXZlbnQ/QnMuZXZlbnQoZSk6ZSl9ZnVuY3Rpb24gdm4oZSx0LGkscixzLG4sbyxhLGwsdSl7dmFyIGMsZCxoLF8scCx2LGcsZixtLGIseSx3LFMsayxFLHg9dC50eXBlO2lmKHZvaWQgMCE9PXQuY29uc3RydWN0b3IpcmV0dXJuIG51bGw7MTI4JmkuX191JiYobD0hISgzMiZpLl9fdSksbj1bYT10Ll9fZT1pLl9fZV0pLChjPUJzLl9fYikmJmModCk7ZTppZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB4KXRyeXtpZihmPXQucHJvcHMsbT0oYz14LmNvbnRleHRUeXBlKSYmcltjLl9fY10sYj1jP20/bS5wcm9wcy52YWx1ZTpjLl9fOnIsaS5fX2M/Zz0oZD10Ll9fYz1pLl9fYykuX189ZC5fX0U6KFwicHJvdG90eXBlXCJpbiB4JiZ4LnByb3RvdHlwZS5yZW5kZXI/dC5fX2M9ZD1uZXcgeChmLGIpOih0Ll9fYz1kPW5ldyB0bihmLGIpLGQuY29uc3RydWN0b3I9eCxkLnJlbmRlcj15biksbSYmbS5zdWIoZCksZC5wcm9wcz1mLGQuc3RhdGV8fChkLnN0YXRlPXt9KSxkLmNvbnRleHQ9YixkLl9fbj1yLGg9ZC5fX2Q9ITAsZC5fX2g9W10sZC5fc2I9W10pLG51bGw9PWQuX19zJiYoZC5fX3M9ZC5zdGF0ZSksbnVsbCE9eC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMmJihkLl9fcz09ZC5zdGF0ZSYmKGQuX19zPVhzKHt9LGQuX19zKSksWHMoZC5fX3MseC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMoZixkLl9fcykpKSxfPWQucHJvcHMscD1kLnN0YXRlLGQuX192PXQsaCludWxsPT14LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyYmbnVsbCE9ZC5jb21wb25lbnRXaWxsTW91bnQmJmQuY29tcG9uZW50V2lsbE1vdW50KCksbnVsbCE9ZC5jb21wb25lbnREaWRNb3VudCYmZC5fX2gucHVzaChkLmNvbXBvbmVudERpZE1vdW50KTtlbHNle2lmKG51bGw9PXguZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzJiZmIT09XyYmbnVsbCE9ZC5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJiZkLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoZixiKSwhZC5fX2UmJihudWxsIT1kLnNob3VsZENvbXBvbmVudFVwZGF0ZSYmITE9PT1kLnNob3VsZENvbXBvbmVudFVwZGF0ZShmLGQuX19zLGIpfHx0Ll9fdj09PWkuX192KSl7Zm9yKHQuX192IT09aS5fX3YmJihkLnByb3BzPWYsZC5zdGF0ZT1kLl9fcyxkLl9fZD0hMSksdC5fX2U9aS5fX2UsdC5fX2s9aS5fX2ssdC5fX2suZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZSYmKGUuX189dCl9KSkseT0wO3k8ZC5fc2IubGVuZ3RoO3krKylkLl9faC5wdXNoKGQuX3NiW3ldKTtkLl9zYj1bXSxkLl9faC5sZW5ndGgmJm8ucHVzaChkKTticmVhayBlfW51bGwhPWQuY29tcG9uZW50V2lsbFVwZGF0ZSYmZC5jb21wb25lbnRXaWxsVXBkYXRlKGYsZC5fX3MsYiksbnVsbCE9ZC5jb21wb25lbnREaWRVcGRhdGUmJmQuX19oLnB1c2goKGZ1bmN0aW9uKCl7ZC5jb21wb25lbnREaWRVcGRhdGUoXyxwLHYpfSkpfWlmKGQuY29udGV4dD1iLGQucHJvcHM9ZixkLl9fUD1lLGQuX19lPSExLHc9QnMuX19yLFM9MCxcInByb3RvdHlwZVwiaW4geCYmeC5wcm90b3R5cGUucmVuZGVyKXtmb3IoZC5zdGF0ZT1kLl9fcyxkLl9fZD0hMSx3JiZ3KHQpLGM9ZC5yZW5kZXIoZC5wcm9wcyxkLnN0YXRlLGQuY29udGV4dCksaz0wO2s8ZC5fc2IubGVuZ3RoO2srKylkLl9faC5wdXNoKGQuX3NiW2tdKTtkLl9zYj1bXX1lbHNlIGRve2QuX19kPSExLHcmJncodCksYz1kLnJlbmRlcihkLnByb3BzLGQuc3RhdGUsZC5jb250ZXh0KSxkLnN0YXRlPWQuX19zfXdoaWxlKGQuX19kJiYrK1M8MjUpO2Quc3RhdGU9ZC5fX3MsbnVsbCE9ZC5nZXRDaGlsZENvbnRleHQmJihyPVhzKFhzKHt9LHIpLGQuZ2V0Q2hpbGRDb250ZXh0KCkpKSxofHxudWxsPT1kLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlfHwodj1kLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKF8scCkpLGFuKGUsS3MoRT1udWxsIT1jJiZjLnR5cGU9PT1lbiYmbnVsbD09Yy5rZXk/Yy5wcm9wcy5jaGlsZHJlbjpjKT9FOltFXSx0LGkscixzLG4sbyxhLGwsdSksZC5iYXNlPXQuX19lLHQuX191Jj0tMTYxLGQuX19oLmxlbmd0aCYmby5wdXNoKGQpLGcmJihkLl9fRT1kLl9fPW51bGwpfWNhdGNoKGUpe3QuX192PW51bGwsbHx8bnVsbCE9bj8odC5fX2U9YSx0Ll9fdXw9bD8xNjA6MzIsbltuLmluZGV4T2YoYSldPW51bGwpOih0Ll9fZT1pLl9fZSx0Ll9faz1pLl9fayksQnMuX19lKGUsdCxpKX1lbHNlIG51bGw9PW4mJnQuX192PT09aS5fX3Y/KHQuX19rPWkuX19rLHQuX19lPWkuX19lKTp0Ll9fZT1mbihpLl9fZSx0LGkscixzLG4sbyxsLHUpOyhjPUJzLmRpZmZlZCkmJmModCl9ZnVuY3Rpb24gZ24oZSx0LGkpe3QuX19kPXZvaWQgMDtmb3IodmFyIHI9MDtyPGkubGVuZ3RoO3IrKyltbihpW3JdLGlbKytyXSxpWysrcl0pO0JzLl9fYyYmQnMuX19jKHQsZSksZS5zb21lKChmdW5jdGlvbih0KXt0cnl7ZT10Ll9faCx0Ll9faD1bXSxlLnNvbWUoKGZ1bmN0aW9uKGUpe2UuY2FsbCh0KX0pKX1jYXRjaChlKXtCcy5fX2UoZSx0Ll9fdil9fSkpfWZ1bmN0aW9uIGZuKGUsdCxpLHIscyxuLG8sYSxsKXt2YXIgdSxjLGQsaCxfLHAsdixnPWkucHJvcHMsZj10LnByb3BzLG09dC50eXBlO2lmKFwic3ZnXCI9PT1tJiYocz0hMCksbnVsbCE9bilmb3IodT0wO3U8bi5sZW5ndGg7dSsrKWlmKChfPW5bdV0pJiZcInNldEF0dHJpYnV0ZVwiaW4gXz09ISFtJiYobT9fLmxvY2FsTmFtZT09PW06Mz09PV8ubm9kZVR5cGUpKXtlPV8sblt1XT1udWxsO2JyZWFrfWlmKG51bGw9PWUpe2lmKG51bGw9PT1tKXJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShmKTtlPXM/ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixtKTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KG0sZi5pcyYmZiksbj1udWxsLGE9ITF9aWYobnVsbD09PW0pZz09PWZ8fGEmJmUuZGF0YT09PWZ8fChlLmRhdGE9Zik7ZWxzZXtpZihuPW4mJnFzLmNhbGwoZS5jaGlsZE5vZGVzKSxnPWkucHJvcHN8fEdzLCFhJiZudWxsIT1uKWZvcihnPXt9LHU9MDt1PGUuYXR0cmlidXRlcy5sZW5ndGg7dSsrKWdbKF89ZS5hdHRyaWJ1dGVzW3VdKS5uYW1lXT1fLnZhbHVlO2Zvcih1IGluIGcpXz1nW3VdLFwiY2hpbGRyZW5cIj09dXx8KFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIj09dT9kPV86XCJrZXlcIj09PXV8fHUgaW4gZnx8aG4oZSx1LG51bGwsXyxzKSk7Zm9yKHUgaW4gZilfPWZbdV0sXCJjaGlsZHJlblwiPT11P2g9XzpcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI9PXU/Yz1fOlwidmFsdWVcIj09dT9wPV86XCJjaGVja2VkXCI9PXU/dj1fOlwia2V5XCI9PT11fHxhJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBffHxnW3VdPT09X3x8aG4oZSx1LF8sZ1t1XSxzKTtpZihjKWF8fGQmJihjLl9faHRtbD09PWQuX19odG1sfHxjLl9faHRtbD09PWUuaW5uZXJIVE1MKXx8KGUuaW5uZXJIVE1MPWMuX19odG1sKSx0Ll9faz1bXTtlbHNlIGlmKGQmJihlLmlubmVySFRNTD1cIlwiKSxhbihlLEtzKGgpP2g6W2hdLHQsaSxyLHMmJlwiZm9yZWlnbk9iamVjdFwiIT09bSxuLG8sbj9uWzBdOmkuX19rJiZybihpLDApLGEsbCksbnVsbCE9bilmb3IodT1uLmxlbmd0aDt1LS07KW51bGwhPW5bdV0mJlFzKG5bdV0pO2F8fCh1PVwidmFsdWVcIix2b2lkIDAhPT1wJiYocCE9PWVbdV18fFwicHJvZ3Jlc3NcIj09PW0mJiFwfHxcIm9wdGlvblwiPT09bSYmcCE9PWdbdV0pJiZobihlLHUscCxnW3VdLCExKSx1PVwiY2hlY2tlZFwiLHZvaWQgMCE9PXYmJnYhPT1lW3VdJiZobihlLHUsdixnW3VdLCExKSl9cmV0dXJuIGV9ZnVuY3Rpb24gbW4oZSx0LGkpe3RyeXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2UodCk6ZS5jdXJyZW50PXR9Y2F0Y2goZSl7QnMuX19lKGUsaSl9fWZ1bmN0aW9uIGJuKGUsdCxpKXt2YXIgcixzO2lmKEJzLnVubW91bnQmJkJzLnVubW91bnQoZSksKHI9ZS5yZWYpJiYoci5jdXJyZW50JiZyLmN1cnJlbnQhPT1lLl9fZXx8bW4ocixudWxsLHQpKSxudWxsIT0ocj1lLl9fYykpe2lmKHIuY29tcG9uZW50V2lsbFVubW91bnQpdHJ5e3IuY29tcG9uZW50V2lsbFVubW91bnQoKX1jYXRjaChlKXtCcy5fX2UoZSx0KX1yLmJhc2U9ci5fX1A9bnVsbCxlLl9fYz12b2lkIDB9aWYocj1lLl9faylmb3Iocz0wO3M8ci5sZW5ndGg7cysrKXJbc10mJmJuKHJbc10sdCxpfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLnR5cGUpO2l8fG51bGw9PWUuX19lfHxRcyhlLl9fZSksZS5fXz1lLl9fZT1lLl9fZD12b2lkIDB9ZnVuY3Rpb24geW4oZSx0LGkpe3JldHVybiB0aGlzLmNvbnN0cnVjdG9yKGUsaSl9cXM9SnMuc2xpY2UsQnM9e19fZTpmdW5jdGlvbihlLHQsaSxyKXtmb3IodmFyIHMsbixvO3Q9dC5fXzspaWYoKHM9dC5fX2MpJiYhcy5fXyl0cnl7aWYoKG49cy5jb25zdHJ1Y3RvcikmJm51bGwhPW4uZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yJiYocy5zZXRTdGF0ZShuLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvcihlKSksbz1zLl9fZCksbnVsbCE9cy5jb21wb25lbnREaWRDYXRjaCYmKHMuY29tcG9uZW50RGlkQ2F0Y2goZSxyfHx7fSksbz1zLl9fZCksbylyZXR1cm4gcy5fX0U9c31jYXRjaCh0KXtlPXR9dGhyb3cgZX19LEhzPTAsdG4ucHJvdG90eXBlLnNldFN0YXRlPWZ1bmN0aW9uKGUsdCl7dmFyIGk7aT1udWxsIT10aGlzLl9fcyYmdGhpcy5fX3MhPT10aGlzLnN0YXRlP3RoaXMuX19zOnRoaXMuX19zPVhzKHt9LHRoaXMuc3RhdGUpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJihlPWUoWHMoe30saSksdGhpcy5wcm9wcykpLGUmJlhzKGksZSksbnVsbCE9ZSYmdGhpcy5fX3YmJih0JiZ0aGlzLl9zYi5wdXNoKHQpLG5uKHRoaXMpKX0sdG4ucHJvdG90eXBlLmZvcmNlVXBkYXRlPWZ1bmN0aW9uKGUpe3RoaXMuX192JiYodGhpcy5fX2U9ITAsZSYmdGhpcy5fX2gucHVzaChlKSxubih0aGlzKSl9LHRuLnByb3RvdHlwZS5yZW5kZXI9ZW4sVXM9W10senM9XCJmdW5jdGlvblwiPT10eXBlb2YgUHJvbWlzZT9Qcm9taXNlLnByb3RvdHlwZS50aGVuLmJpbmQoUHJvbWlzZS5yZXNvbHZlKCkpOnNldFRpbWVvdXQsV3M9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5fX3YuX19iLXQuX192Ll9fYn0sb24uX19yPTAsVnM9MDt2YXIgd24sU24sa247IWZ1bmN0aW9uKGUsdCl7dmFyIGk9e19fYzp0PVwiX19jQ1wiK1ZzKyssX186ZSxDb25zdW1lcjpmdW5jdGlvbihlLHQpe3JldHVybiBlLmNoaWxkcmVuKHQpfSxQcm92aWRlcjpmdW5jdGlvbihlKXt2YXIgaSxyO3JldHVybiB0aGlzLmdldENoaWxkQ29udGV4dHx8KGk9W10sKHI9e30pW3RdPXRoaXMsdGhpcy5nZXRDaGlsZENvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gcn0sdGhpcy5zaG91bGRDb21wb25lbnRVcGRhdGU9ZnVuY3Rpb24oZSl7dGhpcy5wcm9wcy52YWx1ZSE9PWUudmFsdWUmJmkuc29tZSgoZnVuY3Rpb24oZSl7ZS5fX2U9ITAsbm4oZSl9KSl9LHRoaXMuc3ViPWZ1bmN0aW9uKGUpe2kucHVzaChlKTt2YXIgdD1lLmNvbXBvbmVudFdpbGxVbm1vdW50O2UuY29tcG9uZW50V2lsbFVubW91bnQ9ZnVuY3Rpb24oKXtpLnNwbGljZShpLmluZGV4T2YoZSksMSksdCYmdC5jYWxsKGUpfX0pLGUuY2hpbGRyZW59fTtpLlByb3ZpZGVyLl9fPWkuQ29uc3VtZXIuY29udGV4dFR5cGU9aX0oe2lzUHJldmlld01vZGU6ITEscHJldmlld1BhZ2VJbmRleDowLGhhbmRsZUNsb3NlU3VydmV5UG9wdXA6KCk9Pnt9LGlzUG9wdXA6ITAsb25QcmV2aWV3U3VibWl0OigpPT57fX0pLGZ1bmN0aW9uKGUpe2UuUG9wb3Zlcj1cInBvcG92ZXJcIixlLkFQST1cImFwaVwiLGUuV2lkZ2V0PVwid2lkZ2V0XCJ9KHdufHwod249e30pKSxmdW5jdGlvbihlKXtlLk9wZW49XCJvcGVuXCIsZS5NdWx0aXBsZUNob2ljZT1cIm11bHRpcGxlX2Nob2ljZVwiLGUuU2luZ2xlQ2hvaWNlPVwic2luZ2xlX2Nob2ljZVwiLGUuUmF0aW5nPVwicmF0aW5nXCIsZS5MaW5rPVwibGlua1wifShTbnx8KFNuPXt9KSksZnVuY3Rpb24oZSl7ZS5OZXh0UXVlc3Rpb249XCJuZXh0X3F1ZXN0aW9uXCIsZS5FbmQ9XCJlbmRcIixlLlJlc3BvbnNlQmFzZWQ9XCJyZXNwb25zZV9iYXNlZFwiLGUuU3BlY2lmaWNRdWVzdGlvbj1cInNwZWNpZmljX3F1ZXN0aW9uXCJ9KGtufHwoa249e30pKTtjbGFzcyBFbntjb25zdHJ1Y3Rvcigpe29lKHRoaXMsXCJldmVudHNcIix7fSksdGhpcy5ldmVudHM9e319b24oZSx0KXtyZXR1cm4gdGhpcy5ldmVudHNbZV18fCh0aGlzLmV2ZW50c1tlXT1bXSksdGhpcy5ldmVudHNbZV0ucHVzaCh0KSwoKT0+e3RoaXMuZXZlbnRzW2VdPXRoaXMuZXZlbnRzW2VdLmZpbHRlcigoZT0+ZSE9PXQpKX19ZW1pdChlLHQpe2Zvcih2YXIgaSBvZiB0aGlzLmV2ZW50c1tlXXx8W10paSh0KTtmb3IodmFyIHIgb2YgdGhpcy5ldmVudHNbXCIqXCJdfHxbXSlyKGUsdCl9fWNsYXNzIHhue2NvbnN0cnVjdG9yKGUpe29lKHRoaXMsXCJfZGVidWdFdmVudEVtaXR0ZXJcIixuZXcgRW4pLG9lKHRoaXMsXCJjaGVja1N0ZXBcIiwoKGUsdCk9PnRoaXMuY2hlY2tTdGVwRXZlbnQoZSx0KSYmdGhpcy5jaGVja1N0ZXBVcmwoZSx0KSYmdGhpcy5jaGVja1N0ZXBFbGVtZW50KGUsdCkpKSxvZSh0aGlzLFwiY2hlY2tTdGVwRXZlbnRcIiwoKGUsdCk9Pm51bGw9PXR8fCF0LmV2ZW50fHwobnVsbD09ZT92b2lkIDA6ZS5ldmVudCk9PT0obnVsbD09dD92b2lkIDA6dC5ldmVudCkpKSx0aGlzLmluc3RhbmNlPWUsdGhpcy5hY3Rpb25FdmVudHM9bmV3IFNldCx0aGlzLmFjdGlvblJlZ2lzdHJ5PW5ldyBTZXR9aW5pdCgpe3ZhciBlO2lmKCF6KG51bGw9PT0oZT10aGlzLmluc3RhbmNlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5fYWRkQ2FwdHVyZUhvb2spKXt2YXIgdDtudWxsPT09KHQ9dGhpcy5pbnN0YW5jZSl8fHZvaWQgMD09PXR8fHQuX2FkZENhcHR1cmVIb29rKCgoZSx0KT0+e3RoaXMub24oZSx0KX0pKX19cmVnaXN0ZXIoZSl7dmFyIHQsaTtpZigheihudWxsPT09KHQ9dGhpcy5pbnN0YW5jZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuX2FkZENhcHR1cmVIb29rKSYmKGUuZm9yRWFjaCgoZT0+e3ZhciB0LGk7bnVsbD09PSh0PXRoaXMuYWN0aW9uUmVnaXN0cnkpfHx2b2lkIDA9PT10fHx0LmFkZChlKSxudWxsPT09KGk9ZS5zdGVwcyl8fHZvaWQgMD09PWl8fGkuZm9yRWFjaCgoZT0+e3ZhciB0O251bGw9PT0odD10aGlzLmFjdGlvbkV2ZW50cyl8fHZvaWQgMD09PXR8fHQuYWRkKChudWxsPT1lP3ZvaWQgMDplLmV2ZW50KXx8XCJcIil9KSl9KSksbnVsbCE9PShpPXRoaXMuaW5zdGFuY2UpJiZ2b2lkIDAhPT1pJiZpLmF1dG9jYXB0dXJlKSl7dmFyIHIscz1uZXcgU2V0O2UuZm9yRWFjaCgoZT0+e3ZhciB0O251bGw9PT0odD1lLnN0ZXBzKXx8dm9pZCAwPT09dHx8dC5mb3JFYWNoKChlPT57bnVsbCE9ZSYmZS5zZWxlY3RvciYmcy5hZGQobnVsbD09ZT92b2lkIDA6ZS5zZWxlY3Rvcil9KSl9KSksbnVsbD09PShyPXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT1yfHxyLmF1dG9jYXB0dXJlLnNldEVsZW1lbnRTZWxlY3RvcnMocyl9fW9uKGUsdCl7dmFyIGk7bnVsbCE9dCYmMCE9ZS5sZW5ndGgmJih0aGlzLmFjdGlvbkV2ZW50cy5oYXMoZSl8fHRoaXMuYWN0aW9uRXZlbnRzLmhhcyhudWxsPT10P3ZvaWQgMDp0LmV2ZW50KSkmJnRoaXMuYWN0aW9uUmVnaXN0cnkmJihudWxsPT09KGk9dGhpcy5hY3Rpb25SZWdpc3RyeSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuc2l6ZSk+MCYmdGhpcy5hY3Rpb25SZWdpc3RyeS5mb3JFYWNoKChlPT57dGhpcy5jaGVja0FjdGlvbih0LGUpJiZ0aGlzLl9kZWJ1Z0V2ZW50RW1pdHRlci5lbWl0KFwiYWN0aW9uQ2FwdHVyZWRcIixlLm5hbWUpfSkpfV9hZGRBY3Rpb25Ib29rKGUpe3RoaXMub25BY3Rpb24oXCJhY3Rpb25DYXB0dXJlZFwiLCh0PT5lKHQpKSl9Y2hlY2tBY3Rpb24oZSx0KXtpZihudWxsPT0obnVsbD09dD92b2lkIDA6dC5zdGVwcykpcmV0dXJuITE7Zm9yKHZhciBpIG9mIHQuc3RlcHMpaWYodGhpcy5jaGVja1N0ZXAoZSxpKSlyZXR1cm4hMDtyZXR1cm4hMX1vbkFjdGlvbihlLHQpe3JldHVybiB0aGlzLl9kZWJ1Z0V2ZW50RW1pdHRlci5vbihlLHQpfWNoZWNrU3RlcFVybChlLHQpe2lmKG51bGwhPXQmJnQudXJsKXt2YXIgaSxyPW51bGw9PWV8fG51bGw9PT0oaT1lLnByb3BlcnRpZXMpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLiRjdXJyZW50X3VybDtpZighcnx8XCJzdHJpbmdcIiE9dHlwZW9mIHIpcmV0dXJuITE7aWYoIXhuLm1hdGNoU3RyaW5nKHIsbnVsbD09dD92b2lkIDA6dC51cmwsKG51bGw9PXQ/dm9pZCAwOnQudXJsX21hdGNoaW5nKXx8XCJjb250YWluc1wiKSlyZXR1cm4hMX1yZXR1cm4hMH1zdGF0aWMgbWF0Y2hTdHJpbmcoZSxpLHIpe3N3aXRjaChyKXtjYXNlXCJyZWdleFwiOnJldHVybiEhdCYmQShlLGkpO2Nhc2VcImV4YWN0XCI6cmV0dXJuIGk9PT1lO2Nhc2VcImNvbnRhaW5zXCI6dmFyIHM9eG4uZXNjYXBlU3RyaW5nUmVnZXhwKGkpLnJlcGxhY2UoL18vZyxcIi5cIikucmVwbGFjZSgvJS9nLFwiLipcIik7cmV0dXJuIEEoZSxzKTtkZWZhdWx0OnJldHVybiExfX1zdGF0aWMgZXNjYXBlU3RyaW5nUmVnZXhwKGUpe3JldHVybiBlLnJlcGxhY2UoL1t8XFxcXHt9KClbXFxdXiQrKj8uXS9nLFwiXFxcXCQmXCIpLnJlcGxhY2UoLy0vZyxcIlxcXFx4MmRcIil9Y2hlY2tTdGVwRWxlbWVudChlLHQpe2lmKChudWxsIT10JiZ0LmhyZWZ8fG51bGwhPXQmJnQudGFnX25hbWV8fG51bGwhPXQmJnQudGV4dCkmJiF0aGlzLmdldEVsZW1lbnRzTGlzdChlKS5zb21lKChlPT4hKG51bGwhPXQmJnQuaHJlZiYmIXhuLm1hdGNoU3RyaW5nKGUuaHJlZnx8XCJcIixudWxsPT10P3ZvaWQgMDp0LmhyZWYsKG51bGw9PXQ/dm9pZCAwOnQuaHJlZl9tYXRjaGluZyl8fFwiZXhhY3RcIikpJiYoKG51bGw9PXR8fCF0LnRhZ19uYW1lfHxlLnRhZ19uYW1lPT09KG51bGw9PXQ/dm9pZCAwOnQudGFnX25hbWUpKSYmIShudWxsIT10JiZ0LnRleHQmJiF4bi5tYXRjaFN0cmluZyhlLnRleHR8fFwiXCIsbnVsbD09dD92b2lkIDA6dC50ZXh0LChudWxsPT10P3ZvaWQgMDp0LnRleHRfbWF0Y2hpbmcpfHxcImV4YWN0XCIpJiYheG4ubWF0Y2hTdHJpbmcoZS4kZWxfdGV4dHx8XCJcIixudWxsPT10P3ZvaWQgMDp0LnRleHQsKG51bGw9PXQ/dm9pZCAwOnQudGV4dF9tYXRjaGluZyl8fFwiZXhhY3RcIikpKSkpKXJldHVybiExO2lmKG51bGwhPXQmJnQuc2VsZWN0b3Ipe3ZhciBpLHI9bnVsbD09ZXx8bnVsbD09PShpPWUucHJvcGVydGllcyl8fHZvaWQgMD09PWk/dm9pZCAwOmkuJGVsZW1lbnRfc2VsZWN0b3JzO2lmKCFyKXJldHVybiExO2lmKCFyLmluY2x1ZGVzKG51bGw9PXQ/dm9pZCAwOnQuc2VsZWN0b3IpKXJldHVybiExfXJldHVybiEwfWdldEVsZW1lbnRzTGlzdChlKXtyZXR1cm4gbnVsbD09KG51bGw9PWU/dm9pZCAwOmUucHJvcGVydGllcy4kZWxlbWVudHMpP1tdOm51bGw9PWU/dm9pZCAwOmUucHJvcGVydGllcy4kZWxlbWVudHN9fWNsYXNzIElue2NvbnN0cnVjdG9yKGUpe3RoaXMuaW5zdGFuY2U9ZSx0aGlzLmV2ZW50VG9TdXJ2ZXlzPW5ldyBNYXAsdGhpcy5hY3Rpb25Ub1N1cnZleXM9bmV3IE1hcH1yZWdpc3RlcihlKXt2YXIgdDt6KG51bGw9PT0odD10aGlzLmluc3RhbmNlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5fYWRkQ2FwdHVyZUhvb2spfHwodGhpcy5zZXR1cEV2ZW50QmFzZWRTdXJ2ZXlzKGUpLHRoaXMuc2V0dXBBY3Rpb25CYXNlZFN1cnZleXMoZSkpfXNldHVwQWN0aW9uQmFzZWRTdXJ2ZXlzKGUpe3ZhciB0PWUuZmlsdGVyKChlPT57dmFyIHQsaSxyLHM7cmV0dXJuKG51bGw9PT0odD1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmFjdGlvbnMpJiYobnVsbD09PShpPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWl8fG51bGw9PT0ocj1pLmFjdGlvbnMpfHx2b2lkIDA9PT1yfHxudWxsPT09KHM9ci52YWx1ZXMpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLmxlbmd0aCk+MH0pKTtpZigwIT09dC5sZW5ndGgpe2lmKG51bGw9PXRoaXMuYWN0aW9uTWF0Y2hlcil7dGhpcy5hY3Rpb25NYXRjaGVyPW5ldyB4bih0aGlzLmluc3RhbmNlKSx0aGlzLmFjdGlvbk1hdGNoZXIuaW5pdCgpO3RoaXMuYWN0aW9uTWF0Y2hlci5fYWRkQWN0aW9uSG9vaygoZT0+e3RoaXMub25BY3Rpb24oZSl9KSl9dC5mb3JFYWNoKChlPT57dmFyIHQsaSxyLHMsbixvLGEsbCx1LGM7ZS5jb25kaXRpb25zJiZudWxsIT09KHQ9ZS5jb25kaXRpb25zKSYmdm9pZCAwIT09dCYmdC5hY3Rpb25zJiZudWxsIT09KGk9ZS5jb25kaXRpb25zKSYmdm9pZCAwIT09aSYmbnVsbCE9PShyPWkuYWN0aW9ucykmJnZvaWQgMCE9PXImJnIudmFsdWVzJiYobnVsbD09PShzPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PXN8fG51bGw9PT0obj1zLmFjdGlvbnMpfHx2b2lkIDA9PT1ufHxudWxsPT09KG89bi52YWx1ZXMpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmxlbmd0aCk+MCYmKG51bGw9PT0oYT10aGlzLmFjdGlvbk1hdGNoZXIpfHx2b2lkIDA9PT1hfHxhLnJlZ2lzdGVyKGUuY29uZGl0aW9ucy5hY3Rpb25zLnZhbHVlcyksbnVsbD09PShsPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWx8fG51bGw9PT0odT1sLmFjdGlvbnMpfHx2b2lkIDA9PT11fHxudWxsPT09KGM9dS52YWx1ZXMpfHx2b2lkIDA9PT1jfHxjLmZvckVhY2goKHQ9PntpZih0JiZ0Lm5hbWUpe3ZhciBpPXRoaXMuYWN0aW9uVG9TdXJ2ZXlzLmdldCh0Lm5hbWUpO2kmJmkucHVzaChlLmlkKSx0aGlzLmFjdGlvblRvU3VydmV5cy5zZXQodC5uYW1lLGl8fFtlLmlkXSl9fSkpKX0pKX19c2V0dXBFdmVudEJhc2VkU3VydmV5cyhlKXt2YXIgdDtpZigwIT09ZS5maWx0ZXIoKGU9Pnt2YXIgdCxpLHIscztyZXR1cm4obnVsbD09PSh0PWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZXZlbnRzKSYmKG51bGw9PT0oaT1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1pfHxudWxsPT09KHI9aS5ldmVudHMpfHx2b2lkIDA9PT1yfHxudWxsPT09KHM9ci52YWx1ZXMpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLmxlbmd0aCk+MH0pKS5sZW5ndGgpe251bGw9PT0odD10aGlzLmluc3RhbmNlKXx8dm9pZCAwPT09dHx8dC5fYWRkQ2FwdHVyZUhvb2soKChlLHQpPT57dGhpcy5vbkV2ZW50KGUsdCl9KSksZS5mb3JFYWNoKChlPT57dmFyIHQsaSxyO251bGw9PT0odD1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT10fHxudWxsPT09KGk9dC5ldmVudHMpfHx2b2lkIDA9PT1pfHxudWxsPT09KHI9aS52YWx1ZXMpfHx2b2lkIDA9PT1yfHxyLmZvckVhY2goKHQ9PntpZih0JiZ0Lm5hbWUpe3ZhciBpPXRoaXMuZXZlbnRUb1N1cnZleXMuZ2V0KHQubmFtZSk7aSYmaS5wdXNoKGUuaWQpLHRoaXMuZXZlbnRUb1N1cnZleXMuc2V0KHQubmFtZSxpfHxbZS5pZF0pfX0pKX0pKX19b25FdmVudChlLHQpe3ZhciBpLHIscz0obnVsbD09PShpPXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT1pfHxudWxsPT09KHI9aS5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PXI/dm9pZCAwOnIucHJvcHNbT2VdKXx8W107aWYoSW4uU1VSVkVZX1NIT1dOX0VWRU5UX05BTUU9PWUmJnQmJnMubGVuZ3RoPjApe3ZhciBuLG89bnVsbD09dHx8bnVsbD09PShuPXQucHJvcGVydGllcyl8fHZvaWQgMD09PW4/dm9pZCAwOm4uJHN1cnZleV9pZDtpZihvKXt2YXIgYT1zLmluZGV4T2Yobyk7YT49MCYmKHMuc3BsaWNlKGEsMSksdGhpcy5fdXBkYXRlQWN0aXZhdGVkU3VydmV5cyhzKSl9fWVsc2UgdGhpcy5ldmVudFRvU3VydmV5cy5oYXMoZSkmJnRoaXMuX3VwZGF0ZUFjdGl2YXRlZFN1cnZleXMocy5jb25jYXQodGhpcy5ldmVudFRvU3VydmV5cy5nZXQoZSl8fFtdKSl9b25BY3Rpb24oZSl7dmFyIHQsaSxyPShudWxsPT09KHQ9dGhpcy5pbnN0YW5jZSl8fHZvaWQgMD09PXR8fG51bGw9PT0oaT10LnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09aT92b2lkIDA6aS5wcm9wc1tPZV0pfHxbXTt0aGlzLmFjdGlvblRvU3VydmV5cy5oYXMoZSkmJnRoaXMuX3VwZGF0ZUFjdGl2YXRlZFN1cnZleXMoci5jb25jYXQodGhpcy5hY3Rpb25Ub1N1cnZleXMuZ2V0KGUpfHxbXSkpfV91cGRhdGVBY3RpdmF0ZWRTdXJ2ZXlzKGUpe3ZhciB0LGk7bnVsbD09PSh0PXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT10fHxudWxsPT09KGk9dC5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWl8fGkucmVnaXN0ZXIoe1tPZV06Wy4uLm5ldyBTZXQoZSldfSl9Z2V0U3VydmV5cygpe3ZhciBlLHQsaT1udWxsPT09KGU9dGhpcy5pbnN0YW5jZSl8fHZvaWQgMD09PWV8fG51bGw9PT0odD1lLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5wcm9wc1tPZV07cmV0dXJuIGl8fFtdfWdldEV2ZW50VG9TdXJ2ZXlzKCl7cmV0dXJuIHRoaXMuZXZlbnRUb1N1cnZleXN9X2dldEFjdGlvbk1hdGNoZXIoKXtyZXR1cm4gdGhpcy5hY3Rpb25NYXRjaGVyfX1vZShJbixcIlNVUlZFWV9TSE9XTl9FVkVOVF9OQU1FXCIsXCJzdXJ2ZXkgc2hvd25cIik7dmFyIENuPXRlKFwiW1N1cnZleXNdXCIpLFBuPXtpY29udGFpbnM6KGUsdCk9PmUuc29tZSgoZT0+dC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGUudG9Mb3dlckNhc2UoKSkpKSxub3RfaWNvbnRhaW5zOihlLHQpPT5lLmV2ZXJ5KChlPT4hdC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGUudG9Mb3dlckNhc2UoKSkpKSxyZWdleDooZSx0KT0+ZS5zb21lKChlPT5BKHQsZSkpKSxub3RfcmVnZXg6KGUsdCk9PmUuZXZlcnkoKGU9PiFBKHQsZSkpKSxleGFjdDooZSx0KT0+ZS5zb21lKChlPT50PT09ZSkpLGlzX25vdDooZSx0KT0+ZS5ldmVyeSgoZT0+dCE9PWUpKX07ZnVuY3Rpb24gRm4oZSx0LGkpe3ZhciByLHM9ZS5xdWVzdGlvbnNbdF0sbj10KzE7aWYobnVsbD09PShyPXMuYnJhbmNoaW5nKXx8dm9pZCAwPT09cnx8IXIudHlwZSlyZXR1cm4gdD09PWUucXVlc3Rpb25zLmxlbmd0aC0xP2tuLkVuZDpuO2lmKHMuYnJhbmNoaW5nLnR5cGU9PT1rbi5FbmQpcmV0dXJuIGtuLkVuZDtpZihzLmJyYW5jaGluZy50eXBlPT09a24uU3BlY2lmaWNRdWVzdGlvbil7aWYoTnVtYmVyLmlzSW50ZWdlcihzLmJyYW5jaGluZy5pbmRleCkpcmV0dXJuIHMuYnJhbmNoaW5nLmluZGV4fWVsc2UgaWYocy5icmFuY2hpbmcudHlwZT09PWtuLlJlc3BvbnNlQmFzZWQpe2lmKHMudHlwZT09PVNuLlNpbmdsZUNob2ljZSl7dmFyIG8sYSxsPXMuY2hvaWNlcy5pbmRleE9mKFwiXCIuY29uY2F0KGkpKTtpZihudWxsIT09KG89cy5icmFuY2hpbmcpJiZ2b2lkIDAhPT1vJiZudWxsIT09KGE9by5yZXNwb25zZVZhbHVlcykmJnZvaWQgMCE9PWEmJmEuaGFzT3duUHJvcGVydHkobCkpe3ZhciB1PXMuYnJhbmNoaW5nLnJlc3BvbnNlVmFsdWVzW2xdO3JldHVybiBOdW1iZXIuaXNJbnRlZ2VyKHUpP3U6dT09PWtuLkVuZD9rbi5FbmQ6bn19ZWxzZSBpZihzLnR5cGU9PT1Tbi5SYXRpbmcpe3ZhciBjLGQ7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGl8fCFOdW1iZXIuaXNJbnRlZ2VyKGkpKXRocm93IG5ldyBFcnJvcihcIlRoZSByZXNwb25zZSB0eXBlIG11c3QgYmUgYW4gaW50ZWdlclwiKTt2YXIgaD1mdW5jdGlvbihlLHQpe2lmKDM9PT10KXtpZihlPDF8fGU+Myl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgcmVzcG9uc2UgbXVzdCBiZSBpbiByYW5nZSAxLTNcIik7cmV0dXJuIDE9PT1lP1wibmVnYXRpdmVcIjoyPT09ZT9cIm5ldXRyYWxcIjpcInBvc2l0aXZlXCJ9aWYoNT09PXQpe2lmKGU8MXx8ZT41KXRocm93IG5ldyBFcnJvcihcIlRoZSByZXNwb25zZSBtdXN0IGJlIGluIHJhbmdlIDEtNVwiKTtyZXR1cm4gZTw9Mj9cIm5lZ2F0aXZlXCI6Mz09PWU/XCJuZXV0cmFsXCI6XCJwb3NpdGl2ZVwifWlmKDc9PT10KXtpZihlPDF8fGU+Nyl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgcmVzcG9uc2UgbXVzdCBiZSBpbiByYW5nZSAxLTdcIik7cmV0dXJuIGU8PTM/XCJuZWdhdGl2ZVwiOjQ9PT1lP1wibmV1dHJhbFwiOlwicG9zaXRpdmVcIn1pZigxMD09PXQpe2lmKGU8MHx8ZT4xMCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgcmVzcG9uc2UgbXVzdCBiZSBpbiByYW5nZSAwLTEwXCIpO3JldHVybiBlPD02P1wiZGV0cmFjdG9yc1wiOmU8PTg/XCJwYXNzaXZlc1wiOlwicHJvbW90ZXJzXCJ9dGhyb3cgbmV3IEVycm9yKFwiVGhlIHNjYWxlIG11c3QgYmUgb25lIG9mOiAzLCA1LCA3LCAxMFwiKX0oaSxzLnNjYWxlKTtpZihudWxsIT09KGM9cy5icmFuY2hpbmcpJiZ2b2lkIDAhPT1jJiZudWxsIT09KGQ9Yy5yZXNwb25zZVZhbHVlcykmJnZvaWQgMCE9PWQmJmQuaGFzT3duUHJvcGVydHkoaCkpe3ZhciBfPXMuYnJhbmNoaW5nLnJlc3BvbnNlVmFsdWVzW2hdO3JldHVybiBOdW1iZXIuaXNJbnRlZ2VyKF8pP186Xz09PWtuLkVuZD9rbi5FbmQ6bn19cmV0dXJuIG59cmV0dXJuIENuLndhcm4oXCJGYWxsaW5nIGJhY2sgdG8gbmV4dCBxdWVzdGlvbiBpbmRleCBkdWUgdG8gdW5leHBlY3RlZCBicmFuY2hpbmcgdHlwZVwiKSxufWZ1bmN0aW9uIFRuKGUpe3JldHVybiBudWxsIT1lP2U6XCJpY29udGFpbnNcIn1jbGFzcyBSbntjb25zdHJ1Y3RvcihlKXtvZSh0aGlzLFwiZ2V0TmV4dFN1cnZleVN0ZXBcIixGbiksdGhpcy5pbnN0YW5jZT1lLHRoaXMuX3N1cnZleUV2ZW50UmVjZWl2ZXI9bnVsbH1vblJlbW90ZUNvbmZpZyhlKXt0aGlzLl9kZWNpZGVTZXJ2ZXJSZXNwb25zZT0hIWUuc3VydmV5cyxDbi5pbmZvKFwiZGVjaWRlU2VydmVyUmVzcG9uc2Ugc2V0IHRvIFwiLmNvbmNhdCh0aGlzLl9kZWNpZGVTZXJ2ZXJSZXNwb25zZSkpLHRoaXMubG9hZElmRW5hYmxlZCgpfXJlc2V0KCl7bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJsYXN0U2VlblN1cnZleURhdGVcIik7dmFyIGU9KCgpPT57Zm9yKHZhciBlPVtdLHQ9MDt0PGxvY2FsU3RvcmFnZS5sZW5ndGg7dCsrKXt2YXIgaT1sb2NhbFN0b3JhZ2Uua2V5KHQpO251bGwhPWkmJmkuc3RhcnRzV2l0aChcInNlZW5TdXJ2ZXlfXCIpJiZlLnB1c2goaSl9cmV0dXJuIGV9KSgpO2UuZm9yRWFjaCgoZT0+bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oZSkpKX1sb2FkSWZFbmFibGVkKCl7aWYoIXRoaXMuX3N1cnZleU1hbmFnZXIpaWYodGhpcy5pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9zdXJ2ZXlzKUNuLmluZm8oXCJEaXNhYmxlZC4gTm90IGxvYWRpbmcgc3VydmV5cy5cIik7ZWxzZXt2YXIgZT1udWxsPT1fP3ZvaWQgMDpfLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXztpZihlKXt2YXIgdD1lLmdlbmVyYXRlU3VydmV5cztpZih0aGlzLl9kZWNpZGVTZXJ2ZXJSZXNwb25zZSlpZihudWxsPT10aGlzLl9zdXJ2ZXlFdmVudFJlY2VpdmVyJiYodGhpcy5fc3VydmV5RXZlbnRSZWNlaXZlcj1uZXcgSW4odGhpcy5pbnN0YW5jZSkpLHQpdGhpcy5fc3VydmV5TWFuYWdlcj10KHRoaXMuaW5zdGFuY2UpO2Vsc2V7dmFyIGk9ZS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5O2k/aSh0aGlzLmluc3RhbmNlLFwic3VydmV5c1wiLCh0PT57dmFyIGk7dD9Dbi5lcnJvcihcIkNvdWxkIG5vdCBsb2FkIHN1cnZleXMgc2NyaXB0XCIsdCk6dGhpcy5fc3VydmV5TWFuYWdlcj1udWxsPT09KGk9ZS5nZW5lcmF0ZVN1cnZleXMpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmNhbGwoZSx0aGlzLmluc3RhbmNlKX0pKTpDbi5lcnJvcihcIlBvc3RIb2cgbG9hZEV4dGVybmFsRGVwZW5kZW5jeSBleHRlbnNpb24gbm90IGZvdW5kLiBDYW5ub3QgbG9hZCByZW1vdGUgY29uZmlnLlwiKX1lbHNlIENuLndhcm4oXCJEZWNpZGUgbm90IGxvYWRlZCB5ZXQuIE5vdCBsb2FkaW5nIHN1cnZleXMuXCIpfWVsc2UgQ24uZXJyb3IoXCJQb3N0SG9nIEV4dGVuc2lvbnMgbm90IGZvdW5kLlwiKX19Z2V0U3VydmV5cyhlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO2lmKHRoaXMuaW5zdGFuY2UuY29uZmlnLmRpc2FibGVfc3VydmV5cylyZXR1cm4gQ24uaW5mbyhcIkRpc2FibGVkLiBOb3QgbG9hZGluZyBzdXJ2ZXlzLlwiKSxlKFtdKTtudWxsPT10aGlzLl9zdXJ2ZXlFdmVudFJlY2VpdmVyJiYodGhpcy5fc3VydmV5RXZlbnRSZWNlaXZlcj1uZXcgSW4odGhpcy5pbnN0YW5jZSkpO3ZhciBpPXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KCRlKTtpZihpJiYhdClyZXR1cm4gZShpKTt0aGlzLmluc3RhbmNlLl9zZW5kX3JlcXVlc3Qoe3VybDp0aGlzLmluc3RhbmNlLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJhcGlcIixcIi9hcGkvc3VydmV5cy8/dG9rZW49XCIuY29uY2F0KHRoaXMuaW5zdGFuY2UuY29uZmlnLnRva2VuKSksbWV0aG9kOlwiR0VUXCIsY2FsbGJhY2s6dD0+e3ZhciBpLHI9dC5zdGF0dXNDb2RlO2lmKDIwMCE9PXJ8fCF0Lmpzb24pcmV0dXJuIENuLmVycm9yKFwiU3VydmV5cyBBUEkgY291bGQgbm90IGJlIGxvYWRlZCwgc3RhdHVzOiBcIi5jb25jYXQocikpLGUoW10pO3ZhciBzLG49dC5qc29uLnN1cnZleXN8fFtdLG89bi5maWx0ZXIoKGU9Pnt2YXIgdCxpLHIscyxuLG8sYSxsLHUsYyxkLGg7cmV0dXJuKG51bGw9PT0odD1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmV2ZW50cykmJihudWxsPT09KGk9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09aXx8bnVsbD09PShyPWkuZXZlbnRzKXx8dm9pZCAwPT09cj92b2lkIDA6ci52YWx1ZXMpJiYobnVsbD09PShzPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PXN8fG51bGw9PT0obj1zLmV2ZW50cyl8fHZvaWQgMD09PW58fG51bGw9PT0obz1uLnZhbHVlcyl8fHZvaWQgMD09PW8/dm9pZCAwOm8ubGVuZ3RoKT4wfHwobnVsbD09PShhPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWE/dm9pZCAwOmEuYWN0aW9ucykmJihudWxsPT09KGw9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09bHx8bnVsbD09PSh1PWwuYWN0aW9ucyl8fHZvaWQgMD09PXU/dm9pZCAwOnUudmFsdWVzKSYmKG51bGw9PT0oYz1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1jfHxudWxsPT09KGQ9Yy5hY3Rpb25zKXx8dm9pZCAwPT09ZHx8bnVsbD09PShoPWQudmFsdWVzKXx8dm9pZCAwPT09aD92b2lkIDA6aC5sZW5ndGgpPjB9KSk7by5sZW5ndGg+MCYmKG51bGw9PT0ocz10aGlzLl9zdXJ2ZXlFdmVudFJlY2VpdmVyKXx8dm9pZCAwPT09c3x8cy5yZWdpc3RlcihvKSk7cmV0dXJuIG51bGw9PT0oaT10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09aXx8aS5yZWdpc3Rlcih7WyRlXTpufSksZShuKX19KX1pc1N1cnZleUZlYXR1cmVGbGFnRW5hYmxlZChlKXtyZXR1cm4hZXx8dGhpcy5pbnN0YW5jZS5mZWF0dXJlRmxhZ3MuaXNGZWF0dXJlRW5hYmxlZChlKX1nZXRBY3RpdmVNYXRjaGluZ1N1cnZleXMoZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTt0aGlzLmdldFN1cnZleXMoKGk9Pnt2YXIgcixzPWkuZmlsdGVyKChlPT4hKCFlLnN0YXJ0X2RhdGV8fGUuZW5kX2RhdGUpKSkuZmlsdGVyKChlPT57dmFyIGk7aWYoIWUuY29uZGl0aW9ucylyZXR1cm4hMDt2YXIgcj1mdW5jdGlvbihlKXt2YXIgaSxyLHM7aWYobnVsbD09PShpPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWl8fCFpLnVybClyZXR1cm4hMDt2YXIgbj1udWxsPT10fHxudWxsPT09KHI9dC5sb2NhdGlvbil8fHZvaWQgMD09PXI/dm9pZCAwOnIuaHJlZjtpZighbilyZXR1cm4hMTt2YXIgbz1bZS5jb25kaXRpb25zLnVybF07cmV0dXJuIFBuW1RuKG51bGw9PT0ocz1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLnVybE1hdGNoVHlwZSldKG8sbil9KGUpLHM9bnVsbD09PShpPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWl8fCFpLnNlbGVjdG9yfHwobnVsbD09YT92b2lkIDA6YS5xdWVyeVNlbGVjdG9yKGUuY29uZGl0aW9ucy5zZWxlY3RvcikpLG49ZnVuY3Rpb24oZSl7dmFyIHQsaTtpZihudWxsPT09KHQ9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09dHx8IXQuZGV2aWNlVHlwZXMpcmV0dXJuITA7aWYoIWgpcmV0dXJuITE7dmFyIHI9RWkuZGV2aWNlVHlwZShoKTtyZXR1cm4gUG5bVG4obnVsbD09PShpPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWk/dm9pZCAwOmkuZGV2aWNlVHlwZXNNYXRjaFR5cGUpXShlLmNvbmRpdGlvbnMuZGV2aWNlVHlwZXMscil9KGUpO3JldHVybiByJiZzJiZufSkpLG49bnVsbD09PShyPXRoaXMuX3N1cnZleUV2ZW50UmVjZWl2ZXIpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmdldFN1cnZleXMoKSxvPXMuZmlsdGVyKChlPT57dmFyIHQsaSxyLHMsbyxhLGwsdSxjO2lmKCEoZS5saW5rZWRfZmxhZ19rZXl8fGUudGFyZ2V0aW5nX2ZsYWdfa2V5fHxlLmludGVybmFsX3RhcmdldGluZ19mbGFnX2tleXx8bnVsbCE9PSh0PWUuZmVhdHVyZV9mbGFnX2tleXMpJiZ2b2lkIDAhPT10JiZ0Lmxlbmd0aCkpcmV0dXJuITA7dmFyIGQ9dGhpcy5pc1N1cnZleUZlYXR1cmVGbGFnRW5hYmxlZChlLmxpbmtlZF9mbGFnX2tleSksaD10aGlzLmlzU3VydmV5RmVhdHVyZUZsYWdFbmFibGVkKGUudGFyZ2V0aW5nX2ZsYWdfa2V5KSxfPShudWxsIT09KGk9bnVsbD09PShyPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PXJ8fG51bGw9PT0ocz1yLmV2ZW50cyl8fHZvaWQgMD09PXN8fG51bGw9PT0obz1zLnZhbHVlcyl8fHZvaWQgMD09PW8/dm9pZCAwOm8ubGVuZ3RoKSYmdm9pZCAwIT09aT9pOjApPjAscD0obnVsbCE9PShhPW51bGw9PT0obD1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1sfHxudWxsPT09KHU9bC5hY3Rpb25zKXx8dm9pZCAwPT09dXx8bnVsbD09PShjPXUudmFsdWVzKXx8dm9pZCAwPT09Yz92b2lkIDA6Yy5sZW5ndGgpJiZ2b2lkIDAhPT1hP2E6MCk+MCx2PSFfJiYhcHx8KG51bGw9PW4/dm9pZCAwOm4uaW5jbHVkZXMoZS5pZCkpLGc9dGhpcy5fY2FuQWN0aXZhdGVSZXBlYXRlZGx5KGUpfHx0aGlzLmlzU3VydmV5RmVhdHVyZUZsYWdFbmFibGVkKGUuaW50ZXJuYWxfdGFyZ2V0aW5nX2ZsYWdfa2V5KSxmPXRoaXMuY2hlY2tGbGFncyhlKTtyZXR1cm4gZCYmaCYmZyYmdiYmZn0pKTtyZXR1cm4gZShvKX0pLGkpfWNoZWNrRmxhZ3MoZSl7dmFyIHQ7cmV0dXJuIG51bGw9PT0odD1lLmZlYXR1cmVfZmxhZ19rZXlzKXx8dm9pZCAwPT09dHx8IXQubGVuZ3RofHxlLmZlYXR1cmVfZmxhZ19rZXlzLmV2ZXJ5KChlPT57dmFye2tleTp0LHZhbHVlOml9PWU7cmV0dXJuIXR8fCFpfHx0aGlzLmluc3RhbmNlLmZlYXR1cmVGbGFncy5pc0ZlYXR1cmVFbmFibGVkKGkpfSkpfV9jYW5BY3RpdmF0ZVJlcGVhdGVkbHkoZSl7dmFyIHQ7cmV0dXJuIEoobnVsbD09PSh0PV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09dD92b2lkIDA6dC5jYW5BY3RpdmF0ZVJlcGVhdGVkbHkpPyhDbi53YXJuKFwiaW5pdCB3YXMgbm90IGNhbGxlZFwiKSwhMSk6Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18uY2FuQWN0aXZhdGVSZXBlYXRlZGx5KGUpfWNhblJlbmRlclN1cnZleShlKXtKKHRoaXMuX3N1cnZleU1hbmFnZXIpP0NuLndhcm4oXCJpbml0IHdhcyBub3QgY2FsbGVkXCIpOnRoaXMuZ2V0U3VydmV5cygodD0+e3ZhciBpPXQuZmlsdGVyKCh0PT50LmlkPT09ZSkpWzBdO3RoaXMuX3N1cnZleU1hbmFnZXIuY2FuUmVuZGVyU3VydmV5KGkpfSkpfXJlbmRlclN1cnZleShlLHQpe0oodGhpcy5fc3VydmV5TWFuYWdlcik/Q24ud2FybihcImluaXQgd2FzIG5vdCBjYWxsZWRcIik6dGhpcy5nZXRTdXJ2ZXlzKChpPT57dmFyIHI9aS5maWx0ZXIoKHQ9PnQuaWQ9PT1lKSlbMF07dGhpcy5fc3VydmV5TWFuYWdlci5yZW5kZXJTdXJ2ZXkocixudWxsPT1hP3ZvaWQgMDphLnF1ZXJ5U2VsZWN0b3IodCkpfSkpfX12YXIgJG49dGUoXCJbUmF0ZUxpbWl0ZXJdXCIpO2NsYXNzIE9ue2NvbnN0cnVjdG9yKGUpe3ZhciB0LGk7b2UodGhpcyxcInNlcnZlckxpbWl0c1wiLHt9KSxvZSh0aGlzLFwibGFzdEV2ZW50UmF0ZUxpbWl0ZWRcIiwhMSksb2UodGhpcyxcImNoZWNrRm9yTGltaXRpbmdcIiwoZT0+e3ZhciB0PWUudGV4dDtpZih0JiZ0Lmxlbmd0aCl0cnl7KEpTT04ucGFyc2UodCkucXVvdGFfbGltaXRlZHx8W10pLmZvckVhY2goKGU9Pnskbi5pbmZvKFwiXCIuY29uY2F0KGV8fFwiZXZlbnRzXCIsXCIgaXMgcXVvdGEgbGltaXRlZC5cIikpLHRoaXMuc2VydmVyTGltaXRzW2VdPShuZXcgRGF0ZSkuZ2V0VGltZSgpKzZlNH0pKX1jYXRjaChlKXtyZXR1cm4gdm9pZCAkbi53YXJuKCdjb3VsZCBub3QgcmF0ZSBsaW1pdCAtIGNvbnRpbnVpbmcuIEVycm9yOiBcIicuY29uY2F0KG51bGw9PWU/dm9pZCAwOmUubWVzc2FnZSwnXCInKSx7dGV4dDp0fSl9fSkpLHRoaXMuaW5zdGFuY2U9ZSx0aGlzLmNhcHR1cmVFdmVudHNQZXJTZWNvbmQ9KG51bGw9PT0odD1lLmNvbmZpZy5yYXRlX2xpbWl0aW5nKXx8dm9pZCAwPT09dD92b2lkIDA6dC5ldmVudHNfcGVyX3NlY29uZCl8fDEwLHRoaXMuY2FwdHVyZUV2ZW50c0J1cnN0TGltaXQ9TWF0aC5tYXgoKG51bGw9PT0oaT1lLmNvbmZpZy5yYXRlX2xpbWl0aW5nKXx8dm9pZCAwPT09aT92b2lkIDA6aS5ldmVudHNfYnVyc3RfbGltaXQpfHwxMCp0aGlzLmNhcHR1cmVFdmVudHNQZXJTZWNvbmQsdGhpcy5jYXB0dXJlRXZlbnRzUGVyU2Vjb25kKSx0aGlzLmxhc3RFdmVudFJhdGVMaW1pdGVkPXRoaXMuY2xpZW50UmF0ZUxpbWl0Q29udGV4dCghMCkuaXNSYXRlTGltaXRlZH1jbGllbnRSYXRlTGltaXRDb250ZXh0KCl7dmFyIGUsdCxpLHI9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXSxzPShuZXcgRGF0ZSkuZ2V0VGltZSgpLG49bnVsbCE9PShlPW51bGw9PT0odD10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5nZXRfcHJvcGVydHkoRGUpKSYmdm9pZCAwIT09ZT9lOnt0b2tlbnM6dGhpcy5jYXB0dXJlRXZlbnRzQnVyc3RMaW1pdCxsYXN0OnN9O24udG9rZW5zKz0ocy1uLmxhc3QpLzFlMyp0aGlzLmNhcHR1cmVFdmVudHNQZXJTZWNvbmQsbi5sYXN0PXMsbi50b2tlbnM+dGhpcy5jYXB0dXJlRXZlbnRzQnVyc3RMaW1pdCYmKG4udG9rZW5zPXRoaXMuY2FwdHVyZUV2ZW50c0J1cnN0TGltaXQpO3ZhciBvPW4udG9rZW5zPDE7cmV0dXJuIG98fHJ8fChuLnRva2Vucz1NYXRoLm1heCgwLG4udG9rZW5zLTEpKSwhb3x8dGhpcy5sYXN0RXZlbnRSYXRlTGltaXRlZHx8cnx8dGhpcy5pbnN0YW5jZS5jYXB0dXJlKFwiJCRjbGllbnRfaW5nZXN0aW9uX3dhcm5pbmdcIix7JCRjbGllbnRfaW5nZXN0aW9uX3dhcm5pbmdfbWVzc2FnZTpcInBvc3Rob2ctanMgY2xpZW50IHJhdGUgbGltaXRlZC4gQ29uZmlnIGlzIHNldCB0byBcIi5jb25jYXQodGhpcy5jYXB0dXJlRXZlbnRzUGVyU2Vjb25kLFwiIGV2ZW50cyBwZXIgc2Vjb25kIGFuZCBcIikuY29uY2F0KHRoaXMuY2FwdHVyZUV2ZW50c0J1cnN0TGltaXQsXCIgZXZlbnRzIGJ1cnN0IGxpbWl0LlwiKX0se3NraXBfY2xpZW50X3JhdGVfbGltaXRpbmc6ITB9KSx0aGlzLmxhc3RFdmVudFJhdGVMaW1pdGVkPW8sbnVsbD09PShpPXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1pfHxpLnNldF9wcm9wZXJ0eShEZSxuKSx7aXNSYXRlTGltaXRlZDpvLHJlbWFpbmluZ1Rva2VuczpuLnRva2Vuc319aXNTZXJ2ZXJSYXRlTGltaXRlZChlKXt2YXIgdD10aGlzLnNlcnZlckxpbWl0c1tlfHxcImV2ZW50c1wiXXx8ITE7cmV0dXJuITEhPT10JiYobmV3IERhdGUpLmdldFRpbWUoKTx0fX12YXIgTW49ZT0+e3ZhciB0PW51bGw9PWU/dm9pZCAwOmUuY29uZmlnO3JldHVybiBuZSh7aW5pdGlhbFBhdGhOYW1lOihudWxsPT1sP3ZvaWQgMDpsLnBhdGhuYW1lKXx8XCJcIixyZWZlcnJpbmdEb21haW46RWkucmVmZXJyaW5nRG9tYWluKCl9LEVpLmNhbXBhaWduUGFyYW1zKHtjdXN0b21UcmFja2VkUGFyYW1zOm51bGw9PXQ/dm9pZCAwOnQuY3VzdG9tX2NhbXBhaWduX3BhcmFtcyxtYXNrUGVyc29uYWxEYXRhUHJvcGVydGllczpudWxsPT10P3ZvaWQgMDp0Lm1hc2tfcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzLGN1c3RvbVBlcnNvbmFsRGF0YVByb3BlcnRpZXM6bnVsbD09dD92b2lkIDA6dC5jdXN0b21fcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzfSkpfTtjbGFzcyBBbntjb25zdHJ1Y3RvcihlLHQsaSxyKXtvZSh0aGlzLFwiX29uU2Vzc2lvbklkQ2FsbGJhY2tcIiwoZT0+e3ZhciB0PXRoaXMuX2dldFN0b3JlZFByb3BzKCk7aWYoIXR8fHQuc2Vzc2lvbklkIT09ZSl7dmFyIGk9e3Nlc3Npb25JZDplLHByb3BzOnRoaXMuX3Nlc3Npb25Tb3VyY2VQYXJhbUdlbmVyYXRvcih0aGlzLmluc3RhbmNlKX07dGhpcy5fcGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tMZV06aX0pfX0pKSx0aGlzLmluc3RhbmNlPWUsdGhpcy5fc2Vzc2lvbklkTWFuYWdlcj10LHRoaXMuX3BlcnNpc3RlbmNlPWksdGhpcy5fc2Vzc2lvblNvdXJjZVBhcmFtR2VuZXJhdG9yPXJ8fE1uLHRoaXMuX3Nlc3Npb25JZE1hbmFnZXIub25TZXNzaW9uSWQodGhpcy5fb25TZXNzaW9uSWRDYWxsYmFjayl9X2dldFN0b3JlZFByb3BzKCl7cmV0dXJuIHRoaXMuX3BlcnNpc3RlbmNlLnByb3BzW0xlXX1nZXRTZXNzaW9uUHJvcHMoKXt2YXIgZSx0PW51bGw9PT0oZT10aGlzLl9nZXRTdG9yZWRQcm9wcygpKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5wcm9wcztyZXR1cm4gdD97JGNsaWVudF9zZXNzaW9uX2luaXRpYWxfcmVmZXJyaW5nX2hvc3Q6dC5yZWZlcnJpbmdEb21haW4sJGNsaWVudF9zZXNzaW9uX2luaXRpYWxfcGF0aG5hbWU6dC5pbml0aWFsUGF0aE5hbWUsJGNsaWVudF9zZXNzaW9uX2luaXRpYWxfdXRtX3NvdXJjZTp0LnV0bV9zb3VyY2UsJGNsaWVudF9zZXNzaW9uX2luaXRpYWxfdXRtX2NhbXBhaWduOnQudXRtX2NhbXBhaWduLCRjbGllbnRfc2Vzc2lvbl9pbml0aWFsX3V0bV9tZWRpdW06dC51dG1fbWVkaXVtLCRjbGllbnRfc2Vzc2lvbl9pbml0aWFsX3V0bV9jb250ZW50OnQudXRtX2NvbnRlbnQsJGNsaWVudF9zZXNzaW9uX2luaXRpYWxfdXRtX3Rlcm06dC51dG1fdGVybX06e319fXZhciBMbj1bXCJhaHJlZnNib3RcIixcImFocmVmc3NpdGVhdWRpdFwiLFwiYXBwbGVib3RcIixcImJhaWR1c3BpZGVyXCIsXCJiZXR0ZXIgdXB0aW1lIGJvdFwiLFwiYmluZ2JvdFwiLFwiYmluZ3ByZXZpZXdcIixcImJvdC5odG1cIixcImJvdC5waHBcIixcImNyYXdsZXJcIixcImRlZXBzY2FuXCIsXCJkdWNrZHVja2JvdFwiLFwiZmFjZWJvb2tleHRlcm5hbFwiLFwiZmFjZWJvb2tjYXRhbG9nXCIsXCJodHRwOi8veWFuZGV4LmNvbS9ib3RzXCIsXCJodWJzcG90XCIsXCJpYV9hcmNoaXZlclwiLFwibGlua2VkaW5ib3RcIixcIm1qMTJib3RcIixcIm1zbmJvdFwiLFwibmVzc3VzXCIsXCJwZXRhbGJvdFwiLFwicGludGVyZXN0XCIsXCJwcmVyZW5kZXJcIixcInJvZ2VyYm90XCIsXCJzY3JlYW1pbmcgZnJvZ1wiLFwic2VtcnVzaGJvdFwiLFwic2l0ZWJ1bGJcIixcInNsdXJwXCIsXCJ0dXJuaXRpblwiLFwidHdpdHRlcmJvdFwiLFwidmVyY2VsYm90XCIsXCJ5YWhvbyEgc2x1cnBcIixcInlhbmRleGJvdFwiLFwiZ3B0Ym90XCIsXCJvYWktc2VhcmNoYm90XCIsXCJjaGF0Z3B0LXVzZXJcIixcImhlYWRsZXNzY2hyb21lXCIsXCJjeXByZXNzXCIsXCJHb29nbGUtSG90ZWxBZHNWZXJpZmllclwiLFwiYWRzYm90LWdvb2dsZVwiLFwiYXBpcy1nb29nbGVcIixcImR1cGxleHdlYi1nb29nbGVcIixcImZlZWRmZXRjaGVyLWdvb2dsZVwiLFwiZ29vZ2xlIGZhdmljb25cIixcImdvb2dsZSB3ZWIgcHJldmlld1wiLFwiZ29vZ2xlLXJlYWQtYWxvdWRcIixcImdvb2dsZWJvdFwiLFwiZ29vZ2xld2VibGlnaHRcIixcIm1lZGlhcGFydG5lcnMtZ29vZ2xlXCIsXCJzdG9yZWJvdC1nb29nbGVcIixcIkJ5dGVzcGlkZXI7XCJdLERuPWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuITE7dmFyIGk9ZS50b0xvd2VyQ2FzZSgpO3JldHVybiBMbi5jb25jYXQodHx8W10pLnNvbWUoKGU9Pnt2YXIgdD1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuLTEhPT1pLmluZGV4T2YodCl9KSl9LE5uPWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuITE7dmFyIGk9ZS51c2VyQWdlbnQ7aWYoaSYmRG4oaSx0KSlyZXR1cm4hMDt0cnl7dmFyIHI9bnVsbD09ZT92b2lkIDA6ZS51c2VyQWdlbnREYXRhO2lmKG51bGwhPXImJnIuYnJhbmRzJiZyLmJyYW5kcy5zb21lKChlPT5EbihudWxsPT1lP3ZvaWQgMDplLmJyYW5kLHQpKSkpcmV0dXJuITB9Y2F0Y2goZSl7fXJldHVybiEhZS53ZWJkcml2ZXJ9O2NsYXNzIHFue2NvbnN0cnVjdG9yKCl7dGhpcy5jbGlja3M9W119aXNSYWdlQ2xpY2soZSx0LGkpe3ZhciByPXRoaXMuY2xpY2tzW3RoaXMuY2xpY2tzLmxlbmd0aC0xXTtpZihyJiZNYXRoLmFicyhlLXIueCkrTWF0aC5hYnModC1yLnkpPDMwJiZpLXIudGltZXN0YW1wPDFlMyl7aWYodGhpcy5jbGlja3MucHVzaCh7eDplLHk6dCx0aW1lc3RhbXA6aX0pLDM9PT10aGlzLmNsaWNrcy5sZW5ndGgpcmV0dXJuITB9ZWxzZSB0aGlzLmNsaWNrcz1be3g6ZSx5OnQsdGltZXN0YW1wOml9XTtyZXR1cm4hMX19dmFyIEJuPXRlKFwiW0RlYWQgQ2xpY2tzXVwiKSxIbj0oKT0+ITAsVW49ZT0+e3ZhciB0LGk9IShudWxsPT09KHQ9ZS5pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PXR8fCF0LmdldF9wcm9wZXJ0eSh2ZSkpLHI9ZS5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9kZWFkX2NsaWNrcztyZXR1cm4gSyhyKT9yOml9O2NsYXNzIGpue2dldCBsYXp5TG9hZGVkRGVhZENsaWNrc0F1dG9jYXB0dXJlKCl7cmV0dXJuIHRoaXMuX2xhenlMb2FkZWREZWFkQ2xpY2tzQXV0b2NhcHR1cmV9Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuaW5zdGFuY2U9ZSx0aGlzLmlzRW5hYmxlZD10LHRoaXMub25DYXB0dXJlPWksdGhpcy5zdGFydElmRW5hYmxlZCgpfW9uUmVtb3RlQ29uZmlnKGUpe3RoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UmJnRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1t2ZV06bnVsbD09ZT92b2lkIDA6ZS5jYXB0dXJlRGVhZENsaWNrc30pLHRoaXMuc3RhcnRJZkVuYWJsZWQoKX1zdGFydElmRW5hYmxlZCgpe3RoaXMuaXNFbmFibGVkKHRoaXMpJiZ0aGlzLmxvYWRTY3JpcHQoKCgpPT57dGhpcy5zdGFydCgpfSkpfWxvYWRTY3JpcHQoZSl7dmFyIHQsaSxyO251bGwhPT0odD1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJnZvaWQgMCE9PXQmJnQuaW5pdERlYWRDbGlja3NBdXRvY2FwdHVyZSYmZSgpLG51bGw9PT0oaT1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fHZvaWQgMD09PWl8fG51bGw9PT0ocj1pLmxvYWRFeHRlcm5hbERlcGVuZGVuY3kpfHx2b2lkIDA9PT1yfHxyLmNhbGwoaSx0aGlzLmluc3RhbmNlLFwiZGVhZC1jbGlja3MtYXV0b2NhcHR1cmVcIiwodD0+e3Q/Qm4uZXJyb3IoXCJmYWlsZWQgdG8gbG9hZCBzY3JpcHRcIix0KTplKCl9KSl9c3RhcnQoKXt2YXIgZTtpZihhKXtpZighdGhpcy5fbGF6eUxvYWRlZERlYWRDbGlja3NBdXRvY2FwdHVyZSYmbnVsbCE9PShlPV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmdm9pZCAwIT09ZSYmZS5pbml0RGVhZENsaWNrc0F1dG9jYXB0dXJlKXt2YXIgdD1VKHRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfZGVhZF9jbGlja3MpP3RoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfZGVhZF9jbGlja3M6e307dC5fX29uQ2FwdHVyZT10aGlzLm9uQ2FwdHVyZSx0aGlzLl9sYXp5TG9hZGVkRGVhZENsaWNrc0F1dG9jYXB0dXJlPV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fLmluaXREZWFkQ2xpY2tzQXV0b2NhcHR1cmUodGhpcy5pbnN0YW5jZSx0KSx0aGlzLl9sYXp5TG9hZGVkRGVhZENsaWNrc0F1dG9jYXB0dXJlLnN0YXJ0KGEpLEJuLmluZm8oXCJzdGFydGluZy4uLlwiKX19ZWxzZSBCbi5lcnJvcihcImBkb2N1bWVudGAgbm90IGZvdW5kLiBDYW5ub3Qgc3RhcnQuXCIpfXN0b3AoKXt0aGlzLl9sYXp5TG9hZGVkRGVhZENsaWNrc0F1dG9jYXB0dXJlJiYodGhpcy5fbGF6eUxvYWRlZERlYWRDbGlja3NBdXRvY2FwdHVyZS5zdG9wKCksdGhpcy5fbGF6eUxvYWRlZERlYWRDbGlja3NBdXRvY2FwdHVyZT12b2lkIDAsQm4uaW5mbyhcInN0b3BwaW5nLi4uXCIpKX19dmFyIHpuPXRlKFwiW0hlYXRtYXBzXVwiKTtmdW5jdGlvbiBXbihlKXtyZXR1cm4gVShlKSYmXCJjbGllbnRYXCJpbiBlJiZcImNsaWVudFlcImluIGUmJlkoZS5jbGllbnRYKSYmWShlLmNsaWVudFkpfWNsYXNzIFZue2NvbnN0cnVjdG9yKGUpe3ZhciBpO29lKHRoaXMsXCJyYWdlY2xpY2tzXCIsbmV3IHFuKSxvZSh0aGlzLFwiX2VuYWJsZWRTZXJ2ZXJTaWRlXCIsITEpLG9lKHRoaXMsXCJfaW5pdGlhbGl6ZWRcIiwhMSksb2UodGhpcyxcIl9mbHVzaEludGVydmFsXCIsbnVsbCksdGhpcy5pbnN0YW5jZT1lLHRoaXMuX2VuYWJsZWRTZXJ2ZXJTaWRlPSEobnVsbD09PShpPXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1pfHwhaS5wcm9wc1toZV0pLFIodCxcImJlZm9yZXVubG9hZFwiLHRoaXMuZmx1c2gpfWdldCBmbHVzaEludGVydmFsTWlsbGlzZWNvbmRzKCl7dmFyIGU9NWUzO3JldHVybiBVKHRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfaGVhdG1hcHMpJiZ0aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2hlYXRtYXBzLmZsdXNoX2ludGVydmFsX21pbGxpc2Vjb25kcyYmKGU9dGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9oZWF0bWFwcy5mbHVzaF9pbnRlcnZhbF9taWxsaXNlY29uZHMpLGV9Z2V0IGlzRW5hYmxlZCgpe3JldHVybiB6KHRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfaGVhdG1hcHMpP3oodGhpcy5pbnN0YW5jZS5jb25maWcuZW5hYmxlX2hlYXRtYXBzKT90aGlzLl9lbmFibGVkU2VydmVyU2lkZTp0aGlzLmluc3RhbmNlLmNvbmZpZy5lbmFibGVfaGVhdG1hcHM6ITEhPT10aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2hlYXRtYXBzfXN0YXJ0SWZFbmFibGVkKCl7aWYodGhpcy5pc0VuYWJsZWQpe2lmKHRoaXMuX2luaXRpYWxpemVkKXJldHVybjt6bi5pbmZvKFwic3RhcnRpbmcuLi5cIiksdGhpcy5fc2V0dXBMaXN0ZW5lcnMoKSx0aGlzLl9mbHVzaEludGVydmFsPXNldEludGVydmFsKHRoaXMuZmx1c2guYmluZCh0aGlzKSx0aGlzLmZsdXNoSW50ZXJ2YWxNaWxsaXNlY29uZHMpfWVsc2V7dmFyIGUsdDtjbGVhckludGVydmFsKG51bGwhPT0oZT10aGlzLl9mbHVzaEludGVydmFsKSYmdm9pZCAwIT09ZT9lOnZvaWQgMCksbnVsbD09PSh0PXRoaXMuZGVhZENsaWNrc0NhcHR1cmUpfHx2b2lkIDA9PT10fHx0LnN0b3AoKSx0aGlzLmdldEFuZENsZWFyQnVmZmVyKCl9fW9uUmVtb3RlQ29uZmlnKGUpe3ZhciB0PSEhZS5oZWF0bWFwczt0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlJiZ0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbaGVdOnR9KSx0aGlzLl9lbmFibGVkU2VydmVyU2lkZT10LHRoaXMuc3RhcnRJZkVuYWJsZWQoKX1nZXRBbmRDbGVhckJ1ZmZlcigpe3ZhciBlPXRoaXMuYnVmZmVyO3JldHVybiB0aGlzLmJ1ZmZlcj12b2lkIDAsZX1fb25EZWFkQ2xpY2soZSl7dGhpcy5fb25DbGljayhlLm9yaWdpbmFsRXZlbnQsXCJkZWFkY2xpY2tcIil9X3NldHVwTGlzdGVuZXJzKCl7dCYmYSYmKFIoYSxcImNsaWNrXCIsKGU9PnRoaXMuX29uQ2xpY2soZXx8KG51bGw9PXQ/dm9pZCAwOnQuZXZlbnQpKSkse2NhcHR1cmU6ITB9KSxSKGEsXCJtb3VzZW1vdmVcIiwoZT0+dGhpcy5fb25Nb3VzZU1vdmUoZXx8KG51bGw9PXQ/dm9pZCAwOnQuZXZlbnQpKSkse2NhcHR1cmU6ITB9KSx0aGlzLmRlYWRDbGlja3NDYXB0dXJlPW5ldyBqbih0aGlzLmluc3RhbmNlLEhuLHRoaXMuX29uRGVhZENsaWNrLmJpbmQodGhpcykpLHRoaXMuZGVhZENsaWNrc0NhcHR1cmUuc3RhcnRJZkVuYWJsZWQoKSx0aGlzLl9pbml0aWFsaXplZD0hMCl9X2dldFByb3BlcnRpZXMoZSxpKXt2YXIgcj10aGlzLmluc3RhbmNlLnNjcm9sbE1hbmFnZXIuc2Nyb2xsWSgpLHM9dGhpcy5pbnN0YW5jZS5zY3JvbGxNYW5hZ2VyLnNjcm9sbFgoKSxuPXRoaXMuaW5zdGFuY2Uuc2Nyb2xsTWFuYWdlci5zY3JvbGxFbGVtZW50KCksbz1mdW5jdGlvbihlLGkscil7Zm9yKHZhciBzPWU7cyYmJGkocykmJiFPaShzLFwiYm9keVwiKTspe2lmKHM9PT1yKXJldHVybiExO2lmKCQoaSxudWxsPT10P3ZvaWQgMDp0LmdldENvbXB1dGVkU3R5bGUocykucG9zaXRpb24pKXJldHVybiEwO3M9amkocyl9cmV0dXJuITF9KEhpKGUpLFtcImZpeGVkXCIsXCJzdGlja3lcIl0sbik7cmV0dXJue3g6ZS5jbGllbnRYKyhvPzA6cykseTplLmNsaWVudFkrKG8/MDpyKSx0YXJnZXRfZml4ZWQ6byx0eXBlOml9fV9vbkNsaWNrKGUpe3ZhciB0LGk9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwiY2xpY2tcIjtpZighUmkoZS50YXJnZXQpJiZXbihlKSl7dmFyIHI9dGhpcy5fZ2V0UHJvcGVydGllcyhlLGkpO251bGwhPT0odD10aGlzLnJhZ2VjbGlja3MpJiZ2b2lkIDAhPT10JiZ0LmlzUmFnZUNsaWNrKGUuY2xpZW50WCxlLmNsaWVudFksKG5ldyBEYXRlKS5nZXRUaW1lKCkpJiZ0aGlzLl9jYXB0dXJlKG5lKG5lKHt9LHIpLHt9LHt0eXBlOlwicmFnZWNsaWNrXCJ9KSksdGhpcy5fY2FwdHVyZShyKX19X29uTW91c2VNb3ZlKGUpeyFSaShlLnRhcmdldCkmJlduKGUpJiYoY2xlYXJUaW1lb3V0KHRoaXMuX21vdXNlTW92ZVRpbWVvdXQpLHRoaXMuX21vdXNlTW92ZVRpbWVvdXQ9c2V0VGltZW91dCgoKCk9Pnt0aGlzLl9jYXB0dXJlKHRoaXMuX2dldFByb3BlcnRpZXMoZSxcIm1vdXNlbW92ZVwiKSl9KSw1MDApKX1fY2FwdHVyZShlKXtpZih0KXt2YXIgaT10LmxvY2F0aW9uLmhyZWY7dGhpcy5idWZmZXI9dGhpcy5idWZmZXJ8fHt9LHRoaXMuYnVmZmVyW2ldfHwodGhpcy5idWZmZXJbaV09W10pLHRoaXMuYnVmZmVyW2ldLnB1c2goZSl9fWZsdXNoKCl7dGhpcy5idWZmZXImJiFqKHRoaXMuYnVmZmVyKSYmdGhpcy5pbnN0YW5jZS5jYXB0dXJlKFwiJCRoZWF0bWFwXCIseyRoZWF0bWFwX2RhdGE6dGhpcy5nZXRBbmRDbGVhckJ1ZmZlcigpfSl9fWNsYXNzIEdue2NvbnN0cnVjdG9yKGUpe29lKHRoaXMsXCJfdXBkYXRlU2Nyb2xsRGF0YVwiLCgoKT0+e3ZhciBlLHQsaSxyO3RoaXMuY29udGV4dHx8KHRoaXMuY29udGV4dD17fSk7dmFyIHM9dGhpcy5zY3JvbGxFbGVtZW50KCksbj10aGlzLnNjcm9sbFkoKSxvPXM/TWF0aC5tYXgoMCxzLnNjcm9sbEhlaWdodC1zLmNsaWVudEhlaWdodCk6MCxhPW4rKChudWxsPT1zP3ZvaWQgMDpzLmNsaWVudEhlaWdodCl8fDApLGw9KG51bGw9PXM/dm9pZCAwOnMuc2Nyb2xsSGVpZ2h0KXx8MDt0aGlzLmNvbnRleHQubGFzdFNjcm9sbFk9TWF0aC5jZWlsKG4pLHRoaXMuY29udGV4dC5tYXhTY3JvbGxZPU1hdGgubWF4KG4sbnVsbCE9PShlPXRoaXMuY29udGV4dC5tYXhTY3JvbGxZKSYmdm9pZCAwIT09ZT9lOjApLHRoaXMuY29udGV4dC5tYXhTY3JvbGxIZWlnaHQ9TWF0aC5tYXgobyxudWxsIT09KHQ9dGhpcy5jb250ZXh0Lm1heFNjcm9sbEhlaWdodCkmJnZvaWQgMCE9PXQ/dDowKSx0aGlzLmNvbnRleHQubGFzdENvbnRlbnRZPWEsdGhpcy5jb250ZXh0Lm1heENvbnRlbnRZPU1hdGgubWF4KGEsbnVsbCE9PShpPXRoaXMuY29udGV4dC5tYXhDb250ZW50WSkmJnZvaWQgMCE9PWk/aTowKSx0aGlzLmNvbnRleHQubWF4Q29udGVudEhlaWdodD1NYXRoLm1heChsLG51bGwhPT0ocj10aGlzLmNvbnRleHQubWF4Q29udGVudEhlaWdodCkmJnZvaWQgMCE9PXI/cjowKX0pKSx0aGlzLmluc3RhbmNlPWV9Z2V0Q29udGV4dCgpe3JldHVybiB0aGlzLmNvbnRleHR9cmVzZXRDb250ZXh0KCl7dmFyIGU9dGhpcy5jb250ZXh0O3JldHVybiBzZXRUaW1lb3V0KHRoaXMuX3VwZGF0ZVNjcm9sbERhdGEsMCksZX1zdGFydE1lYXN1cmluZ1Njcm9sbFBvc2l0aW9uKCl7Uih0LFwic2Nyb2xsXCIsdGhpcy5fdXBkYXRlU2Nyb2xsRGF0YSx7Y2FwdHVyZTohMH0pLFIodCxcInNjcm9sbGVuZFwiLHRoaXMuX3VwZGF0ZVNjcm9sbERhdGEse2NhcHR1cmU6ITB9KSxSKHQsXCJyZXNpemVcIix0aGlzLl91cGRhdGVTY3JvbGxEYXRhKX1zY3JvbGxFbGVtZW50KCl7aWYoIXRoaXMuaW5zdGFuY2UuY29uZmlnLnNjcm9sbF9yb290X3NlbGVjdG9yKXJldHVybiBudWxsPT10P3ZvaWQgMDp0LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudDt2YXIgZT1CKHRoaXMuaW5zdGFuY2UuY29uZmlnLnNjcm9sbF9yb290X3NlbGVjdG9yKT90aGlzLmluc3RhbmNlLmNvbmZpZy5zY3JvbGxfcm9vdF9zZWxlY3RvcjpbdGhpcy5pbnN0YW5jZS5jb25maWcuc2Nyb2xsX3Jvb3Rfc2VsZWN0b3JdO2Zvcih2YXIgaSBvZiBlKXt2YXIgcj1udWxsPT10P3ZvaWQgMDp0LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaSk7aWYocilyZXR1cm4gcn19c2Nyb2xsWSgpe2lmKHRoaXMuaW5zdGFuY2UuY29uZmlnLnNjcm9sbF9yb290X3NlbGVjdG9yKXt2YXIgZT10aGlzLnNjcm9sbEVsZW1lbnQoKTtyZXR1cm4gZSYmZS5zY3JvbGxUb3B8fDB9cmV0dXJuIHQmJih0LnNjcm9sbFl8fHQucGFnZVlPZmZzZXR8fHQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCl8fDB9c2Nyb2xsWCgpe2lmKHRoaXMuaW5zdGFuY2UuY29uZmlnLnNjcm9sbF9yb290X3NlbGVjdG9yKXt2YXIgZT10aGlzLnNjcm9sbEVsZW1lbnQoKTtyZXR1cm4gZSYmZS5zY3JvbGxMZWZ0fHwwfXJldHVybiB0JiYodC5zY3JvbGxYfHx0LnBhZ2VYT2Zmc2V0fHx0LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0KXx8MH19dmFyIEpuPXRlKFwiW0F1dG9DYXB0dXJlXVwiKTtmdW5jdGlvbiBZbihlLHQpe3JldHVybiB0Lmxlbmd0aD5lP3Quc2xpY2UoMCxlKStcIi4uLlwiOnR9ZnVuY3Rpb24gS24oZSl7aWYoZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKXJldHVybiBlLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7dmFyIHQ9ZTtkb3t0PXQucHJldmlvdXNTaWJsaW5nfXdoaWxlKHQmJiEkaSh0KSk7cmV0dXJuIHR9ZnVuY3Rpb24gWG4oZSx0LGkscil7dmFyIHM9ZS50YWdOYW1lLnRvTG93ZXJDYXNlKCksbj17dGFnX25hbWU6c307VWkuaW5kZXhPZihzKT4tMSYmIWkmJihcImFcIj09PXMudG9Mb3dlckNhc2UoKXx8XCJidXR0b25cIj09PXMudG9Mb3dlckNhc2UoKT9uLiRlbF90ZXh0PVluKDEwMjQsZXIoZSkpOm4uJGVsX3RleHQ9WW4oMTAyNCxCaShlKSkpO3ZhciBvPU5pKGUpO28ubGVuZ3RoPjAmJihuLmNsYXNzZXM9by5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVyblwiXCIhPT1lfSkpKSx5KGUuYXR0cmlidXRlcywoZnVuY3Rpb24oaSl7dmFyIHM7aWYoKCFWaShlKXx8LTEhPT1bXCJuYW1lXCIsXCJpZFwiLFwiY2xhc3NcIixcImFyaWEtbGFiZWxcIl0uaW5kZXhPZihpLm5hbWUpKSYmKChudWxsPT1yfHwhci5pbmNsdWRlcyhpLm5hbWUpKSYmIXQmJlppKGkudmFsdWUpJiYocz1pLm5hbWUsIVcocyl8fFwiX25nY29udGVudFwiIT09cy5zdWJzdHJpbmcoMCwxMCkmJlwiX25naG9zdFwiIT09cy5zdWJzdHJpbmcoMCw3KSkpKXt2YXIgbz1pLnZhbHVlO1wiY2xhc3NcIj09PWkubmFtZSYmKG89TGkobykuam9pbihcIiBcIikpLG5bXCJhdHRyX19cIitpLm5hbWVdPVluKDEwMjQsbyl9fSkpO2Zvcih2YXIgYT0xLGw9MSx1PWU7dT1Lbih1KTspYSsrLHUudGFnTmFtZT09PWUudGFnTmFtZSYmbCsrO3JldHVybiBuLm50aF9jaGlsZD1hLG4ubnRoX29mX3R5cGU9bCxufWZ1bmN0aW9uIFFuKGUsaSl7Zm9yKHZhciByLHMse2U6bixtYXNrQWxsRWxlbWVudEF0dHJpYnV0ZXM6byxtYXNrQWxsVGV4dDphLGVsZW1lbnRBdHRyaWJ1dGVJZ25vcmVMaXN0OmwsZWxlbWVudHNDaGFpbkFzU3RyaW5nOnV9PWksYz1bZV0sZD1lO2QucGFyZW50Tm9kZSYmIU9pKGQsXCJib2R5XCIpOylBaShkLnBhcmVudE5vZGUpPyhjLnB1c2goZC5wYXJlbnROb2RlLmhvc3QpLGQ9ZC5wYXJlbnROb2RlLmhvc3QpOihjLnB1c2goZC5wYXJlbnROb2RlKSxkPWQucGFyZW50Tm9kZSk7dmFyIGgsXz1bXSxwPXt9LHY9ITEsZz0hMTtpZih5KGMsKGU9Pnt2YXIgdD1XaShlKTtcImFcIj09PWUudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiYodj1lLmdldEF0dHJpYnV0ZShcImhyZWZcIiksdj10JiZ2JiZaaSh2KSYmdiksJChOaShlKSxcInBoLW5vLWNhcHR1cmVcIikmJihnPSEwKSxfLnB1c2goWG4oZSxvLGEsbCkpO3ZhciBpPWZ1bmN0aW9uKGUpe2lmKCFXaShlKSlyZXR1cm57fTt2YXIgdD17fTtyZXR1cm4geShlLmF0dHJpYnV0ZXMsKGZ1bmN0aW9uKGUpe2lmKGUubmFtZSYmMD09PWUubmFtZS5pbmRleE9mKFwiZGF0YS1waC1jYXB0dXJlLWF0dHJpYnV0ZVwiKSl7dmFyIGk9ZS5uYW1lLnJlcGxhY2UoXCJkYXRhLXBoLWNhcHR1cmUtYXR0cmlidXRlLVwiLFwiXCIpLHI9ZS52YWx1ZTtpJiZyJiZaaShyKSYmKHRbaV09cil9fSkpLHR9KGUpO3cocCxpKX0pKSxnKXJldHVybntwcm9wczp7fSxleHBsaWNpdE5vQ2FwdHVyZTpnfTtpZihhfHwoXCJhXCI9PT1lLnRhZ05hbWUudG9Mb3dlckNhc2UoKXx8XCJidXR0b25cIj09PWUudGFnTmFtZS50b0xvd2VyQ2FzZSgpP19bMF0uJGVsX3RleHQ9ZXIoZSk6X1swXS4kZWxfdGV4dD1CaShlKSksdil7dmFyIGYsbTtfWzBdLmF0dHJfX2hyZWY9djt2YXIgYj1udWxsPT09KGY9eXQodikpfHx2b2lkIDA9PT1mP3ZvaWQgMDpmLmhvc3QsUz1udWxsPT10fHxudWxsPT09KG09dC5sb2NhdGlvbil8fHZvaWQgMD09PW0/dm9pZCAwOm0uaG9zdDtiJiZTJiZiIT09UyYmKGg9dil9cmV0dXJue3Byb3BzOncoeyRldmVudF90eXBlOm4udHlwZSwkY2VfdmVyc2lvbjoxfSx1P3t9OnskZWxlbWVudHM6X30seyRlbGVtZW50c19jaGFpbjppcihfKX0sbnVsbCE9PShyPV9bMF0pJiZ2b2lkIDAhPT1yJiZyLiRlbF90ZXh0P3skZWxfdGV4dDpudWxsPT09KHM9X1swXSl8fHZvaWQgMD09PXM/dm9pZCAwOnMuJGVsX3RleHR9Ont9LGgmJlwiY2xpY2tcIj09PW4udHlwZT97JGV4dGVybmFsX2NsaWNrX3VybDpofTp7fSxwKX19Y2xhc3MgWm57Y29uc3RydWN0b3IoZSl7b2UodGhpcyxcIl9pbml0aWFsaXplZFwiLCExKSxvZSh0aGlzLFwiX2lzRGlzYWJsZWRTZXJ2ZXJTaWRlXCIsbnVsbCksb2UodGhpcyxcInJhZ2VjbGlja3NcIixuZXcgcW4pLG9lKHRoaXMsXCJfZWxlbWVudHNDaGFpbkFzU3RyaW5nXCIsITEpLHRoaXMuaW5zdGFuY2U9ZSx0aGlzLl9lbGVtZW50U2VsZWN0b3JzPW51bGx9Z2V0IGNvbmZpZygpe3ZhciBlLHQsaT1VKHRoaXMuaW5zdGFuY2UuY29uZmlnLmF1dG9jYXB0dXJlKT90aGlzLmluc3RhbmNlLmNvbmZpZy5hdXRvY2FwdHVyZTp7fTtyZXR1cm4gaS51cmxfYWxsb3dsaXN0PW51bGw9PT0oZT1pLnVybF9hbGxvd2xpc3QpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLm1hcCgoZT0+bmV3IFJlZ0V4cChlKSkpLGkudXJsX2lnbm9yZWxpc3Q9bnVsbD09PSh0PWkudXJsX2lnbm9yZWxpc3QpfHx2b2lkIDA9PT10P3ZvaWQgMDp0Lm1hcCgoZT0+bmV3IFJlZ0V4cChlKSkpLGl9X2FkZERvbUV2ZW50SGFuZGxlcnMoKXtpZih0aGlzLmlzQnJvd3NlclN1cHBvcnRlZCgpKXtpZih0JiZhKXt2YXIgZT1lPT57ZT1lfHwobnVsbD09dD92b2lkIDA6dC5ldmVudCk7dHJ5e3RoaXMuX2NhcHR1cmVFdmVudChlKX1jYXRjaChlKXtKbi5lcnJvcihcIkZhaWxlZCB0byBjYXB0dXJlIGV2ZW50XCIsZSl9fTtpZihSKGEsXCJzdWJtaXRcIixlLHtjYXB0dXJlOiEwfSksUihhLFwiY2hhbmdlXCIsZSx7Y2FwdHVyZTohMH0pLFIoYSxcImNsaWNrXCIsZSx7Y2FwdHVyZTohMH0pLHRoaXMuY29uZmlnLmNhcHR1cmVfY29waWVkX3RleHQpe3ZhciBpPWU9PntlPWV8fChudWxsPT10P3ZvaWQgMDp0LmV2ZW50KSx0aGlzLl9jYXB0dXJlRXZlbnQoZSx2KX07UihhLFwiY29weVwiLGkse2NhcHR1cmU6ITB9KSxSKGEsXCJjdXRcIixpLHtjYXB0dXJlOiEwfSl9fX1lbHNlIEpuLmluZm8oXCJEaXNhYmxpbmcgQXV0b21hdGljIEV2ZW50IENvbGxlY3Rpb24gYmVjYXVzZSB0aGlzIGJyb3dzZXIgaXMgbm90IHN1cHBvcnRlZFwiKX1zdGFydElmRW5hYmxlZCgpe3RoaXMuaXNFbmFibGVkJiYhdGhpcy5faW5pdGlhbGl6ZWQmJih0aGlzLl9hZGREb21FdmVudEhhbmRsZXJzKCksdGhpcy5faW5pdGlhbGl6ZWQ9ITApfW9uUmVtb3RlQ29uZmlnKGUpe2UuZWxlbWVudHNDaGFpbkFzU3RyaW5nJiYodGhpcy5fZWxlbWVudHNDaGFpbkFzU3RyaW5nPWUuZWxlbWVudHNDaGFpbkFzU3RyaW5nKSx0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlJiZ0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbZGVdOiEhZS5hdXRvY2FwdHVyZV9vcHRfb3V0fSksdGhpcy5faXNEaXNhYmxlZFNlcnZlclNpZGU9ISFlLmF1dG9jYXB0dXJlX29wdF9vdXQsdGhpcy5zdGFydElmRW5hYmxlZCgpfXNldEVsZW1lbnRTZWxlY3RvcnMoZSl7dGhpcy5fZWxlbWVudFNlbGVjdG9ycz1lfWdldEVsZW1lbnRTZWxlY3RvcnMoZSl7dmFyIHQsaT1bXTtyZXR1cm4gbnVsbD09PSh0PXRoaXMuX2VsZW1lbnRTZWxlY3RvcnMpfHx2b2lkIDA9PT10fHx0LmZvckVhY2goKHQ9Pnt2YXIgcj1udWxsPT1hP3ZvaWQgMDphLnF1ZXJ5U2VsZWN0b3JBbGwodCk7bnVsbD09cnx8ci5mb3JFYWNoKChyPT57ZT09PXImJmkucHVzaCh0KX0pKX0pKSxpfWdldCBpc0VuYWJsZWQoKXt2YXIgZSx0LGk9bnVsbD09PShlPXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnByb3BzW2RlXSxyPXRoaXMuX2lzRGlzYWJsZWRTZXJ2ZXJTaWRlO2lmKEcocikmJiFLKGkpJiYhdGhpcy5pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV9kZWNpZGUpcmV0dXJuITE7dmFyIHM9bnVsbCE9PSh0PXRoaXMuX2lzRGlzYWJsZWRTZXJ2ZXJTaWRlKSYmdm9pZCAwIT09dD90OiEhaTtyZXR1cm4hIXRoaXMuaW5zdGFuY2UuY29uZmlnLmF1dG9jYXB0dXJlJiYhc31fY2FwdHVyZUV2ZW50KGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcIiRhdXRvY2FwdHVyZVwiO2lmKHRoaXMuaXNFbmFibGVkKXt2YXIgcixzPUhpKGUpO2lmKE1pKHMpJiYocz1zLnBhcmVudE5vZGV8fG51bGwpLFwiJGF1dG9jYXB0dXJlXCI9PT1pJiZcImNsaWNrXCI9PT1lLnR5cGUmJmUgaW5zdGFuY2VvZiBNb3VzZUV2ZW50KXRoaXMuaW5zdGFuY2UuY29uZmlnLnJhZ2VjbGljayYmbnVsbCE9PShyPXRoaXMucmFnZWNsaWNrcykmJnZvaWQgMCE9PXImJnIuaXNSYWdlQ2xpY2soZS5jbGllbnRYLGUuY2xpZW50WSwobmV3IERhdGUpLmdldFRpbWUoKSkmJnRoaXMuX2NhcHR1cmVFdmVudChlLFwiJHJhZ2VjbGlja1wiKTt2YXIgbj1pPT09djtpZihzJiZ6aShzLGUsdGhpcy5jb25maWcsbixuP1tcImNvcHlcIixcImN1dFwiXTp2b2lkIDApKXt2YXJ7cHJvcHM6byxleHBsaWNpdE5vQ2FwdHVyZTphfT1RbihzLHtlOmUsbWFza0FsbEVsZW1lbnRBdHRyaWJ1dGVzOnRoaXMuaW5zdGFuY2UuY29uZmlnLm1hc2tfYWxsX2VsZW1lbnRfYXR0cmlidXRlcyxtYXNrQWxsVGV4dDp0aGlzLmluc3RhbmNlLmNvbmZpZy5tYXNrX2FsbF90ZXh0LGVsZW1lbnRBdHRyaWJ1dGVJZ25vcmVMaXN0OnRoaXMuY29uZmlnLmVsZW1lbnRfYXR0cmlidXRlX2lnbm9yZWxpc3QsZWxlbWVudHNDaGFpbkFzU3RyaW5nOnRoaXMuX2VsZW1lbnRzQ2hhaW5Bc1N0cmluZ30pO2lmKGEpcmV0dXJuITE7dmFyIGw9dGhpcy5nZXRFbGVtZW50U2VsZWN0b3JzKHMpO2lmKGwmJmwubGVuZ3RoPjAmJihvLiRlbGVtZW50X3NlbGVjdG9ycz1sKSxpPT09dil7dmFyIHUsYz1xaShudWxsPT10fHxudWxsPT09KHU9dC5nZXRTZWxlY3Rpb24oKSl8fHZvaWQgMD09PXU/dm9pZCAwOnUudG9TdHJpbmcoKSksZD1lLnR5cGV8fFwiY2xpcGJvYXJkXCI7aWYoIWMpcmV0dXJuITE7by4kc2VsZWN0ZWRfY29udGVudD1jLG8uJGNvcHlfdHlwZT1kfXJldHVybiB0aGlzLmluc3RhbmNlLmNhcHR1cmUoaSxvKSwhMH19fWlzQnJvd3NlclN1cHBvcnRlZCgpe3JldHVybiBIKG51bGw9PWE/dm9pZCAwOmEucXVlcnlTZWxlY3RvckFsbCl9fXZhciBlbz10ZShcIltUcmFjaW5nSGVhZGVyc11cIik7Y2xhc3MgdG97Y29uc3RydWN0b3IoZSl7b2UodGhpcyxcIl9yZXN0b3JlWEhSUGF0Y2hcIix2b2lkIDApLG9lKHRoaXMsXCJfcmVzdG9yZUZldGNoUGF0Y2hcIix2b2lkIDApLG9lKHRoaXMsXCJfc3RhcnRDYXB0dXJpbmdcIiwoKCk9Pnt2YXIgZSx0LGkscjt6KHRoaXMuX3Jlc3RvcmVYSFJQYXRjaCkmJihudWxsPT09KGU9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHx2b2lkIDA9PT1lfHxudWxsPT09KHQ9ZS50cmFjaW5nSGVhZGVyc1BhdGNoRm5zKXx8dm9pZCAwPT09dHx8dC5fcGF0Y2hYSFIodGhpcy5pbnN0YW5jZS5zZXNzaW9uTWFuYWdlcikpO3oodGhpcy5fcmVzdG9yZUZldGNoUGF0Y2gpJiYobnVsbD09PShpPV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09aXx8bnVsbD09PShyPWkudHJhY2luZ0hlYWRlcnNQYXRjaEZucyl8fHZvaWQgMD09PXJ8fHIuX3BhdGNoRmV0Y2godGhpcy5pbnN0YW5jZS5zZXNzaW9uTWFuYWdlcikpfSkpLHRoaXMuaW5zdGFuY2U9ZX1fbG9hZFNjcmlwdChlKXt2YXIgdCxpLHI7bnVsbCE9PSh0PV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmdm9pZCAwIT09dCYmdC50cmFjaW5nSGVhZGVyc1BhdGNoRm5zJiZlKCksbnVsbD09PShpPV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09aXx8bnVsbD09PShyPWkubG9hZEV4dGVybmFsRGVwZW5kZW5jeSl8fHZvaWQgMD09PXJ8fHIuY2FsbChpLHRoaXMuaW5zdGFuY2UsXCJ0cmFjaW5nLWhlYWRlcnNcIiwodD0+e2lmKHQpcmV0dXJuIGVvLmVycm9yKFwiZmFpbGVkIHRvIGxvYWQgc2NyaXB0XCIsdCk7ZSgpfSkpfXN0YXJ0SWZFbmFibGVkT3JTdG9wKCl7dmFyIGUsdDt0aGlzLmluc3RhbmNlLmNvbmZpZy5fX2FkZF90cmFjaW5nX2hlYWRlcnM/dGhpcy5fbG9hZFNjcmlwdCh0aGlzLl9zdGFydENhcHR1cmluZyk6KG51bGw9PT0oZT10aGlzLl9yZXN0b3JlWEhSUGF0Y2gpfHx2b2lkIDA9PT1lfHxlLmNhbGwodGhpcyksbnVsbD09PSh0PXRoaXMuX3Jlc3RvcmVGZXRjaFBhdGNoKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMpLHRoaXMuX3Jlc3RvcmVYSFJQYXRjaD12b2lkIDAsdGhpcy5fcmVzdG9yZUZldGNoUGF0Y2g9dm9pZCAwKX19dmFyIGlvOyFmdW5jdGlvbihlKXtlW2UuUEVORElORz0tMV09XCJQRU5ESU5HXCIsZVtlLkRFTklFRD0wXT1cIkRFTklFRFwiLGVbZS5HUkFOVEVEPTFdPVwiR1JBTlRFRFwifShpb3x8KGlvPXt9KSk7Y2xhc3Mgcm97Y29uc3RydWN0b3IoZSl7dGhpcy5pbnN0YW5jZT1lfWdldCBjb25maWcoKXtyZXR1cm4gdGhpcy5pbnN0YW5jZS5jb25maWd9Z2V0IGNvbnNlbnQoKXtyZXR1cm4gdGhpcy5nZXREbnQoKT9pby5ERU5JRUQ6dGhpcy5zdG9yZWRDb25zZW50fWlzT3B0ZWRPdXQoKXtyZXR1cm4gdGhpcy5jb25zZW50PT09aW8uREVOSUVEfHx0aGlzLmNvbnNlbnQ9PT1pby5QRU5ESU5HJiZ0aGlzLmNvbmZpZy5vcHRfb3V0X2NhcHR1cmluZ19ieV9kZWZhdWx0fWlzT3B0ZWRJbigpe3JldHVybiF0aGlzLmlzT3B0ZWRPdXQoKX1vcHRJbk91dChlKXt0aGlzLnN0b3JhZ2Uuc2V0KHRoaXMuc3RvcmFnZUtleSxlPzE6MCx0aGlzLmNvbmZpZy5jb29raWVfZXhwaXJhdGlvbix0aGlzLmNvbmZpZy5jcm9zc19zdWJkb21haW5fY29va2llLHRoaXMuY29uZmlnLnNlY3VyZV9jb29raWUpfXJlc2V0KCl7dGhpcy5zdG9yYWdlLnJlbW92ZSh0aGlzLnN0b3JhZ2VLZXksdGhpcy5jb25maWcuY3Jvc3Nfc3ViZG9tYWluX2Nvb2tpZSl9Z2V0IHN0b3JhZ2VLZXkoKXt2YXJ7dG9rZW46ZSxvcHRfb3V0X2NhcHR1cmluZ19jb29raWVfcHJlZml4OnR9PXRoaXMuaW5zdGFuY2UuY29uZmlnO3JldHVybih0fHxcIl9fcGhfb3B0X2luX291dF9cIikrZX1nZXQgc3RvcmVkQ29uc2VudCgpe3ZhciBlPXRoaXMuc3RvcmFnZS5nZXQodGhpcy5zdG9yYWdlS2V5KTtyZXR1cm5cIjFcIj09PWU/aW8uR1JBTlRFRDpcIjBcIj09PWU/aW8uREVOSUVEOmlvLlBFTkRJTkd9Z2V0IHN0b3JhZ2UoKXtpZighdGhpcy5fc3RvcmFnZSl7dmFyIGU9dGhpcy5jb25maWcub3B0X291dF9jYXB0dXJpbmdfcGVyc2lzdGVuY2VfdHlwZTt0aGlzLl9zdG9yYWdlPVwibG9jYWxTdG9yYWdlXCI9PT1lP2h0OmN0O3ZhciB0PVwibG9jYWxTdG9yYWdlXCI9PT1lP2N0Omh0O3QuZ2V0KHRoaXMuc3RvcmFnZUtleSkmJih0aGlzLl9zdG9yYWdlLmdldCh0aGlzLnN0b3JhZ2VLZXkpfHx0aGlzLm9wdEluT3V0KFwiMVwiPT09dC5nZXQodGhpcy5zdG9yYWdlS2V5KSksdC5yZW1vdmUodGhpcy5zdG9yYWdlS2V5LHRoaXMuY29uZmlnLmNyb3NzX3N1YmRvbWFpbl9jb29raWUpKX1yZXR1cm4gdGhpcy5fc3RvcmFnZX1nZXREbnQoKXtyZXR1cm4hIXRoaXMuY29uZmlnLnJlc3BlY3RfZG50JiYhIVQoW251bGw9PW8/dm9pZCAwOm8uZG9Ob3RUcmFjayxudWxsPT1vP3ZvaWQgMDpvLm1zRG9Ob3RUcmFjayxfLmRvTm90VHJhY2tdLChlPT4kKFshMCwxLFwiMVwiLFwieWVzXCJdLGUpKSl9fXZhciBzbz10ZShcIltFeGNlcHRpb25BdXRvY2FwdHVyZV1cIik7Y2xhc3Mgbm97Y29uc3RydWN0b3IoZSl7dmFyIGk7b2UodGhpcyxcIm9yaWdpbmFsT25VbmhhbmRsZWRSZWplY3Rpb25IYW5kbGVyXCIsdm9pZCAwKSxvZSh0aGlzLFwic3RhcnRDYXB0dXJpbmdcIiwoKCk9Pnt2YXIgZSxpLHIscztpZih0JiZ0aGlzLmlzRW5hYmxlZCYmIXRoaXMuaGFzSGFuZGxlcnMmJiF0aGlzLmlzQ2FwdHVyaW5nKXt2YXIgbj1udWxsPT09KGU9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHx2b2lkIDA9PT1lfHxudWxsPT09KGk9ZS5lcnJvcldyYXBwaW5nRnVuY3Rpb25zKXx8dm9pZCAwPT09aT92b2lkIDA6aS53cmFwT25FcnJvcixvPW51bGw9PT0ocj1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fHZvaWQgMD09PXJ8fG51bGw9PT0ocz1yLmVycm9yV3JhcHBpbmdGdW5jdGlvbnMpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLndyYXBVbmhhbmRsZWRSZWplY3Rpb247aWYobiYmbyl0cnl7dGhpcy51bndyYXBPbkVycm9yPW4odGhpcy5jYXB0dXJlRXhjZXB0aW9uLmJpbmQodGhpcykpLHRoaXMudW53cmFwVW5oYW5kbGVkUmVqZWN0aW9uPW8odGhpcy5jYXB0dXJlRXhjZXB0aW9uLmJpbmQodGhpcykpfWNhdGNoKGUpe3NvLmVycm9yKFwiZmFpbGVkIHRvIHN0YXJ0XCIsZSksdGhpcy5zdG9wQ2FwdHVyaW5nKCl9ZWxzZSBzby5lcnJvcihcImZhaWxlZCB0byBsb2FkIGVycm9yIHdyYXBwaW5nIGZ1bmN0aW9ucyAtIGNhbm5vdCBzdGFydFwiKX19KSksdGhpcy5pbnN0YW5jZT1lLHRoaXMucmVtb3RlRW5hYmxlZD0hKG51bGw9PT0oaT10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09aXx8IWkucHJvcHNbX2VdKSx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9Z2V0IGlzRW5hYmxlZCgpe3ZhciBlO3JldHVybiBudWxsIT09KGU9dGhpcy5yZW1vdGVFbmFibGVkKSYmdm9pZCAwIT09ZSYmZX1nZXQgaXNDYXB0dXJpbmcoKXt2YXIgZTtyZXR1cm4hKG51bGw9PXR8fG51bGw9PT0oZT10Lm9uZXJyb3IpfHx2b2lkIDA9PT1lfHwhZS5fX1BPU1RIT0dfSU5TVFJVTUVOVEVEX18pfWdldCBoYXNIYW5kbGVycygpe3JldHVybiB0aGlzLm9yaWdpbmFsT25VbmhhbmRsZWRSZWplY3Rpb25IYW5kbGVyfHx0aGlzLnVud3JhcE9uRXJyb3J9c3RhcnRJZkVuYWJsZWQoKXt0aGlzLmlzRW5hYmxlZCYmIXRoaXMuaXNDYXB0dXJpbmcmJihzby5pbmZvKFwiZW5hYmxlZCwgc3RhcnRpbmcuLi5cIiksdGhpcy5sb2FkU2NyaXB0KHRoaXMuc3RhcnRDYXB0dXJpbmcpKX1sb2FkU2NyaXB0KGUpe3ZhciB0LGk7dGhpcy5oYXNIYW5kbGVycyYmZSgpLG51bGw9PT0odD1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fHZvaWQgMD09PXR8fG51bGw9PT0oaT10LmxvYWRFeHRlcm5hbERlcGVuZGVuY3kpfHx2b2lkIDA9PT1pfHxpLmNhbGwodCx0aGlzLmluc3RhbmNlLFwiZXhjZXB0aW9uLWF1dG9jYXB0dXJlXCIsKHQ9PntpZih0KXJldHVybiBzby5lcnJvcihcImZhaWxlZCB0byBsb2FkIHNjcmlwdFwiLHQpO2UoKX0pKX1zdG9wQ2FwdHVyaW5nKCl7dmFyIGUsdDtudWxsPT09KGU9dGhpcy51bndyYXBPbkVycm9yKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHRoaXMpLG51bGw9PT0odD10aGlzLnVud3JhcFVuaGFuZGxlZFJlamVjdGlvbil8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzKX1vblJlbW90ZUNvbmZpZyhlKXt2YXIgdD1lLmF1dG9jYXB0dXJlRXhjZXB0aW9uczt0aGlzLnJlbW90ZUVuYWJsZWQ9ISF0fHwhMSx0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlJiZ0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbX2VdOnRoaXMucmVtb3RlRW5hYmxlZH0pLHRoaXMuc3RhcnRJZkVuYWJsZWQoKX1jYXB0dXJlRXhjZXB0aW9uKGUpe3ZhciB0PXRoaXMuaW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcInVpXCIpO2UuJGV4Y2VwdGlvbl9wZXJzb25VUkw9XCJcIi5jb25jYXQodCxcIi9wcm9qZWN0L1wiKS5jb25jYXQodGhpcy5pbnN0YW5jZS5jb25maWcudG9rZW4sXCIvcGVyc29uL1wiKS5jb25jYXQodGhpcy5pbnN0YW5jZS5nZXRfZGlzdGluY3RfaWQoKSksdGhpcy5pbnN0YW5jZS5leGNlcHRpb25zLnNlbmRFeGNlcHRpb25FdmVudChlKX19dmFyIG9vPXRlKFwiW1dlYiBWaXRhbHNdXCIpLGFvPTllNTtjbGFzcyBsb3tjb25zdHJ1Y3RvcihlKXt2YXIgdDtvZSh0aGlzLFwiX2VuYWJsZWRTZXJ2ZXJTaWRlXCIsITEpLG9lKHRoaXMsXCJfaW5pdGlhbGl6ZWRcIiwhMSksb2UodGhpcyxcImJ1ZmZlclwiLHt1cmw6dm9pZCAwLG1ldHJpY3M6W10sZmlyc3RNZXRyaWNUaW1lc3RhbXA6dm9pZCAwfSksb2UodGhpcyxcIl9mbHVzaFRvQ2FwdHVyZVwiLCgoKT0+e2NsZWFyVGltZW91dCh0aGlzLl9kZWxheWVkRmx1c2hUaW1lciksMCE9PXRoaXMuYnVmZmVyLm1ldHJpY3MubGVuZ3RoJiYodGhpcy5pbnN0YW5jZS5jYXB0dXJlKFwiJHdlYl92aXRhbHNcIix0aGlzLmJ1ZmZlci5tZXRyaWNzLnJlZHVjZSgoKGUsdCk9Pm5lKG5lKHt9LGUpLHt9LHtbXCIkd2ViX3ZpdGFsc19cIi5jb25jYXQodC5uYW1lLFwiX2V2ZW50XCIpXTpuZSh7fSx0KSxbXCIkd2ViX3ZpdGFsc19cIi5jb25jYXQodC5uYW1lLFwiX3ZhbHVlXCIpXTp0LnZhbHVlfSkpLHt9KSksdGhpcy5idWZmZXI9e3VybDp2b2lkIDAsbWV0cmljczpbXSxmaXJzdE1ldHJpY1RpbWVzdGFtcDp2b2lkIDB9KX0pKSxvZSh0aGlzLFwiX2FkZFRvQnVmZmVyXCIsKGU9Pnt2YXIgdCxpPW51bGw9PT0odD10aGlzLmluc3RhbmNlLnNlc3Npb25NYW5hZ2VyKXx8dm9pZCAwPT09dD92b2lkIDA6dC5jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCghMCk7aWYoeihpKSlvby5lcnJvcihcIkNvdWxkIG5vdCByZWFkIHNlc3Npb24gSUQuIERyb3BwaW5nIG1ldHJpY3MhXCIpO2Vsc2V7dGhpcy5idWZmZXI9dGhpcy5idWZmZXJ8fHt1cmw6dm9pZCAwLG1ldHJpY3M6W10sZmlyc3RNZXRyaWNUaW1lc3RhbXA6dm9pZCAwfTt2YXIgcj10aGlzLl9jdXJyZW50VVJMKCk7aWYoIXoocikpaWYoSihudWxsPT1lP3ZvaWQgMDplLm5hbWUpfHxKKG51bGw9PWU/dm9pZCAwOmUudmFsdWUpKW9vLmVycm9yKFwiSW52YWxpZCBtZXRyaWMgcmVjZWl2ZWRcIixlKTtlbHNlIGlmKHRoaXMuX21heEFsbG93ZWRWYWx1ZSYmZS52YWx1ZT49dGhpcy5fbWF4QWxsb3dlZFZhbHVlKW9vLmVycm9yKFwiSWdub3JpbmcgbWV0cmljIHdpdGggdmFsdWUgPj0gXCIrdGhpcy5fbWF4QWxsb3dlZFZhbHVlLGUpO2Vsc2UgdGhpcy5idWZmZXIudXJsIT09ciYmKHRoaXMuX2ZsdXNoVG9DYXB0dXJlKCksdGhpcy5fZGVsYXllZEZsdXNoVGltZXI9c2V0VGltZW91dCh0aGlzLl9mbHVzaFRvQ2FwdHVyZSx0aGlzLmZsdXNoVG9DYXB0dXJlVGltZW91dE1zKSkseih0aGlzLmJ1ZmZlci51cmwpJiYodGhpcy5idWZmZXIudXJsPXIpLHRoaXMuYnVmZmVyLmZpcnN0TWV0cmljVGltZXN0YW1wPXoodGhpcy5idWZmZXIuZmlyc3RNZXRyaWNUaW1lc3RhbXApP0RhdGUubm93KCk6dGhpcy5idWZmZXIuZmlyc3RNZXRyaWNUaW1lc3RhbXAsZS5hdHRyaWJ1dGlvbiYmZS5hdHRyaWJ1dGlvbi5pbnRlcmFjdGlvblRhcmdldEVsZW1lbnQmJihlLmF0dHJpYnV0aW9uLmludGVyYWN0aW9uVGFyZ2V0RWxlbWVudD12b2lkIDApLHRoaXMuYnVmZmVyLm1ldHJpY3MucHVzaChuZShuZSh7fSxlKSx7fSx7JGN1cnJlbnRfdXJsOnIsJHNlc3Npb25faWQ6aS5zZXNzaW9uSWQsJHdpbmRvd19pZDppLndpbmRvd0lkLHRpbWVzdGFtcDpEYXRlLm5vdygpfSkpLHRoaXMuYnVmZmVyLm1ldHJpY3MubGVuZ3RoPT09dGhpcy5hbGxvd2VkTWV0cmljcy5sZW5ndGgmJnRoaXMuX2ZsdXNoVG9DYXB0dXJlKCl9fSkpLG9lKHRoaXMsXCJfc3RhcnRDYXB0dXJpbmdcIiwoKCk9Pnt2YXIgZSx0LGkscixzPV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fO3oocyl8fHoocy5wb3N0SG9nV2ViVml0YWxzQ2FsbGJhY2tzKXx8KHtvbkxDUDplLG9uQ0xTOnQsb25GQ1A6aSxvbklOUDpyfT1zLnBvc3RIb2dXZWJWaXRhbHNDYWxsYmFja3MpLGUmJnQmJmkmJnI/KHRoaXMuYWxsb3dlZE1ldHJpY3MuaW5kZXhPZihcIkxDUFwiKT4tMSYmZSh0aGlzLl9hZGRUb0J1ZmZlci5iaW5kKHRoaXMpKSx0aGlzLmFsbG93ZWRNZXRyaWNzLmluZGV4T2YoXCJDTFNcIik+LTEmJnQodGhpcy5fYWRkVG9CdWZmZXIuYmluZCh0aGlzKSksdGhpcy5hbGxvd2VkTWV0cmljcy5pbmRleE9mKFwiRkNQXCIpPi0xJiZpKHRoaXMuX2FkZFRvQnVmZmVyLmJpbmQodGhpcykpLHRoaXMuYWxsb3dlZE1ldHJpY3MuaW5kZXhPZihcIklOUFwiKT4tMSYmcih0aGlzLl9hZGRUb0J1ZmZlci5iaW5kKHRoaXMpKSx0aGlzLl9pbml0aWFsaXplZD0hMCk6b28uZXJyb3IoXCJ3ZWIgdml0YWxzIGNhbGxiYWNrcyBub3QgbG9hZGVkIC0gbm90IHN0YXJ0aW5nXCIpfSkpLHRoaXMuaW5zdGFuY2U9ZSx0aGlzLl9lbmFibGVkU2VydmVyU2lkZT0hKG51bGw9PT0odD10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dHx8IXQucHJvcHNbcGVdKSx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9Z2V0IGFsbG93ZWRNZXRyaWNzKCl7dmFyIGUsdCxpPVUodGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZSk/bnVsbD09PShlPXRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLndlYl92aXRhbHNfYWxsb3dlZF9tZXRyaWNzOnZvaWQgMDtyZXR1cm4geihpKT8obnVsbD09PSh0PXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnByb3BzW2dlXSl8fFtcIkNMU1wiLFwiRkNQXCIsXCJJTlBcIixcIkxDUFwiXTppfWdldCBmbHVzaFRvQ2FwdHVyZVRpbWVvdXRNcygpe3JldHVybihVKHRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UpP3RoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2Uud2ViX3ZpdGFsc19kZWxheWVkX2ZsdXNoX21zOnZvaWQgMCl8fDVlM31nZXQgX21heEFsbG93ZWRWYWx1ZSgpe3ZhciBlPVUodGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZSkmJlkodGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZS5fX3dlYl92aXRhbHNfbWF4X3ZhbHVlKT90aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlLl9fd2ViX3ZpdGFsc19tYXhfdmFsdWU6YW87cmV0dXJuIDA8ZSYmZTw9NmU0P2FvOmV9Z2V0IGlzRW5hYmxlZCgpe3ZhciBlPVUodGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZSk/dGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZS53ZWJfdml0YWxzOnZvaWQgMDtyZXR1cm4gSyhlKT9lOnRoaXMuX2VuYWJsZWRTZXJ2ZXJTaWRlfXN0YXJ0SWZFbmFibGVkKCl7dGhpcy5pc0VuYWJsZWQmJiF0aGlzLl9pbml0aWFsaXplZCYmKG9vLmluZm8oXCJlbmFibGVkLCBzdGFydGluZy4uLlwiKSx0aGlzLmxvYWRTY3JpcHQodGhpcy5fc3RhcnRDYXB0dXJpbmcpKX1vblJlbW90ZUNvbmZpZyhlKXt2YXIgdD1VKGUuY2FwdHVyZVBlcmZvcm1hbmNlKSYmISFlLmNhcHR1cmVQZXJmb3JtYW5jZS53ZWJfdml0YWxzLGk9VShlLmNhcHR1cmVQZXJmb3JtYW5jZSk/ZS5jYXB0dXJlUGVyZm9ybWFuY2Uud2ViX3ZpdGFsc19hbGxvd2VkX21ldHJpY3M6dm9pZCAwO3RoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UmJih0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbcGVdOnR9KSx0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbZ2VdOml9KSksdGhpcy5fZW5hYmxlZFNlcnZlclNpZGU9dCx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9bG9hZFNjcmlwdChlKXt2YXIgdCxpLHI7bnVsbCE9PSh0PV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmdm9pZCAwIT09dCYmdC5wb3N0SG9nV2ViVml0YWxzQ2FsbGJhY2tzJiZlKCksbnVsbD09PShpPV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09aXx8bnVsbD09PShyPWkubG9hZEV4dGVybmFsRGVwZW5kZW5jeSl8fHZvaWQgMD09PXJ8fHIuY2FsbChpLHRoaXMuaW5zdGFuY2UsXCJ3ZWItdml0YWxzXCIsKHQ9Pnt0P29vLmVycm9yKFwiZmFpbGVkIHRvIGxvYWQgc2NyaXB0XCIsdCk6ZSgpfSkpfV9jdXJyZW50VVJMKCl7dmFyIGU9dD90LmxvY2F0aW9uLmhyZWY6dm9pZCAwO3JldHVybiBlfHxvby5lcnJvcihcIkNvdWxkIG5vdCBkZXRlcm1pbmUgY3VycmVudCBVUkxcIiksZX19dmFyIHVvPXtpY29udGFpbnM6KGUsaSk9PiEhdCYmaS5ocmVmLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihlLnRvTG93ZXJDYXNlKCkpPi0xLG5vdF9pY29udGFpbnM6KGUsaSk9PiEhdCYmLTE9PT1pLmhyZWYudG9Mb3dlckNhc2UoKS5pbmRleE9mKGUudG9Mb3dlckNhc2UoKSkscmVnZXg6KGUsaSk9PiEhdCYmQShpLmhyZWYsZSksbm90X3JlZ2V4OihlLGkpPT4hIXQmJiFBKGkuaHJlZixlKSxleGFjdDooZSx0KT0+dC5ocmVmPT09ZSxpc19ub3Q6KGUsdCk9PnQuaHJlZiE9PWV9O2NsYXNzIGNve2NvbnN0cnVjdG9yKGUpe3ZhciB0PXRoaXM7b2UodGhpcyxcImdldFdlYkV4cGVyaW1lbnRzQW5kRXZhbHVhdGVEaXNwbGF5TG9naWNcIiwoZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3QuZ2V0V2ViRXhwZXJpbWVudHMoKGU9Pntjby5sb2dJbmZvKFwicmV0cmlldmVkIHdlYiBleHBlcmltZW50cyBmcm9tIHRoZSBzZXJ2ZXJcIiksdC5fZmxhZ1RvRXhwZXJpbWVudHM9bmV3IE1hcCxlLmZvckVhY2goKGU9PntpZihlLmZlYXR1cmVfZmxhZ19rZXkpe3ZhciBpO2lmKHQuX2ZsYWdUb0V4cGVyaW1lbnRzKWNvLmxvZ0luZm8oXCJzZXR0aW5nIGZsYWcga2V5IFwiLGUuZmVhdHVyZV9mbGFnX2tleSxcIiB0byB3ZWIgZXhwZXJpbWVudCBcIixlKSxudWxsPT09KGk9dC5fZmxhZ1RvRXhwZXJpbWVudHMpfHx2b2lkIDA9PT1pfHxpLnNldChlLmZlYXR1cmVfZmxhZ19rZXksZSk7dmFyIHI9dC5pbnN0YW5jZS5nZXRGZWF0dXJlRmxhZyhlLmZlYXR1cmVfZmxhZ19rZXkpO1cocikmJmUudmFyaWFudHNbcl0mJnQuYXBwbHlUcmFuc2Zvcm1zKGUubmFtZSxyLGUudmFyaWFudHNbcl0udHJhbnNmb3Jtcyl9ZWxzZSBpZihlLnZhcmlhbnRzKWZvcih2YXIgcyBpbiBlLnZhcmlhbnRzKXt2YXIgbj1lLnZhcmlhbnRzW3NdO2NvLm1hdGNoZXNUZXN0VmFyaWFudChuKSYmdC5hcHBseVRyYW5zZm9ybXMoZS5uYW1lLHMsbi50cmFuc2Zvcm1zKX19KSl9KSxlKX0pKSx0aGlzLmluc3RhbmNlPWUsdGhpcy5pbnN0YW5jZS5vbkZlYXR1cmVGbGFncygoZT0+e3RoaXMub25GZWF0dXJlRmxhZ3MoZSl9KSl9b25GZWF0dXJlRmxhZ3MoZSl7aWYodGhpcy5faXNfYm90KCkpY28ubG9nSW5mbyhcIlJlZnVzaW5nIHRvIHJlbmRlciB3ZWIgZXhwZXJpbWVudCBzaW5jZSB0aGUgdmlld2VyIGlzIGEgbGlrZWx5IGJvdFwiKTtlbHNlIGlmKCF0aGlzLmluc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3dlYl9leHBlcmltZW50cyl7aWYoSih0aGlzLl9mbGFnVG9FeHBlcmltZW50cykpcmV0dXJuIHRoaXMuX2ZsYWdUb0V4cGVyaW1lbnRzPW5ldyBNYXAsdGhpcy5sb2FkSWZFbmFibGVkKCksdm9pZCB0aGlzLnByZXZpZXdXZWJFeHBlcmltZW50KCk7Y28ubG9nSW5mbyhcImFwcGx5aW5nIGZlYXR1cmUgZmxhZ3NcIixlKSxlLmZvckVhY2goKGU9Pnt2YXIgdDtpZih0aGlzLl9mbGFnVG9FeHBlcmltZW50cyYmbnVsbCE9PSh0PXRoaXMuX2ZsYWdUb0V4cGVyaW1lbnRzKSYmdm9pZCAwIT09dCYmdC5oYXMoZSkpe3ZhciBpLHI9dGhpcy5pbnN0YW5jZS5nZXRGZWF0dXJlRmxhZyhlKSxzPW51bGw9PT0oaT10aGlzLl9mbGFnVG9FeHBlcmltZW50cyl8fHZvaWQgMD09PWk/dm9pZCAwOmkuZ2V0KGUpO3ImJm51bGwhPXMmJnMudmFyaWFudHNbcl0mJnRoaXMuYXBwbHlUcmFuc2Zvcm1zKHMubmFtZSxyLHMudmFyaWFudHNbcl0udHJhbnNmb3Jtcyl9fSkpfX1wcmV2aWV3V2ViRXhwZXJpbWVudCgpe3ZhciBlPWNvLmdldFdpbmRvd0xvY2F0aW9uKCk7aWYobnVsbCE9ZSYmZS5zZWFyY2gpe3ZhciB0PVN0KG51bGw9PWU/dm9pZCAwOmUuc2VhcmNoLFwiX19leHBlcmltZW50X2lkXCIpLGk9U3QobnVsbD09ZT92b2lkIDA6ZS5zZWFyY2gsXCJfX2V4cGVyaW1lbnRfdmFyaWFudFwiKTt0JiZpJiYoY28ubG9nSW5mbyhcInByZXZpZXdpbmcgd2ViIGV4cGVyaW1lbnRzIFwiLmNvbmNhdCh0LFwiICYmIFwiKS5jb25jYXQoaSkpLHRoaXMuZ2V0V2ViRXhwZXJpbWVudHMoKGU9Pnt0aGlzLnNob3dQcmV2aWV3V2ViRXhwZXJpbWVudChwYXJzZUludCh0KSxpLGUpfSksITEsITApKX19bG9hZElmRW5hYmxlZCgpe3RoaXMuaW5zdGFuY2UuY29uZmlnLmRpc2FibGVfd2ViX2V4cGVyaW1lbnRzfHx0aGlzLmdldFdlYkV4cGVyaW1lbnRzQW5kRXZhbHVhdGVEaXNwbGF5TG9naWMoKX1nZXRXZWJFeHBlcmltZW50cyhlLHQsaSl7aWYodGhpcy5pbnN0YW5jZS5jb25maWcuZGlzYWJsZV93ZWJfZXhwZXJpbWVudHMmJiFpKXJldHVybiBlKFtdKTt2YXIgcj10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShcIiR3ZWJfZXhwZXJpbWVudHNcIik7aWYociYmIXQpcmV0dXJuIGUocik7dGhpcy5pbnN0YW5jZS5fc2VuZF9yZXF1ZXN0KHt1cmw6dGhpcy5pbnN0YW5jZS5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwiYXBpXCIsXCIvYXBpL3dlYl9leHBlcmltZW50cy8/dG9rZW49XCIuY29uY2F0KHRoaXMuaW5zdGFuY2UuY29uZmlnLnRva2VuKSksbWV0aG9kOlwiR0VUXCIsY2FsbGJhY2s6dD0+e2lmKDIwMCE9PXQuc3RhdHVzQ29kZXx8IXQuanNvbilyZXR1cm4gZShbXSk7dmFyIGk9dC5qc29uLmV4cGVyaW1lbnRzfHxbXTtyZXR1cm4gZShpKX19KX1zaG93UHJldmlld1dlYkV4cGVyaW1lbnQoZSx0LGkpe3ZhciByPWkuZmlsdGVyKCh0PT50LmlkPT09ZSkpO3ImJnIubGVuZ3RoPjAmJihjby5sb2dJbmZvKFwiUHJldmlld2luZyB3ZWIgZXhwZXJpbWVudCBbXCIuY29uY2F0KHJbMF0ubmFtZSxcIl0gd2l0aCB2YXJpYW50IFtcIikuY29uY2F0KHQsXCJdXCIpKSx0aGlzLmFwcGx5VHJhbnNmb3JtcyhyWzBdLm5hbWUsdCxyWzBdLnZhcmlhbnRzW3RdLnRyYW5zZm9ybXMpKX1zdGF0aWMgbWF0Y2hlc1Rlc3RWYXJpYW50KGUpe3JldHVybiFKKGUuY29uZGl0aW9ucykmJihjby5tYXRjaFVybENvbmRpdGlvbnMoZSkmJmNvLm1hdGNoVVRNQ29uZGl0aW9ucyhlKSl9c3RhdGljIG1hdGNoVXJsQ29uZGl0aW9ucyhlKXt2YXIgdDtpZihKKGUuY29uZGl0aW9ucyl8fEoobnVsbD09PSh0PWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQudXJsKSlyZXR1cm4hMDt2YXIgaSxyLHMsbj1jby5nZXRXaW5kb3dMb2NhdGlvbigpO3JldHVybiEhbiYmKG51bGw9PT0oaT1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1pfHwhaS51cmx8fHVvW251bGwhPT0ocj1udWxsPT09KHM9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09cz92b2lkIDA6cy51cmxNYXRjaFR5cGUpJiZ2b2lkIDAhPT1yP3I6XCJpY29udGFpbnNcIl0oZS5jb25kaXRpb25zLnVybCxuKSl9c3RhdGljIGdldFdpbmRvd0xvY2F0aW9uKCl7cmV0dXJuIG51bGw9PXQ/dm9pZCAwOnQubG9jYXRpb259c3RhdGljIG1hdGNoVVRNQ29uZGl0aW9ucyhlKXt2YXIgdDtpZihKKGUuY29uZGl0aW9ucyl8fEoobnVsbD09PSh0PWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQudXRtKSlyZXR1cm4hMDt2YXIgaT1FaS5jYW1wYWlnblBhcmFtcygpO2lmKGkudXRtX3NvdXJjZSl7dmFyIHIscyxuLG8sYSxsLHUsYyxkLGgsXyxwLHYsZyxmLG0sYj1udWxsPT09KHI9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09cnx8bnVsbD09PShzPXIudXRtKXx8dm9pZCAwPT09c3x8IXMudXRtX2NhbXBhaWdufHwobnVsbD09PShuPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PW58fG51bGw9PT0obz1uLnV0bSl8fHZvaWQgMD09PW8/dm9pZCAwOm8udXRtX2NhbXBhaWduKT09aS51dG1fY2FtcGFpZ24seT1udWxsPT09KGE9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09YXx8bnVsbD09PShsPWEudXRtKXx8dm9pZCAwPT09bHx8IWwudXRtX3NvdXJjZXx8KG51bGw9PT0odT1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT11fHxudWxsPT09KGM9dS51dG0pfHx2b2lkIDA9PT1jP3ZvaWQgMDpjLnV0bV9zb3VyY2UpPT1pLnV0bV9zb3VyY2Usdz1udWxsPT09KGQ9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09ZHx8bnVsbD09PShoPWQudXRtKXx8dm9pZCAwPT09aHx8IWgudXRtX21lZGl1bXx8KG51bGw9PT0oXz1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1ffHxudWxsPT09KHA9Xy51dG0pfHx2b2lkIDA9PT1wP3ZvaWQgMDpwLnV0bV9tZWRpdW0pPT1pLnV0bV9tZWRpdW0sUz1udWxsPT09KHY9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09dnx8bnVsbD09PShnPXYudXRtKXx8dm9pZCAwPT09Z3x8IWcudXRtX3Rlcm18fChudWxsPT09KGY9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09Znx8bnVsbD09PShtPWYudXRtKXx8dm9pZCAwPT09bT92b2lkIDA6bS51dG1fdGVybSk9PWkudXRtX3Rlcm07cmV0dXJuIGImJncmJlMmJnl9cmV0dXJuITF9c3RhdGljIGxvZ0luZm8oZSl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkodD4xP3QtMTowKSxyPTE7cjx0O3IrKylpW3ItMV09YXJndW1lbnRzW3JdO2VlLmluZm8oXCJbV2ViRXhwZXJpbWVudHNdIFwiLmNvbmNhdChlKSxpKX1hcHBseVRyYW5zZm9ybXMoZSx0LGkpe3RoaXMuX2lzX2JvdCgpP2NvLmxvZ0luZm8oXCJSZWZ1c2luZyB0byByZW5kZXIgd2ViIGV4cGVyaW1lbnQgc2luY2UgdGhlIHZpZXdlciBpcyBhIGxpa2VseSBib3RcIik6XCJjb250cm9sXCIhPT10P2kuZm9yRWFjaCgoaT0+e2lmKGkuc2VsZWN0b3Ipe3ZhciByO2NvLmxvZ0luZm8oXCJhcHBseWluZyB0cmFuc2Zvcm0gb2YgdmFyaWFudCBcIi5jb25jYXQodCxcIiBmb3IgZXhwZXJpbWVudCBcIikuY29uY2F0KGUsXCIgXCIpLGkpO3ZhciBzPW51bGw9PT0ocj1kb2N1bWVudCl8fHZvaWQgMD09PXI/dm9pZCAwOnIucXVlcnlTZWxlY3RvckFsbChpLnNlbGVjdG9yKTtudWxsPT1zfHxzLmZvckVhY2goKGU9Pnt2YXIgdD1lO2kuYXR0cmlidXRlcyYmaS5hdHRyaWJ1dGVzLmZvckVhY2goKGU9Pntzd2l0Y2goZS5uYW1lKXtjYXNlXCJ0ZXh0XCI6dC5pbm5lclRleHQ9ZS52YWx1ZTticmVhaztjYXNlXCJodG1sXCI6dC5pbm5lckhUTUw9ZS52YWx1ZTticmVhaztjYXNlXCJjc3NDbGFzc1wiOnQuY2xhc3NOYW1lPWUudmFsdWU7YnJlYWs7ZGVmYXVsdDp0LnNldEF0dHJpYnV0ZShlLm5hbWUsZS52YWx1ZSl9fSkpLGkudGV4dCYmKHQuaW5uZXJUZXh0PWkudGV4dCksaS5odG1sJiYodC5wYXJlbnRFbGVtZW50P3QucGFyZW50RWxlbWVudC5pbm5lckhUTUw9aS5odG1sOnQuaW5uZXJIVE1MPWkuaHRtbCksaS5jc3MmJnQuc2V0QXR0cmlidXRlKFwic3R5bGVcIixpLmNzcyl9KSl9fSkpOmNvLmxvZ0luZm8oXCJDb250cm9sIHZhcmlhbnRzIGxlYXZlIHRoZSBwYWdlIHVubW9kaWZpZWQuXCIpfV9pc19ib3QoKXtyZXR1cm4gbyYmdGhpcy5pbnN0YW5jZT9ObihvLHRoaXMuaW5zdGFuY2UuY29uZmlnLmN1c3RvbV9ibG9ja2VkX3VzZXJhZ2VudHMpOnZvaWQgMH19Y2xhc3MgaG97Y29uc3RydWN0b3IoZSl7dGhpcy5pbnN0YW5jZT1lfXNlbmRFeGNlcHRpb25FdmVudChlKXt0aGlzLmluc3RhbmNlLmNhcHR1cmUoXCIkZXhjZXB0aW9uXCIsZSx7X25vVHJ1bmNhdGU6ITAsX2JhdGNoS2V5OlwiZXhjZXB0aW9uRXZlbnRcIn0pfX12YXIgX289W1wiJHNldF9vbmNlXCIsXCIkc2V0XCJdLHBvPXRlKFwiW1NpdGVBcHBzXVwiKTtjbGFzcyB2b3tjb25zdHJ1Y3RvcihlKXt0aGlzLmluc3RhbmNlPWUsdGhpcy5idWZmZXJlZEludm9jYXRpb25zPVtdLHRoaXMuYXBwcz17fX1nZXQgaXNFbmFibGVkKCl7cmV0dXJuISF0aGlzLmluc3RhbmNlLmNvbmZpZy5vcHRfaW5fc2l0ZV9hcHBzfWV2ZW50Q29sbGVjdG9yKGUsdCl7aWYodCl7dmFyIGk9dGhpcy5nbG9iYWxzRm9yRXZlbnQodCk7dGhpcy5idWZmZXJlZEludm9jYXRpb25zLnB1c2goaSksdGhpcy5idWZmZXJlZEludm9jYXRpb25zLmxlbmd0aD4xZTMmJih0aGlzLmJ1ZmZlcmVkSW52b2NhdGlvbnM9dGhpcy5idWZmZXJlZEludm9jYXRpb25zLnNsaWNlKDEwKSl9fWdldCBzaXRlQXBwTG9hZGVycygpe3ZhciBlLHQ7cmV0dXJuIG51bGw9PT0oZT1fLl9QT1NUSE9HX1JFTU9URV9DT05GSUcpfHx2b2lkIDA9PT1lfHxudWxsPT09KHQ9ZVt0aGlzLmluc3RhbmNlLmNvbmZpZy50b2tlbl0pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnNpdGVBcHBzfWluaXQoKXtpZih0aGlzLmlzRW5hYmxlZCl7dmFyIGU9dGhpcy5pbnN0YW5jZS5fYWRkQ2FwdHVyZUhvb2sodGhpcy5ldmVudENvbGxlY3Rvci5iaW5kKHRoaXMpKTt0aGlzLnN0b3BCdWZmZXJpbmc9KCk9PntlKCksdGhpcy5idWZmZXJlZEludm9jYXRpb25zPVtdLHRoaXMuc3RvcEJ1ZmZlcmluZz12b2lkIDB9fX1nbG9iYWxzRm9yRXZlbnQoZSl7dmFyIHQsaSxyLHMsbixvLGE7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiRXZlbnQgcGF5bG9hZCBpcyByZXF1aXJlZFwiKTt2YXIgbD17fSx1PXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KFwiJGdyb3Vwc1wiKXx8W10sYz10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShcIiRzdG9yZWRfZ3JvdXBfcHJvcGVydGllc1wiKXx8e307Zm9yKHZhcltkLGhdb2YgT2JqZWN0LmVudHJpZXMoYykpbFtkXT17aWQ6dVtkXSx0eXBlOmQscHJvcGVydGllczpofTt2YXJ7JHNldF9vbmNlOl8sJHNldDpwfT1lO3JldHVybntldmVudDpuZShuZSh7fSxhZShlLF9vKSkse30se3Byb3BlcnRpZXM6bmUobmUobmUoe30sZS5wcm9wZXJ0aWVzKSxwP3skc2V0Om5lKG5lKHt9LG51bGwhPT0odD1udWxsPT09KGk9ZS5wcm9wZXJ0aWVzKXx8dm9pZCAwPT09aT92b2lkIDA6aS4kc2V0KSYmdm9pZCAwIT09dD90Ont9KSxwKX06e30pLF8/eyRzZXRfb25jZTpuZShuZSh7fSxudWxsIT09KHI9bnVsbD09PShzPWUucHJvcGVydGllcyl8fHZvaWQgMD09PXM/dm9pZCAwOnMuJHNldF9vbmNlKSYmdm9pZCAwIT09cj9yOnt9KSxfKX06e30pLGVsZW1lbnRzX2NoYWluOm51bGwhPT0obj1udWxsPT09KG89ZS5wcm9wZXJ0aWVzKXx8dm9pZCAwPT09bz92b2lkIDA6by4kZWxlbWVudHNfY2hhaW4pJiZ2b2lkIDAhPT1uP246XCJcIixkaXN0aW5jdF9pZDpudWxsPT09KGE9ZS5wcm9wZXJ0aWVzKXx8dm9pZCAwPT09YT92b2lkIDA6YS5kaXN0aW5jdF9pZH0pLHBlcnNvbjp7cHJvcGVydGllczp0aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShcIiRzdG9yZWRfcGVyc29uX3Byb3BlcnRpZXNcIil9LGdyb3VwczpsfX1zZXR1cFNpdGVBcHAoZSl7dmFyIHQ9e2lkOmUuaWQsbG9hZGVkOiExLGVycm9yZWQ6ITF9O3RoaXMuYXBwc1tlLmlkXT10O3ZhciBpPWk9Pnt2YXIgcjtmb3IodmFyIHMgb2YodGhpcy5hcHBzW2UuaWRdLmVycm9yZWQ9IWksdGhpcy5hcHBzW2UuaWRdLmxvYWRlZD0hMCxwby5pbmZvKFwiU2l0ZSBhcHAgd2l0aCBpZCBcIi5jb25jYXQoZS5pZCxcIiBcIikuY29uY2F0KGk/XCJsb2FkZWRcIjpcImVycm9yZWRcIikpLGkmJnRoaXMuYnVmZmVyZWRJbnZvY2F0aW9ucy5sZW5ndGgmJihwby5pbmZvKFwiUHJvY2Vzc2luZyBcIi5jb25jYXQodGhpcy5idWZmZXJlZEludm9jYXRpb25zLmxlbmd0aCxcIiBldmVudHMgZm9yIHNpdGUgYXBwIHdpdGggaWQgXCIpLmNvbmNhdChlLmlkKSksdGhpcy5idWZmZXJlZEludm9jYXRpb25zLmZvckVhY2goKGU9Pnt2YXIgaTtyZXR1cm4gbnVsbD09PShpPXQucHJvY2Vzc0V2ZW50KXx8dm9pZCAwPT09aT92b2lkIDA6aS5jYWxsKHQsZSl9KSkpLE9iamVjdC52YWx1ZXModGhpcy5hcHBzKSkpaWYoIXMubG9hZGVkKXJldHVybjtudWxsPT09KHI9dGhpcy5zdG9wQnVmZmVyaW5nKXx8dm9pZCAwPT09cnx8ci5jYWxsKHRoaXMpfTt0cnl7dmFye3Byb2Nlc3NFdmVudDpyfT1lLmluaXQoe3Bvc3Rob2c6dGhpcy5pbnN0YW5jZSxjYWxsYmFjazplPT57aShlKX19KTtyJiYodC5wcm9jZXNzRXZlbnQ9cil9Y2F0Y2godCl7cG8uZXJyb3IoXCJFcnJvciB3aGlsZSBpbml0aWFsaXppbmcgUG9zdEhvZyBhcHAgd2l0aCBjb25maWcgaWQgXCIuY29uY2F0KGUuaWQpLHQpLGkoITEpfX1vbkNhcHR1cmVkRXZlbnQoZSl7aWYoMCE9PU9iamVjdC5rZXlzKHRoaXMuYXBwcykubGVuZ3RoKXt2YXIgdD10aGlzLmdsb2JhbHNGb3JFdmVudChlKTtmb3IodmFyIGkgb2YgT2JqZWN0LnZhbHVlcyh0aGlzLmFwcHMpKXRyeXt2YXIgcjtudWxsPT09KHI9aS5wcm9jZXNzRXZlbnQpfHx2b2lkIDA9PT1yfHxyLmNhbGwoaSx0KX1jYXRjaCh0KXtwby5lcnJvcihcIkVycm9yIHdoaWxlIHByb2Nlc3NpbmcgZXZlbnQgXCIuY29uY2F0KGUuZXZlbnQsXCIgZm9yIHNpdGUgYXBwIFwiKS5jb25jYXQoaS5pZCksdCl9fX1vblJlbW90ZUNvbmZpZyhlKXt2YXIgdCxpLHIscz10aGlzO2lmKG51bGwhPT0odD10aGlzLnNpdGVBcHBMb2FkZXJzKSYmdm9pZCAwIT09dCYmdC5sZW5ndGgpe2lmKCF0aGlzLmlzRW5hYmxlZClyZXR1cm4gdm9pZCBwby5lcnJvcignUG9zdEhvZyBzaXRlIGFwcHMgYXJlIGRpc2FibGVkLiBFbmFibGUgdGhlIFwib3B0X2luX3NpdGVfYXBwc1wiIGNvbmZpZyB0byBwcm9jZWVkLicpO2Zvcih2YXIgbiBvZiB0aGlzLnNpdGVBcHBMb2FkZXJzKXRoaXMuc2V0dXBTaXRlQXBwKG4pO3RoaXMuaW5zdGFuY2Uub24oXCJldmVudENhcHR1cmVkXCIsKGU9PnRoaXMub25DYXB0dXJlZEV2ZW50KGUpKSl9ZWxzZSBpZihudWxsPT09KGk9dGhpcy5zdG9wQnVmZmVyaW5nKXx8dm9pZCAwPT09aXx8aS5jYWxsKHRoaXMpLG51bGwhPT0ocj1lLnNpdGVBcHBzKSYmdm9pZCAwIT09ciYmci5sZW5ndGgpaWYodGhpcy5pc0VuYWJsZWQpe3ZhciBvPWZ1bmN0aW9uKGUsdCl7dmFyIGkscjtfW1wiX18kJHBoX3NpdGVfYXBwX1wiLmNvbmNhdChlKV09cy5pbnN0YW5jZSxudWxsPT09KGk9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHx2b2lkIDA9PT1pfHxudWxsPT09KHI9aS5sb2FkU2l0ZUFwcCl8fHZvaWQgMD09PXJ8fHIuY2FsbChpLHMuaW5zdGFuY2UsdCwodD0+e2lmKHQpcmV0dXJuIHBvLmVycm9yKFwiRXJyb3Igd2hpbGUgaW5pdGlhbGl6aW5nIFBvc3RIb2cgYXBwIHdpdGggY29uZmlnIGlkIFwiLmNvbmNhdChlKSx0KX0pKX07Zm9yKHZhcntpZDphLHVybDpsfW9mIGUuc2l0ZUFwcHMpbyhhLGwpfWVsc2UgcG8uZXJyb3IoJ1Bvc3RIb2cgc2l0ZSBhcHBzIGFyZSBkaXNhYmxlZC4gRW5hYmxlIHRoZSBcIm9wdF9pbl9zaXRlX2FwcHNcIiBjb25maWcgdG8gcHJvY2VlZC4nKX19ZnVuY3Rpb24gZ28oZSx0LGkpe3JldHVybiBrcyh7ZGlzdGluY3RfaWQ6ZSx1c2VyUHJvcGVydGllc1RvU2V0OnQsdXNlclByb3BlcnRpZXNUb1NldE9uY2U6aX0pfXZhciBmbz17fSxtbz0oKT0+e30sYm89XCJwb3N0aG9nXCIseW89IXlzJiYtMT09PShudWxsPT1oP3ZvaWQgMDpoLmluZGV4T2YoXCJNU0lFXCIpKSYmLTE9PT0obnVsbD09aD92b2lkIDA6aC5pbmRleE9mKFwiTW96aWxsYVwiKSksd289KCk9Pnt2YXIgZTtyZXR1cm57YXBpX2hvc3Q6XCJodHRwczovL3VzLmkucG9zdGhvZy5jb21cIix1aV9ob3N0Om51bGwsdG9rZW46XCJcIixhdXRvY2FwdHVyZTohMCxyYWdlY2xpY2s6ITAsY3Jvc3Nfc3ViZG9tYWluX2Nvb2tpZTpGKG51bGw9PWE/dm9pZCAwOmEubG9jYXRpb24pLHBlcnNpc3RlbmNlOlwibG9jYWxTdG9yYWdlK2Nvb2tpZVwiLHBlcnNpc3RlbmNlX25hbWU6XCJcIixsb2FkZWQ6bW8sc2F2ZV9jYW1wYWlnbl9wYXJhbXM6ITAsY3VzdG9tX2NhbXBhaWduX3BhcmFtczpbXSxjdXN0b21fYmxvY2tlZF91c2VyYWdlbnRzOltdLHNhdmVfcmVmZXJyZXI6ITAsY2FwdHVyZV9wYWdldmlldzohMCxjYXB0dXJlX3BhZ2VsZWF2ZTpcImlmX2NhcHR1cmVfcGFnZXZpZXdcIixkZWJ1ZzpsJiZXKG51bGw9PWw/dm9pZCAwOmwuc2VhcmNoKSYmLTEhPT1sLnNlYXJjaC5pbmRleE9mKFwiX19wb3N0aG9nX2RlYnVnPXRydWVcIil8fCExLGNvb2tpZV9leHBpcmF0aW9uOjM2NSx1cGdyYWRlOiExLGRpc2FibGVfc2Vzc2lvbl9yZWNvcmRpbmc6ITEsZGlzYWJsZV9wZXJzaXN0ZW5jZTohMSxkaXNhYmxlX3dlYl9leHBlcmltZW50czohMCxkaXNhYmxlX3N1cnZleXM6ITEsZGlzYWJsZV9leHRlcm5hbF9kZXBlbmRlbmN5X2xvYWRpbmc6ITEsZW5hYmxlX3JlY29yZGluZ19jb25zb2xlX2xvZzp2b2lkIDAsc2VjdXJlX2Nvb2tpZTpcImh0dHBzOlwiPT09KG51bGw9PXR8fG51bGw9PT0oZT10LmxvY2F0aW9uKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5wcm90b2NvbCksaXA6ITAsb3B0X291dF9jYXB0dXJpbmdfYnlfZGVmYXVsdDohMSxvcHRfb3V0X3BlcnNpc3RlbmNlX2J5X2RlZmF1bHQ6ITEsb3B0X291dF91c2VyYWdlbnRfZmlsdGVyOiExLG9wdF9vdXRfY2FwdHVyaW5nX3BlcnNpc3RlbmNlX3R5cGU6XCJsb2NhbFN0b3JhZ2VcIixvcHRfb3V0X2NhcHR1cmluZ19jb29raWVfcHJlZml4Om51bGwsb3B0X2luX3NpdGVfYXBwczohMSxwcm9wZXJ0eV9kZW55bGlzdDpbXSxyZXNwZWN0X2RudDohMSxzYW5pdGl6ZV9wcm9wZXJ0aWVzOm51bGwscmVxdWVzdF9oZWFkZXJzOnt9LHJlcXVlc3RfYmF0Y2hpbmc6ITAscHJvcGVydGllc19zdHJpbmdfbWF4X2xlbmd0aDo2NTUzNSxzZXNzaW9uX3JlY29yZGluZzp7fSxtYXNrX2FsbF9lbGVtZW50X2F0dHJpYnV0ZXM6ITEsbWFza19hbGxfdGV4dDohMSxtYXNrX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllczohMSxjdXN0b21fcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzOltdLGFkdmFuY2VkX2Rpc2FibGVfZGVjaWRlOiExLGFkdmFuY2VkX2Rpc2FibGVfZmVhdHVyZV9mbGFnczohMSxhZHZhbmNlZF9kaXNhYmxlX2ZlYXR1cmVfZmxhZ3Nfb25fZmlyc3RfbG9hZDohMSxhZHZhbmNlZF9kaXNhYmxlX3Rvb2xiYXJfbWV0cmljczohMSxmZWF0dXJlX2ZsYWdfcmVxdWVzdF90aW1lb3V0X21zOjNlMyxvbl9yZXF1ZXN0X2Vycm9yOmU9Pnt2YXIgdD1cIkJhZCBIVFRQIHN0YXR1czogXCIrZS5zdGF0dXNDb2RlK1wiIFwiK2UudGV4dDtlZS5lcnJvcih0KX0sZ2V0X2RldmljZV9pZDplPT5lLGNhcHR1cmVfcGVyZm9ybWFuY2U6dm9pZCAwLG5hbWU6XCJwb3N0aG9nXCIsYm9vdHN0cmFwOnt9LGRpc2FibGVfY29tcHJlc3Npb246ITEsc2Vzc2lvbl9pZGxlX3RpbWVvdXRfc2Vjb25kczoxODAwLHBlcnNvbl9wcm9maWxlczpcImlkZW50aWZpZWRfb25seVwiLGJlZm9yZV9zZW5kOnZvaWQgMCxyZXF1ZXN0X3F1ZXVlX2NvbmZpZzp7Zmx1c2hfaW50ZXJ2YWxfbXM6ZnN9LF9vbkNhcHR1cmU6bW99fSxTbz1lPT57dmFyIHQ9e307eihlLnByb2Nlc3NfcGVyc29uKXx8KHQucGVyc29uX3Byb2ZpbGVzPWUucHJvY2Vzc19wZXJzb24pLHooZS54aHJfaGVhZGVycyl8fCh0LnJlcXVlc3RfaGVhZGVycz1lLnhocl9oZWFkZXJzKSx6KGUuY29va2llX25hbWUpfHwodC5wZXJzaXN0ZW5jZV9uYW1lPWUuY29va2llX25hbWUpLHooZS5kaXNhYmxlX2Nvb2tpZSl8fCh0LmRpc2FibGVfcGVyc2lzdGVuY2U9ZS5kaXNhYmxlX2Nvb2tpZSkseihlLnN0b3JlX2dvb2dsZSl8fCh0LnNhdmVfY2FtcGFpZ25fcGFyYW1zPWUuc3RvcmVfZ29vZ2xlKSx6KGUudmVyYm9zZSl8fCh0LmRlYnVnPWUudmVyYm9zZSk7dmFyIGk9dyh7fSx0LGUpO3JldHVybiBCKGUucHJvcGVydHlfYmxhY2tsaXN0KSYmKHooZS5wcm9wZXJ0eV9kZW55bGlzdCk/aS5wcm9wZXJ0eV9kZW55bGlzdD1lLnByb3BlcnR5X2JsYWNrbGlzdDpCKGUucHJvcGVydHlfZGVueWxpc3QpP2kucHJvcGVydHlfZGVueWxpc3Q9Wy4uLmUucHJvcGVydHlfYmxhY2tsaXN0LC4uLmUucHJvcGVydHlfZGVueWxpc3RdOmVlLmVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgcHJvcGVydHlfZGVueWxpc3QgY29uZmlnOiBcIitlLnByb3BlcnR5X2RlbnlsaXN0KSksaX07Y2xhc3Mga297Y29uc3RydWN0b3IoKXtvZSh0aGlzLFwiX19mb3JjZUFsbG93TG9jYWxob3N0XCIsITEpfWdldCBfZm9yY2VBbGxvd0xvY2FsaG9zdCgpe3JldHVybiB0aGlzLl9fZm9yY2VBbGxvd0xvY2FsaG9zdH1zZXQgX2ZvcmNlQWxsb3dMb2NhbGhvc3QoZSl7ZWUuZXJyb3IoXCJXZWJQZXJmb3JtYW5jZU9ic2VydmVyIGlzIGRlcHJlY2F0ZWQgYW5kIGhhcyBubyBpbXBhY3Qgb24gbmV0d29yayBjYXB0dXJlLiBVc2UgYF9mb3JjZUFsbG93TG9jYWxob3N0TmV0d29ya0NhcHR1cmVgIG9uIGBwb3N0aG9nLnNlc3Npb25SZWNvcmRpbmdgXCIpLHRoaXMuX19mb3JjZUFsbG93TG9jYWxob3N0PWV9fWNsYXNzIEVve2dldCBkZWNpZGVFbmRwb2ludFdhc0hpdCgpe3ZhciBlLHQ7cmV0dXJuIG51bGwhPT0oZT1udWxsPT09KHQ9dGhpcy5mZWF0dXJlRmxhZ3MpfHx2b2lkIDA9PT10P3ZvaWQgMDp0Lmhhc0xvYWRlZEZsYWdzKSYmdm9pZCAwIT09ZSYmZX1jb25zdHJ1Y3Rvcigpe29lKHRoaXMsXCJ3ZWJQZXJmb3JtYW5jZVwiLG5ldyBrbyksb2UodGhpcyxcInZlcnNpb25cIixwLkxJQl9WRVJTSU9OKSxvZSh0aGlzLFwiX2ludGVybmFsRXZlbnRFbWl0dGVyXCIsbmV3IEVuKSx0aGlzLmNvbmZpZz13bygpLHRoaXMuU2VudHJ5SW50ZWdyYXRpb249QXMsdGhpcy5zZW50cnlJbnRlZ3JhdGlvbj1lPT5mdW5jdGlvbihlLHQpe3ZhciBpPU1zKGUsdCk7cmV0dXJue25hbWU6T3MscHJvY2Vzc0V2ZW50OmU9PmkoZSl9fSh0aGlzLGUpLHRoaXMuX19yZXF1ZXN0X3F1ZXVlPVtdLHRoaXMuX19sb2FkZWQ9ITEsdGhpcy5hbmFseXRpY3NEZWZhdWx0RW5kcG9pbnQ9XCIvZS9cIix0aGlzLl9pbml0aWFsUGFnZXZpZXdDYXB0dXJlZD0hMSx0aGlzLl9pbml0aWFsUGVyc29uUHJvZmlsZXNDb25maWc9bnVsbCx0aGlzLl9jYWNoZWRJZGVudGlmeT1udWxsLHRoaXMuZmVhdHVyZUZsYWdzPW5ldyBYZSh0aGlzKSx0aGlzLnRvb2xiYXI9bmV3IGdzKHRoaXMpLHRoaXMuc2Nyb2xsTWFuYWdlcj1uZXcgR24odGhpcyksdGhpcy5wYWdlVmlld01hbmFnZXI9bmV3IE5zKHRoaXMpLHRoaXMuc3VydmV5cz1uZXcgUm4odGhpcyksdGhpcy5leHBlcmltZW50cz1uZXcgY28odGhpcyksdGhpcy5leGNlcHRpb25zPW5ldyBobyh0aGlzKSx0aGlzLnJhdGVMaW1pdGVyPW5ldyBPbih0aGlzKSx0aGlzLnJlcXVlc3RSb3V0ZXI9bmV3ICRzKHRoaXMpLHRoaXMuY29uc2VudD1uZXcgcm8odGhpcyksdGhpcy5wZW9wbGU9e3NldDooZSx0LGkpPT57dmFyIHI9VyhlKT97W2VdOnR9OmU7dGhpcy5zZXRQZXJzb25Qcm9wZXJ0aWVzKHIpLG51bGw9PWl8fGkoe30pfSxzZXRfb25jZTooZSx0LGkpPT57dmFyIHI9VyhlKT97W2VdOnR9OmU7dGhpcy5zZXRQZXJzb25Qcm9wZXJ0aWVzKHZvaWQgMCxyKSxudWxsPT1pfHxpKHt9KX19LHRoaXMub24oXCJldmVudENhcHR1cmVkXCIsKGU9PmVlLmluZm8oJ3NlbmQgXCInLmNvbmNhdChudWxsPT1lP3ZvaWQgMDplLmV2ZW50LCdcIicpLGUpKSl9aW5pdChlLHQsaSl7aWYoaSYmaSE9PWJvKXt2YXIgcixzPW51bGwhPT0ocj1mb1tpXSkmJnZvaWQgMCE9PXI/cjpuZXcgRW87cmV0dXJuIHMuX2luaXQoZSx0LGkpLGZvW2ldPXMsZm9bYm9dW2ldPXMsc31yZXR1cm4gdGhpcy5faW5pdChlLHQsaSl9X2luaXQoaSl7dmFyIHIscyxuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxvPWFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwO2lmKHooaSl8fFYoaSkpcmV0dXJuIGVlLmNyaXRpY2FsKFwiUG9zdEhvZyB3YXMgaW5pdGlhbGl6ZWQgd2l0aG91dCBhIHRva2VuLiBUaGlzIGxpa2VseSBpbmRpY2F0ZXMgYSBtaXNjb25maWd1cmF0aW9uLiBQbGVhc2UgY2hlY2sgdGhlIGZpcnN0IGFyZ3VtZW50IHBhc3NlZCB0byBwb3N0aG9nLmluaXQoKVwiKSx0aGlzO2lmKHRoaXMuX19sb2FkZWQpcmV0dXJuIGVlLndhcm4oXCJZb3UgaGF2ZSBhbHJlYWR5IGluaXRpYWxpemVkIFBvc3RIb2chIFJlLWluaXRpYWxpemluZyBpcyBhIG5vLW9wXCIpLHRoaXM7dGhpcy5fX2xvYWRlZD0hMCx0aGlzLmNvbmZpZz17fSx0aGlzLl90cmlnZ2VyZWRfbm90aWZzPVtdLG4ucGVyc29uX3Byb2ZpbGVzJiYodGhpcy5faW5pdGlhbFBlcnNvblByb2ZpbGVzQ29uZmlnPW4ucGVyc29uX3Byb2ZpbGVzKSx0aGlzLnNldF9jb25maWcodyh7fSx3bygpLFNvKG4pLHtuYW1lOm8sdG9rZW46aX0pKSx0aGlzLmNvbmZpZy5vbl94aHJfZXJyb3ImJmVlLmVycm9yKFwib25feGhyX2Vycm9yIGlzIGRlcHJlY2F0ZWQuIFVzZSBvbl9yZXF1ZXN0X2Vycm9yIGluc3RlYWRcIiksdGhpcy5jb21wcmVzc2lvbj1uLmRpc2FibGVfY29tcHJlc3Npb24/dm9pZCAwOmUuR1ppcEpTLHRoaXMucGVyc2lzdGVuY2U9bmV3IElpKHRoaXMuY29uZmlnKSx0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZT1cInNlc3Npb25TdG9yYWdlXCI9PT10aGlzLmNvbmZpZy5wZXJzaXN0ZW5jZXx8XCJtZW1vcnlcIj09PXRoaXMuY29uZmlnLnBlcnNpc3RlbmNlP3RoaXMucGVyc2lzdGVuY2U6bmV3IElpKG5lKG5lKHt9LHRoaXMuY29uZmlnKSx7fSx7cGVyc2lzdGVuY2U6XCJzZXNzaW9uU3RvcmFnZVwifSkpO3ZhciBhPW5lKHt9LHRoaXMucGVyc2lzdGVuY2UucHJvcHMpLGw9bmUoe30sdGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UucHJvcHMpO2lmKHRoaXMuX3JlcXVlc3RRdWV1ZT1uZXcgbXMoKGU9PnRoaXMuX3NlbmRfcmV0cmlhYmxlX3JlcXVlc3QoZSkpLHRoaXMuY29uZmlnLnJlcXVlc3RfcXVldWVfY29uZmlnKSx0aGlzLl9yZXRyeVF1ZXVlPW5ldyBDcyh0aGlzKSx0aGlzLl9fcmVxdWVzdF9xdWV1ZT1bXSx0aGlzLmNvbmZpZy5fX3ByZXZpZXdfZXhwZXJpbWVudGFsX2Nvb2tpZWxlc3NfbW9kZXx8KHRoaXMuc2Vzc2lvbk1hbmFnZXI9bmV3IFRzKHRoaXMpLHRoaXMuc2Vzc2lvblByb3BzTWFuYWdlcj1uZXcgQW4odGhpcyx0aGlzLnNlc3Npb25NYW5hZ2VyLHRoaXMucGVyc2lzdGVuY2UpKSxuZXcgdG8odGhpcykuc3RhcnRJZkVuYWJsZWRPclN0b3AoKSx0aGlzLnNpdGVBcHBzPW5ldyB2byh0aGlzKSxudWxsPT09KHI9dGhpcy5zaXRlQXBwcyl8fHZvaWQgMD09PXJ8fHIuaW5pdCgpLHRoaXMuY29uZmlnLl9fcHJldmlld19leHBlcmltZW50YWxfY29va2llbGVzc19tb2RlfHwodGhpcy5zZXNzaW9uUmVjb3JkaW5nPW5ldyB1cyh0aGlzKSx0aGlzLnNlc3Npb25SZWNvcmRpbmcuc3RhcnRJZkVuYWJsZWRPclN0b3AoKSksdGhpcy5jb25maWcuZGlzYWJsZV9zY3JvbGxfcHJvcGVydGllc3x8dGhpcy5zY3JvbGxNYW5hZ2VyLnN0YXJ0TWVhc3VyaW5nU2Nyb2xsUG9zaXRpb24oKSx0aGlzLmF1dG9jYXB0dXJlPW5ldyBabih0aGlzKSx0aGlzLmF1dG9jYXB0dXJlLnN0YXJ0SWZFbmFibGVkKCksdGhpcy5zdXJ2ZXlzLmxvYWRJZkVuYWJsZWQoKSx0aGlzLmhlYXRtYXBzPW5ldyBWbih0aGlzKSx0aGlzLmhlYXRtYXBzLnN0YXJ0SWZFbmFibGVkKCksdGhpcy53ZWJWaXRhbHNBdXRvY2FwdHVyZT1uZXcgbG8odGhpcyksdGhpcy5leGNlcHRpb25PYnNlcnZlcj1uZXcgbm8odGhpcyksdGhpcy5leGNlcHRpb25PYnNlcnZlci5zdGFydElmRW5hYmxlZCgpLHRoaXMuZGVhZENsaWNrc0F1dG9jYXB0dXJlPW5ldyBqbih0aGlzLFVuKSx0aGlzLmRlYWRDbGlja3NBdXRvY2FwdHVyZS5zdGFydElmRW5hYmxlZCgpLHAuREVCVUc9cC5ERUJVR3x8dGhpcy5jb25maWcuZGVidWcscC5ERUJVRyYmZWUuaW5mbyhcIlN0YXJ0aW5nIGluIGRlYnVnIG1vZGVcIix7dGhpczp0aGlzLGNvbmZpZzpuLHRoaXNDOm5lKHt9LHRoaXMuY29uZmlnKSxwOmEsczpsfSksdGhpcy5fc3luY19vcHRfb3V0X3dpdGhfcGVyc2lzdGVuY2UoKSx2b2lkIDAhPT0obnVsbD09PShzPW4uYm9vdHN0cmFwKXx8dm9pZCAwPT09cz92b2lkIDA6cy5kaXN0aW5jdElEKSl7dmFyIHUsYyxkPXRoaXMuY29uZmlnLmdldF9kZXZpY2VfaWQoc3QoKSksaD1udWxsIT09KHU9bi5ib290c3RyYXApJiZ2b2lkIDAhPT11JiZ1LmlzSWRlbnRpZmllZElEP2Q6bi5ib290c3RyYXAuZGlzdGluY3RJRDt0aGlzLnBlcnNpc3RlbmNlLnNldF9wcm9wZXJ0eShBZSxudWxsIT09KGM9bi5ib290c3RyYXApJiZ2b2lkIDAhPT1jJiZjLmlzSWRlbnRpZmllZElEP1wiaWRlbnRpZmllZFwiOlwiYW5vbnltb3VzXCIpLHRoaXMucmVnaXN0ZXIoe2Rpc3RpbmN0X2lkOm4uYm9vdHN0cmFwLmRpc3RpbmN0SUQsJGRldmljZV9pZDpofSl9aWYodGhpcy5faGFzQm9vdHN0cmFwcGVkRmVhdHVyZUZsYWdzKCkpe3ZhciBfLHYsZz1PYmplY3Qua2V5cygobnVsbD09PShfPW4uYm9vdHN0cmFwKXx8dm9pZCAwPT09Xz92b2lkIDA6Xy5mZWF0dXJlRmxhZ3MpfHx7fSkuZmlsdGVyKChlPT57dmFyIHQsaTtyZXR1cm4hKG51bGw9PT0odD1uLmJvb3RzdHJhcCl8fHZvaWQgMD09PXR8fG51bGw9PT0oaT10LmZlYXR1cmVGbGFncyl8fHZvaWQgMD09PWl8fCFpW2VdKX0pKS5yZWR1Y2UoKChlLHQpPT57dmFyIGkscjtyZXR1cm4gZVt0XT0obnVsbD09PShpPW4uYm9vdHN0cmFwKXx8dm9pZCAwPT09aXx8bnVsbD09PShyPWkuZmVhdHVyZUZsYWdzKXx8dm9pZCAwPT09cj92b2lkIDA6clt0XSl8fCExLGV9KSx7fSksZj1PYmplY3Qua2V5cygobnVsbD09PSh2PW4uYm9vdHN0cmFwKXx8dm9pZCAwPT09dj92b2lkIDA6di5mZWF0dXJlRmxhZ1BheWxvYWRzKXx8e30pLmZpbHRlcigoZT0+Z1tlXSkpLnJlZHVjZSgoKGUsdCk9Pnt2YXIgaSxyLHMsbztudWxsIT09KGk9bi5ib290c3RyYXApJiZ2b2lkIDAhPT1pJiZudWxsIT09KHI9aS5mZWF0dXJlRmxhZ1BheWxvYWRzKSYmdm9pZCAwIT09ciYmclt0XSYmKGVbdF09bnVsbD09PShzPW4uYm9vdHN0cmFwKXx8dm9pZCAwPT09c3x8bnVsbD09PShvPXMuZmVhdHVyZUZsYWdQYXlsb2Fkcyl8fHZvaWQgMD09PW8/dm9pZCAwOm9bdF0pO3JldHVybiBlfSkse30pO3RoaXMuZmVhdHVyZUZsYWdzLnJlY2VpdmVkRmVhdHVyZUZsYWdzKHtmZWF0dXJlRmxhZ3M6ZyxmZWF0dXJlRmxhZ1BheWxvYWRzOmZ9KX1pZih0aGlzLmNvbmZpZy5fX3ByZXZpZXdfZXhwZXJpbWVudGFsX2Nvb2tpZWxlc3NfbW9kZSl0aGlzLnJlZ2lzdGVyX29uY2Uoe2Rpc3RpbmN0X2lkOmplLCRkZXZpY2VfaWQ6bnVsbH0sXCJcIik7ZWxzZSBpZighdGhpcy5nZXRfZGlzdGluY3RfaWQoKSl7dmFyIG09dGhpcy5jb25maWcuZ2V0X2RldmljZV9pZChzdCgpKTt0aGlzLnJlZ2lzdGVyX29uY2Uoe2Rpc3RpbmN0X2lkOm0sJGRldmljZV9pZDptfSxcIlwiKSx0aGlzLnBlcnNpc3RlbmNlLnNldF9wcm9wZXJ0eShBZSxcImFub255bW91c1wiKX1yZXR1cm4gUih0LFwib25wYWdlaGlkZVwiaW4gc2VsZj9cInBhZ2VoaWRlXCI6XCJ1bmxvYWRcIix0aGlzLl9oYW5kbGVfdW5sb2FkLmJpbmQodGhpcykse3Bhc3NpdmU6ITF9KSx0aGlzLnRvb2xiYXIubWF5YmVMb2FkVG9vbGJhcigpLG4uc2VnbWVudD9Ecyh0aGlzLCgoKT0+dGhpcy5fbG9hZGVkKCkpKTp0aGlzLl9sb2FkZWQoKSxIKHRoaXMuY29uZmlnLl9vbkNhcHR1cmUpJiZ0aGlzLmNvbmZpZy5fb25DYXB0dXJlIT09bW8mJihlZS53YXJuKFwib25DYXB0dXJlIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgYGJlZm9yZV9zZW5kYCBpbnN0ZWFkXCIpLHRoaXMub24oXCJldmVudENhcHR1cmVkXCIsKGU9PnRoaXMuY29uZmlnLl9vbkNhcHR1cmUoZS5ldmVudCxlKSkpKSx0aGlzfV9vblJlbW90ZUNvbmZpZyh0KXt2YXIgaSxyLHMsbixvLGwsdSxjO2lmKCFhfHwhYS5ib2R5KXJldHVybiBlZS5pbmZvKFwiZG9jdW1lbnQgbm90IHJlYWR5IHlldCwgdHJ5aW5nIGFnYWluIGluIDUwMCBtaWxsaXNlY29uZHMuLi5cIiksdm9pZCBzZXRUaW1lb3V0KCgoKT0+e3RoaXMuX29uUmVtb3RlQ29uZmlnKHQpfSksNTAwKTt0aGlzLmNvbXByZXNzaW9uPXZvaWQgMCx0LnN1cHBvcnRlZENvbXByZXNzaW9uJiYhdGhpcy5jb25maWcuZGlzYWJsZV9jb21wcmVzc2lvbiYmKHRoaXMuY29tcHJlc3Npb249JCh0LnN1cHBvcnRlZENvbXByZXNzaW9uLGUuR1ppcEpTKT9lLkdaaXBKUzokKHQuc3VwcG9ydGVkQ29tcHJlc3Npb24sZS5CYXNlNjQpP2UuQmFzZTY0OnZvaWQgMCksbnVsbCE9PShpPXQuYW5hbHl0aWNzKSYmdm9pZCAwIT09aSYmaS5lbmRwb2ludCYmKHRoaXMuYW5hbHl0aWNzRGVmYXVsdEVuZHBvaW50PXQuYW5hbHl0aWNzLmVuZHBvaW50KSx0aGlzLnNldF9jb25maWcoe3BlcnNvbl9wcm9maWxlczp0aGlzLl9pbml0aWFsUGVyc29uUHJvZmlsZXNDb25maWc/dGhpcy5faW5pdGlhbFBlcnNvblByb2ZpbGVzQ29uZmlnOlwiaWRlbnRpZmllZF9vbmx5XCJ9KSxudWxsPT09KHI9dGhpcy5zaXRlQXBwcyl8fHZvaWQgMD09PXJ8fHIub25SZW1vdGVDb25maWcodCksbnVsbD09PShzPXRoaXMuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PXN8fHMub25SZW1vdGVDb25maWcodCksbnVsbD09PShuPXRoaXMuYXV0b2NhcHR1cmUpfHx2b2lkIDA9PT1ufHxuLm9uUmVtb3RlQ29uZmlnKHQpLG51bGw9PT0obz10aGlzLmhlYXRtYXBzKXx8dm9pZCAwPT09b3x8by5vblJlbW90ZUNvbmZpZyh0KSx0aGlzLnN1cnZleXMub25SZW1vdGVDb25maWcodCksbnVsbD09PShsPXRoaXMud2ViVml0YWxzQXV0b2NhcHR1cmUpfHx2b2lkIDA9PT1sfHxsLm9uUmVtb3RlQ29uZmlnKHQpLG51bGw9PT0odT10aGlzLmV4Y2VwdGlvbk9ic2VydmVyKXx8dm9pZCAwPT09dXx8dS5vblJlbW90ZUNvbmZpZyh0KSxudWxsPT09KGM9dGhpcy5kZWFkQ2xpY2tzQXV0b2NhcHR1cmUpfHx2b2lkIDA9PT1jfHxjLm9uUmVtb3RlQ29uZmlnKHQpfV9sb2FkZWQoKXt0cnl7dGhpcy5jb25maWcubG9hZGVkKHRoaXMpfWNhdGNoKGUpe2VlLmNyaXRpY2FsKFwiYGxvYWRlZGAgZnVuY3Rpb24gZmFpbGVkXCIsZSl9dGhpcy5fc3RhcnRfcXVldWVfaWZfb3B0ZWRfaW4oKSx0aGlzLmNvbmZpZy5jYXB0dXJlX3BhZ2V2aWV3JiZzZXRUaW1lb3V0KCgoKT0+e3RoaXMuY29uc2VudC5pc09wdGVkSW4oKSYmdGhpcy5fY2FwdHVyZUluaXRpYWxQYWdldmlldygpfSksMSksbmV3IGRzKHRoaXMpLmxvYWQoKSx0aGlzLmZlYXR1cmVGbGFncy5kZWNpZGUoKX1fc3RhcnRfcXVldWVfaWZfb3B0ZWRfaW4oKXt2YXIgZTt0aGlzLmhhc19vcHRlZF9vdXRfY2FwdHVyaW5nKCl8fHRoaXMuY29uZmlnLnJlcXVlc3RfYmF0Y2hpbmcmJihudWxsPT09KGU9dGhpcy5fcmVxdWVzdFF1ZXVlKXx8dm9pZCAwPT09ZXx8ZS5lbmFibGUoKSl9X2RvbV9sb2FkZWQoKXt0aGlzLmhhc19vcHRlZF9vdXRfY2FwdHVyaW5nKCl8fGIodGhpcy5fX3JlcXVlc3RfcXVldWUsKGU9PnRoaXMuX3NlbmRfcmV0cmlhYmxlX3JlcXVlc3QoZSkpKSx0aGlzLl9fcmVxdWVzdF9xdWV1ZT1bXSx0aGlzLl9zdGFydF9xdWV1ZV9pZl9vcHRlZF9pbigpfV9oYW5kbGVfdW5sb2FkKCl7dmFyIGUsdDt0aGlzLmNvbmZpZy5yZXF1ZXN0X2JhdGNoaW5nPyh0aGlzLl9zaG91bGRDYXB0dXJlUGFnZWxlYXZlKCkmJnRoaXMuY2FwdHVyZShcIiRwYWdlbGVhdmVcIiksbnVsbD09PShlPXRoaXMuX3JlcXVlc3RRdWV1ZSl8fHZvaWQgMD09PWV8fGUudW5sb2FkKCksbnVsbD09PSh0PXRoaXMuX3JldHJ5UXVldWUpfHx2b2lkIDA9PT10fHx0LnVubG9hZCgpKTp0aGlzLl9zaG91bGRDYXB0dXJlUGFnZWxlYXZlKCkmJnRoaXMuY2FwdHVyZShcIiRwYWdlbGVhdmVcIixudWxsLHt0cmFuc3BvcnQ6XCJzZW5kQmVhY29uXCJ9KX1fc2VuZF9yZXF1ZXN0KGUpe3RoaXMuX19sb2FkZWQmJih5bz90aGlzLl9fcmVxdWVzdF9xdWV1ZS5wdXNoKGUpOnRoaXMucmF0ZUxpbWl0ZXIuaXNTZXJ2ZXJSYXRlTGltaXRlZChlLmJhdGNoS2V5KXx8KGUudHJhbnNwb3J0PWUudHJhbnNwb3J0fHx0aGlzLmNvbmZpZy5hcGlfdHJhbnNwb3J0LGUudXJsPVNzKGUudXJsLHtpcDp0aGlzLmNvbmZpZy5pcD8xOjB9KSxlLmhlYWRlcnM9bmUoe30sdGhpcy5jb25maWcucmVxdWVzdF9oZWFkZXJzKSxlLmNvbXByZXNzaW9uPVwiYmVzdC1hdmFpbGFibGVcIj09PWUuY29tcHJlc3Npb24/dGhpcy5jb21wcmVzc2lvbjplLmNvbXByZXNzaW9uLGUuZmV0Y2hPcHRpb25zPWUuZmV0Y2hPcHRpb25zfHx0aGlzLmNvbmZpZy5mZXRjaF9vcHRpb25zLChlPT57dmFyIHQsaSxyLHM9bmUoe30sZSk7cy50aW1lb3V0PXMudGltZW91dHx8NmU0LHMudXJsPVNzKHMudXJsLHtfOihuZXcgRGF0ZSkuZ2V0VGltZSgpLnRvU3RyaW5nKCksdmVyOnAuTElCX1ZFUlNJT04sY29tcHJlc3Npb246cy5jb21wcmVzc2lvbn0pO3ZhciBuPW51bGwhPT0odD1zLnRyYW5zcG9ydCkmJnZvaWQgMCE9PXQ/dDpcImZldGNoXCIsbz1udWxsIT09KGk9bnVsbD09PShyPVQoeHMsKGU9PmUudHJhbnNwb3J0PT09bikpKXx8dm9pZCAwPT09cj92b2lkIDA6ci5tZXRob2QpJiZ2b2lkIDAhPT1pP2k6eHNbMF0ubWV0aG9kO2lmKCFvKXRocm93IG5ldyBFcnJvcihcIk5vIGF2YWlsYWJsZSB0cmFuc3BvcnQgbWV0aG9kXCIpO28ocyl9KShuZShuZSh7fSxlKSx7fSx7Y2FsbGJhY2s6dD0+e3ZhciBpLHIsczsodGhpcy5yYXRlTGltaXRlci5jaGVja0ZvckxpbWl0aW5nKHQpLHQuc3RhdHVzQ29kZT49NDAwKSYmKG51bGw9PT0ocj0ocz10aGlzLmNvbmZpZykub25fcmVxdWVzdF9lcnJvcil8fHZvaWQgMD09PXJ8fHIuY2FsbChzLHQpKTtudWxsPT09KGk9ZS5jYWxsYmFjayl8fHZvaWQgMD09PWl8fGkuY2FsbChlLHQpfX0pKSkpfV9zZW5kX3JldHJpYWJsZV9yZXF1ZXN0KGUpe3RoaXMuX3JldHJ5UXVldWU/dGhpcy5fcmV0cnlRdWV1ZS5yZXRyaWFibGVSZXF1ZXN0KGUpOnRoaXMuX3NlbmRfcmVxdWVzdChlKX1fZXhlY3V0ZV9hcnJheShlKXt2YXIgdCxpPVtdLHI9W10scz1bXTtiKGUsKGU9PntlJiYodD1lWzBdLEIodCk/cy5wdXNoKGUpOkgoZSk/ZS5jYWxsKHRoaXMpOkIoZSkmJlwiYWxpYXNcIj09PXQ/aS5wdXNoKGUpOkIoZSkmJi0xIT09dC5pbmRleE9mKFwiY2FwdHVyZVwiKSYmSCh0aGlzW3RdKT9zLnB1c2goZSk6ci5wdXNoKGUpKX0pKTt2YXIgbj1mdW5jdGlvbihlLHQpe2IoZSwoZnVuY3Rpb24oZSl7aWYoQihlWzBdKSl7dmFyIGk9dDt5KGUsKGZ1bmN0aW9uKGUpe2k9aVtlWzBdXS5hcHBseShpLGUuc2xpY2UoMSkpfSkpfWVsc2UgdGhpc1tlWzBdXS5hcHBseSh0aGlzLGUuc2xpY2UoMSkpfSksdCl9O24oaSx0aGlzKSxuKHIsdGhpcyksbihzLHRoaXMpfV9oYXNCb290c3RyYXBwZWRGZWF0dXJlRmxhZ3MoKXt2YXIgZSx0O3JldHVybihudWxsPT09KGU9dGhpcy5jb25maWcuYm9vdHN0cmFwKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5mZWF0dXJlRmxhZ3MpJiZPYmplY3Qua2V5cyhudWxsPT09KHQ9dGhpcy5jb25maWcuYm9vdHN0cmFwKXx8dm9pZCAwPT09dD92b2lkIDA6dC5mZWF0dXJlRmxhZ3MpLmxlbmd0aD4wfHwhMX1wdXNoKGUpe3RoaXMuX2V4ZWN1dGVfYXJyYXkoW2VdKX1jYXB0dXJlKGUsdCxpKXt2YXIgcjtpZih0aGlzLl9fbG9hZGVkJiZ0aGlzLnBlcnNpc3RlbmNlJiZ0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZSYmdGhpcy5fcmVxdWVzdFF1ZXVlKXtpZighdGhpcy5jb25zZW50LmlzT3B0ZWRPdXQoKSlpZigheihlKSYmVyhlKSl7aWYodGhpcy5jb25maWcub3B0X291dF91c2VyYWdlbnRfZmlsdGVyfHwhdGhpcy5faXNfYm90KCkpe3ZhciBzPW51bGwhPWkmJmkuc2tpcF9jbGllbnRfcmF0ZV9saW1pdGluZz92b2lkIDA6dGhpcy5yYXRlTGltaXRlci5jbGllbnRSYXRlTGltaXRDb250ZXh0KCk7aWYobnVsbD09c3x8IXMuaXNSYXRlTGltaXRlZCl7dGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UudXBkYXRlX3NlYXJjaF9rZXl3b3JkKCksdGhpcy5jb25maWcuc2F2ZV9jYW1wYWlnbl9wYXJhbXMmJnRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlLnVwZGF0ZV9jYW1wYWlnbl9wYXJhbXMoKSx0aGlzLmNvbmZpZy5zYXZlX3JlZmVycmVyJiZ0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZS51cGRhdGVfcmVmZXJyZXJfaW5mbygpLCh0aGlzLmNvbmZpZy5zYXZlX2NhbXBhaWduX3BhcmFtc3x8dGhpcy5jb25maWcuc2F2ZV9yZWZlcnJlcikmJnRoaXMucGVyc2lzdGVuY2Uuc2V0X2luaXRpYWxfcGVyc29uX2luZm8oKTt2YXIgbj1uZXcgRGF0ZSxvPShudWxsPT1pP3ZvaWQgMDppLnRpbWVzdGFtcCl8fG4sYT1zdCgpLGw9e3V1aWQ6YSxldmVudDplLHByb3BlcnRpZXM6dGhpcy5fY2FsY3VsYXRlX2V2ZW50X3Byb3BlcnRpZXMoZSx0fHx7fSxvLGEpfTtzJiYobC5wcm9wZXJ0aWVzLiRsaWJfcmF0ZV9saW1pdF9yZW1haW5pbmdfdG9rZW5zPXMucmVtYWluaW5nVG9rZW5zKSwobnVsbD09aT92b2lkIDA6aS4kc2V0KSYmKGwuJHNldD1udWxsPT1pP3ZvaWQgMDppLiRzZXQpO3ZhciB1PXRoaXMuX2NhbGN1bGF0ZV9zZXRfb25jZV9wcm9wZXJ0aWVzKG51bGw9PWk/dm9pZCAwOmkuJHNldF9vbmNlKTt1JiYobC4kc2V0X29uY2U9dSksKGw9QyhsLG51bGwhPWkmJmkuX25vVHJ1bmNhdGU/bnVsbDp0aGlzLmNvbmZpZy5wcm9wZXJ0aWVzX3N0cmluZ19tYXhfbGVuZ3RoKSkudGltZXN0YW1wPW8seihudWxsPT1pP3ZvaWQgMDppLnRpbWVzdGFtcCl8fChsLnByb3BlcnRpZXMuJGV2ZW50X3RpbWVfb3ZlcnJpZGVfcHJvdmlkZWQ9ITAsbC5wcm9wZXJ0aWVzLiRldmVudF90aW1lX292ZXJyaWRlX3N5c3RlbV90aW1lPW4pO3ZhciBjPW5lKG5lKHt9LGwucHJvcGVydGllcy4kc2V0KSxsLiRzZXQpO2lmKGooYyl8fHRoaXMuc2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKGMpLCFKKHRoaXMuY29uZmlnLmJlZm9yZV9zZW5kKSl7dmFyIGQ9dGhpcy5fcnVuQmVmb3JlU2VuZChsKTtpZighZClyZXR1cm47bD1kfXRoaXMuX2ludGVybmFsRXZlbnRFbWl0dGVyLmVtaXQoXCJldmVudENhcHR1cmVkXCIsbCk7dmFyIGg9e21ldGhvZDpcIlBPU1RcIix1cmw6bnVsbCE9PShyPW51bGw9PWk/dm9pZCAwOmkuX3VybCkmJnZvaWQgMCE9PXI/cjp0aGlzLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJhcGlcIix0aGlzLmFuYWx5dGljc0RlZmF1bHRFbmRwb2ludCksZGF0YTpsLGNvbXByZXNzaW9uOlwiYmVzdC1hdmFpbGFibGVcIixiYXRjaEtleTpudWxsPT1pP3ZvaWQgMDppLl9iYXRjaEtleX07cmV0dXJuIXRoaXMuY29uZmlnLnJlcXVlc3RfYmF0Y2hpbmd8fGkmJihudWxsPT1pfHwhaS5fYmF0Y2hLZXkpfHxudWxsIT1pJiZpLnNlbmRfaW5zdGFudGx5P3RoaXMuX3NlbmRfcmV0cmlhYmxlX3JlcXVlc3QoaCk6dGhpcy5fcmVxdWVzdFF1ZXVlLmVucXVldWUoaCksbH1lZS5jcml0aWNhbChcIlRoaXMgY2FwdHVyZSBjYWxsIGlzIGlnbm9yZWQgZHVlIHRvIGNsaWVudCByYXRlIGxpbWl0aW5nLlwiKX19ZWxzZSBlZS5lcnJvcihcIk5vIGV2ZW50IG5hbWUgcHJvdmlkZWQgdG8gcG9zdGhvZy5jYXB0dXJlXCIpfWVsc2UgZWUudW5pbml0aWFsaXplZFdhcm5pbmcoXCJwb3N0aG9nLmNhcHR1cmVcIil9X2FkZENhcHR1cmVIb29rKGUpe3JldHVybiB0aGlzLm9uKFwiZXZlbnRDYXB0dXJlZFwiLCh0PT5lKHQuZXZlbnQsdCkpKX1fY2FsY3VsYXRlX2V2ZW50X3Byb3BlcnRpZXMoZSx0LGkscil7aWYoaT1pfHxuZXcgRGF0ZSwhdGhpcy5wZXJzaXN0ZW5jZXx8IXRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlKXJldHVybiB0O3ZhciBzPXRoaXMucGVyc2lzdGVuY2UucmVtb3ZlX2V2ZW50X3RpbWVyKGUpLG49bmUoe30sdCk7aWYobi50b2tlbj10aGlzLmNvbmZpZy50b2tlbix0aGlzLmNvbmZpZy5fX3ByZXZpZXdfZXhwZXJpbWVudGFsX2Nvb2tpZWxlc3NfbW9kZSYmKG4uJGNvb2tpZWxlc3NfbW9kZT0hMCksXCIkc25hcHNob3RcIj09PWUpe3ZhciBvPW5lKG5lKHt9LHRoaXMucGVyc2lzdGVuY2UucHJvcGVydGllcygpKSx0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZS5wcm9wZXJ0aWVzKCkpO3JldHVybiBuLmRpc3RpbmN0X2lkPW8uZGlzdGluY3RfaWQsKCFXKG4uZGlzdGluY3RfaWQpJiYhWShuLmRpc3RpbmN0X2lkKXx8VihuLmRpc3RpbmN0X2lkKSkmJmVlLmVycm9yKFwiSW52YWxpZCBkaXN0aW5jdF9pZCBmb3IgcmVwbGF5IGV2ZW50LiBUaGlzIGluZGljYXRlcyBhIGJ1ZyBpbiB5b3VyIGltcGxlbWVudGF0aW9uXCIpLG59dmFyIGwsdT1FaS5wcm9wZXJ0aWVzKHttYXNrUGVyc29uYWxEYXRhUHJvcGVydGllczp0aGlzLmNvbmZpZy5tYXNrX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllcyxjdXN0b21QZXJzb25hbERhdGFQcm9wZXJ0aWVzOnRoaXMuY29uZmlnLmN1c3RvbV9wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXN9KTtpZih0aGlzLnNlc3Npb25NYW5hZ2VyKXt2YXJ7c2Vzc2lvbklkOmMsd2luZG93SWQ6ZH09dGhpcy5zZXNzaW9uTWFuYWdlci5jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCgpO24uJHNlc3Npb25faWQ9YyxuLiR3aW5kb3dfaWQ9ZH1pZih0aGlzLnNlc3Npb25SZWNvcmRpbmcmJihuLiRyZWNvcmRpbmdfc3RhdHVzPXRoaXMuc2Vzc2lvblJlY29yZGluZy5zdGF0dXMpLHRoaXMucmVxdWVzdFJvdXRlci5yZWdpb249PT1Qcy5DVVNUT00mJihuLiRsaWJfY3VzdG9tX2FwaV9ob3N0PXRoaXMuY29uZmlnLmFwaV9ob3N0KSxsPVwiJHBhZ2V2aWV3XCI9PT1lP3RoaXMucGFnZVZpZXdNYW5hZ2VyLmRvUGFnZVZpZXcoaSxyKTpcIiRwYWdlbGVhdmVcIj09PWU/dGhpcy5wYWdlVmlld01hbmFnZXIuZG9QYWdlTGVhdmUoaSk6dGhpcy5wYWdlVmlld01hbmFnZXIuZG9FdmVudCgpLG49dyhuLGwpLFwiJHBhZ2V2aWV3XCI9PT1lJiZhJiYobi50aXRsZT1hLnRpdGxlKSwheihzKSl7dmFyIF89aS5nZXRUaW1lKCktcztuLiRkdXJhdGlvbj1wYXJzZUZsb2F0KChfLzFlMykudG9GaXhlZCgzKSl9aCYmdGhpcy5jb25maWcub3B0X291dF91c2VyYWdlbnRfZmlsdGVyJiYobi4kYnJvd3Nlcl90eXBlPXRoaXMuX2lzX2JvdCgpP1wiYm90XCI6XCJicm93c2VyXCIpLChuPXcoe30sdSx0aGlzLnBlcnNpc3RlbmNlLnByb3BlcnRpZXMoKSx0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZS5wcm9wZXJ0aWVzKCksbikpLiRpc19pZGVudGlmaWVkPXRoaXMuX2lzSWRlbnRpZmllZCgpLEIodGhpcy5jb25maWcucHJvcGVydHlfZGVueWxpc3QpP3kodGhpcy5jb25maWcucHJvcGVydHlfZGVueWxpc3QsKGZ1bmN0aW9uKGUpe2RlbGV0ZSBuW2VdfSkpOmVlLmVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgcHJvcGVydHlfZGVueWxpc3QgY29uZmlnOiBcIit0aGlzLmNvbmZpZy5wcm9wZXJ0eV9kZW55bGlzdCtcIiBvciBwcm9wZXJ0eV9ibGFja2xpc3QgY29uZmlnOiBcIit0aGlzLmNvbmZpZy5wcm9wZXJ0eV9ibGFja2xpc3QpO3ZhciBwPXRoaXMuY29uZmlnLnNhbml0aXplX3Byb3BlcnRpZXM7cCYmKGVlLmVycm9yKFwic2FuaXRpemVfcHJvcGVydGllcyBpcyBkZXByZWNhdGVkLiBVc2UgYmVmb3JlX3NlbmQgaW5zdGVhZFwiKSxuPXAobixlKSk7dmFyIHY9dGhpcy5faGFzUGVyc29uUHJvY2Vzc2luZygpO3JldHVybiBuLiRwcm9jZXNzX3BlcnNvbl9wcm9maWxlPXYsdiYmdGhpcy5fcmVxdWlyZVBlcnNvblByb2Nlc3NpbmcoXCJfY2FsY3VsYXRlX2V2ZW50X3Byb3BlcnRpZXNcIiksbn1fY2FsY3VsYXRlX3NldF9vbmNlX3Byb3BlcnRpZXMoZSl7aWYoIXRoaXMucGVyc2lzdGVuY2V8fCF0aGlzLl9oYXNQZXJzb25Qcm9jZXNzaW5nKCkpcmV0dXJuIGU7dmFyIHQ9dyh7fSx0aGlzLnBlcnNpc3RlbmNlLmdldF9pbml0aWFsX3Byb3BzKCksZXx8e30pLGk9dGhpcy5jb25maWcuc2FuaXRpemVfcHJvcGVydGllcztyZXR1cm4gaSYmKGVlLmVycm9yKFwic2FuaXRpemVfcHJvcGVydGllcyBpcyBkZXByZWNhdGVkLiBVc2UgYmVmb3JlX3NlbmQgaW5zdGVhZFwiKSx0PWkodCxcIiRzZXRfb25jZVwiKSksaih0KT92b2lkIDA6dH1yZWdpc3RlcihlLHQpe3ZhciBpO251bGw9PT0oaT10aGlzLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09aXx8aS5yZWdpc3RlcihlLHQpfXJlZ2lzdGVyX29uY2UoZSx0LGkpe3ZhciByO251bGw9PT0ocj10aGlzLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09cnx8ci5yZWdpc3Rlcl9vbmNlKGUsdCxpKX1yZWdpc3Rlcl9mb3Jfc2Vzc2lvbihlKXt2YXIgdDtudWxsPT09KHQ9dGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10fHx0LnJlZ2lzdGVyKGUpfXVucmVnaXN0ZXIoZSl7dmFyIHQ7bnVsbD09PSh0PXRoaXMucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10fHx0LnVucmVnaXN0ZXIoZSl9dW5yZWdpc3Rlcl9mb3Jfc2Vzc2lvbihlKXt2YXIgdDtudWxsPT09KHQ9dGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10fHx0LnVucmVnaXN0ZXIoZSl9X3JlZ2lzdGVyX3NpbmdsZShlLHQpe3RoaXMucmVnaXN0ZXIoe1tlXTp0fSl9Z2V0RmVhdHVyZUZsYWcoZSx0KXtyZXR1cm4gdGhpcy5mZWF0dXJlRmxhZ3MuZ2V0RmVhdHVyZUZsYWcoZSx0KX1nZXRGZWF0dXJlRmxhZ1BheWxvYWQoZSl7dmFyIHQ9dGhpcy5mZWF0dXJlRmxhZ3MuZ2V0RmVhdHVyZUZsYWdQYXlsb2FkKGUpO3RyeXtyZXR1cm4gSlNPTi5wYXJzZSh0KX1jYXRjaChlKXtyZXR1cm4gdH19aXNGZWF0dXJlRW5hYmxlZChlLHQpe3JldHVybiB0aGlzLmZlYXR1cmVGbGFncy5pc0ZlYXR1cmVFbmFibGVkKGUsdCl9cmVsb2FkRmVhdHVyZUZsYWdzKCl7dGhpcy5mZWF0dXJlRmxhZ3MucmVsb2FkRmVhdHVyZUZsYWdzKCl9dXBkYXRlRWFybHlBY2Nlc3NGZWF0dXJlRW5yb2xsbWVudChlLHQpe3RoaXMuZmVhdHVyZUZsYWdzLnVwZGF0ZUVhcmx5QWNjZXNzRmVhdHVyZUVucm9sbG1lbnQoZSx0KX1nZXRFYXJseUFjY2Vzc0ZlYXR1cmVzKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07cmV0dXJuIHRoaXMuZmVhdHVyZUZsYWdzLmdldEVhcmx5QWNjZXNzRmVhdHVyZXMoZSx0KX1vbihlLHQpe3JldHVybiB0aGlzLl9pbnRlcm5hbEV2ZW50RW1pdHRlci5vbihlLHQpfW9uRmVhdHVyZUZsYWdzKGUpe3JldHVybiB0aGlzLmZlYXR1cmVGbGFncy5vbkZlYXR1cmVGbGFncyhlKX1vblNlc3Npb25JZChlKXt2YXIgdCxpO3JldHVybiBudWxsIT09KHQ9bnVsbD09PShpPXRoaXMuc2Vzc2lvbk1hbmFnZXIpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLm9uU2Vzc2lvbklkKGUpKSYmdm9pZCAwIT09dD90OigpPT57fX1nZXRTdXJ2ZXlzKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07dGhpcy5zdXJ2ZXlzLmdldFN1cnZleXMoZSx0KX1nZXRBY3RpdmVNYXRjaGluZ1N1cnZleXMoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTt0aGlzLnN1cnZleXMuZ2V0QWN0aXZlTWF0Y2hpbmdTdXJ2ZXlzKGUsdCl9cmVuZGVyU3VydmV5KGUsdCl7dGhpcy5zdXJ2ZXlzLnJlbmRlclN1cnZleShlLHQpfWNhblJlbmRlclN1cnZleShlKXt0aGlzLnN1cnZleXMuY2FuUmVuZGVyU3VydmV5KGUpfWdldE5leHRTdXJ2ZXlTdGVwKGUsdCxpKXtyZXR1cm4gdGhpcy5zdXJ2ZXlzLmdldE5leHRTdXJ2ZXlTdGVwKGUsdCxpKX1pZGVudGlmeShlLHQsaSl7aWYoIXRoaXMuX19sb2FkZWR8fCF0aGlzLnBlcnNpc3RlbmNlKXJldHVybiBlZS51bmluaXRpYWxpemVkV2FybmluZyhcInBvc3Rob2cuaWRlbnRpZnlcIik7aWYoWShlKSYmKGU9ZS50b1N0cmluZygpLGVlLndhcm4oXCJUaGUgZmlyc3QgYXJndW1lbnQgdG8gcG9zdGhvZy5pZGVudGlmeSB3YXMgYSBudW1iZXIsIGJ1dCBpdCBzaG91bGQgYmUgYSBzdHJpbmcuIEl0IGhhcyBiZWVuIGNvbnZlcnRlZCB0byBhIHN0cmluZy5cIikpLGUpe2lmKFtcImRpc3RpbmN0X2lkXCIsXCJkaXN0aW5jdGlkXCJdLmluY2x1ZGVzKGUudG9Mb3dlckNhc2UoKSkpZWUuY3JpdGljYWwoJ1RoZSBzdHJpbmcgXCInLmNvbmNhdChlLCdcIiB3YXMgc2V0IGluIHBvc3Rob2cuaWRlbnRpZnkgd2hpY2ggaW5kaWNhdGVzIGFuIGVycm9yLiBUaGlzIElEIHNob3VsZCBiZSB1bmlxdWUgdG8gdGhlIHVzZXIgYW5kIG5vdCBhIGhhcmRjb2RlZCBzdHJpbmcuJykpO2Vsc2UgaWYodGhpcy5fcmVxdWlyZVBlcnNvblByb2Nlc3NpbmcoXCJwb3N0aG9nLmlkZW50aWZ5XCIpKXt2YXIgcj10aGlzLmdldF9kaXN0aW5jdF9pZCgpO2lmKHRoaXMucmVnaXN0ZXIoeyR1c2VyX2lkOmV9KSwhdGhpcy5nZXRfcHJvcGVydHkoXCIkZGV2aWNlX2lkXCIpKXt2YXIgcz1yO3RoaXMucmVnaXN0ZXJfb25jZSh7JGhhZF9wZXJzaXN0ZWRfZGlzdGluY3RfaWQ6ITAsJGRldmljZV9pZDpzfSxcIlwiKX1lIT09ciYmZSE9PXRoaXMuZ2V0X3Byb3BlcnR5KHVlKSYmKHRoaXMudW5yZWdpc3Rlcih1ZSksdGhpcy5yZWdpc3Rlcih7ZGlzdGluY3RfaWQ6ZX0pKTt2YXIgbj1cImFub255bW91c1wiPT09KHRoaXMucGVyc2lzdGVuY2UuZ2V0X3Byb3BlcnR5KEFlKXx8XCJhbm9ueW1vdXNcIik7ZSE9PXImJm4/KHRoaXMucGVyc2lzdGVuY2Uuc2V0X3Byb3BlcnR5KEFlLFwiaWRlbnRpZmllZFwiKSx0aGlzLnNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncyhuZShuZSh7fSxpfHx7fSksdHx8e30pLCExKSx0aGlzLmNhcHR1cmUoXCIkaWRlbnRpZnlcIix7ZGlzdGluY3RfaWQ6ZSwkYW5vbl9kaXN0aW5jdF9pZDpyfSx7JHNldDp0fHx7fSwkc2V0X29uY2U6aXx8e319KSx0aGlzLmZlYXR1cmVGbGFncy5zZXRBbm9ueW1vdXNEaXN0aW5jdElkKHIpLHRoaXMuX2NhY2hlZElkZW50aWZ5PWdvKGUsdCxpKSk6KHR8fGkpJiYodGhpcy5fY2FjaGVkSWRlbnRpZnkhPT1nbyhlLHQsaSk/KHRoaXMuc2V0UGVyc29uUHJvcGVydGllcyh0LGkpLHRoaXMuX2NhY2hlZElkZW50aWZ5PWdvKGUsdCxpKSk6ZWUuaW5mbyhcIkEgZHVwbGljYXRlIHBvc3Rob2cuaWRlbnRpZnkgY2FsbCB3YXMgbWFkZSB3aXRoIHRoZSBzYW1lIHByb3BlcnRpZXMuIEl0IGhhcyBiZWVuIGlnbm9yZWQuXCIpKSxlIT09ciYmKHRoaXMucmVsb2FkRmVhdHVyZUZsYWdzKCksdGhpcy51bnJlZ2lzdGVyKE1lKSl9fWVsc2UgZWUuZXJyb3IoXCJVbmlxdWUgdXNlciBpZCBoYXMgbm90IGJlZW4gc2V0IGluIHBvc3Rob2cuaWRlbnRpZnlcIil9c2V0UGVyc29uUHJvcGVydGllcyhlLHQpeyhlfHx0KSYmdGhpcy5fcmVxdWlyZVBlcnNvblByb2Nlc3NpbmcoXCJwb3N0aG9nLnNldFBlcnNvblByb3BlcnRpZXNcIikmJih0aGlzLnNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncyhuZShuZSh7fSx0fHx7fSksZXx8e30pKSx0aGlzLmNhcHR1cmUoXCIkc2V0XCIseyRzZXQ6ZXx8e30sJHNldF9vbmNlOnR8fHt9fSkpfWdyb3VwKGUsdCxpKXtpZihlJiZ0KXtpZih0aGlzLl9yZXF1aXJlUGVyc29uUHJvY2Vzc2luZyhcInBvc3Rob2cuZ3JvdXBcIikpe3ZhciByPXRoaXMuZ2V0R3JvdXBzKCk7cltlXSE9PXQmJnRoaXMucmVzZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyhlKSx0aGlzLnJlZ2lzdGVyKHskZ3JvdXBzOm5lKG5lKHt9LHIpLHt9LHtbZV06dH0pfSksaSYmKHRoaXMuY2FwdHVyZShcIiRncm91cGlkZW50aWZ5XCIseyRncm91cF90eXBlOmUsJGdyb3VwX2tleTp0LCRncm91cF9zZXQ6aX0pLHRoaXMuc2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3Moe1tlXTppfSkpLHJbZV09PT10fHxpfHx0aGlzLnJlbG9hZEZlYXR1cmVGbGFncygpfX1lbHNlIGVlLmVycm9yKFwicG9zdGhvZy5ncm91cCByZXF1aXJlcyBhIGdyb3VwIHR5cGUgYW5kIGdyb3VwIGtleVwiKX1yZXNldEdyb3Vwcygpe3RoaXMucmVnaXN0ZXIoeyRncm91cHM6e319KSx0aGlzLnJlc2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3MoKSx0aGlzLnJlbG9hZEZlYXR1cmVGbGFncygpfXNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncyhlKXt2YXIgdD0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdO3RoaXMuZmVhdHVyZUZsYWdzLnNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncyhlLHQpfXJlc2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKCl7dGhpcy5mZWF0dXJlRmxhZ3MucmVzZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3MoKX1zZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyhlKXt2YXIgdD0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdO3RoaXMuX3JlcXVpcmVQZXJzb25Qcm9jZXNzaW5nKFwicG9zdGhvZy5zZXRHcm91cFByb3BlcnRpZXNGb3JGbGFnc1wiKSYmdGhpcy5mZWF0dXJlRmxhZ3Muc2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3MoZSx0KX1yZXNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKGUpe3RoaXMuZmVhdHVyZUZsYWdzLnJlc2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3MoZSl9cmVzZXQoZSl7dmFyIHQsaSxyLHM7aWYoZWUuaW5mbyhcInJlc2V0XCIpLCF0aGlzLl9fbG9hZGVkKXJldHVybiBlZS51bmluaXRpYWxpemVkV2FybmluZyhcInBvc3Rob2cucmVzZXRcIik7dmFyIG49dGhpcy5nZXRfcHJvcGVydHkoXCIkZGV2aWNlX2lkXCIpO2lmKHRoaXMuY29uc2VudC5yZXNldCgpLG51bGw9PT0odD10aGlzLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dHx8dC5jbGVhcigpLG51bGw9PT0oaT10aGlzLnNlc3Npb25QZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWl8fGkuY2xlYXIoKSx0aGlzLnN1cnZleXMucmVzZXQoKSxudWxsPT09KHI9dGhpcy5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PXJ8fHIuc2V0X3Byb3BlcnR5KEFlLFwiYW5vbnltb3VzXCIpLG51bGw9PT0ocz10aGlzLnNlc3Npb25NYW5hZ2VyKXx8dm9pZCAwPT09c3x8cy5yZXNldFNlc3Npb25JZCgpLHRoaXMuX2NhY2hlZElkZW50aWZ5PW51bGwsdGhpcy5jb25maWcuX19wcmV2aWV3X2V4cGVyaW1lbnRhbF9jb29raWVsZXNzX21vZGUpdGhpcy5yZWdpc3Rlcl9vbmNlKHtkaXN0aW5jdF9pZDpqZSwkZGV2aWNlX2lkOm51bGx9LFwiXCIpO2Vsc2V7dmFyIG89dGhpcy5jb25maWcuZ2V0X2RldmljZV9pZChzdCgpKTt0aGlzLnJlZ2lzdGVyX29uY2Uoe2Rpc3RpbmN0X2lkOm8sJGRldmljZV9pZDplP286bn0sXCJcIil9dGhpcy5yZWdpc3Rlcih7JGxhc3RfcG9zdGhvZ19yZXNldDoobmV3IERhdGUpLnRvSVNPU3RyaW5nKCl9LDEpfWdldF9kaXN0aW5jdF9pZCgpe3JldHVybiB0aGlzLmdldF9wcm9wZXJ0eShcImRpc3RpbmN0X2lkXCIpfWdldEdyb3Vwcygpe3JldHVybiB0aGlzLmdldF9wcm9wZXJ0eShcIiRncm91cHNcIil8fHt9fWdldF9zZXNzaW9uX2lkKCl7dmFyIGUsdDtyZXR1cm4gbnVsbCE9PShlPW51bGw9PT0odD10aGlzLnNlc3Npb25NYW5hZ2VyKXx8dm9pZCAwPT09dD92b2lkIDA6dC5jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCghMCkuc2Vzc2lvbklkKSYmdm9pZCAwIT09ZT9lOlwiXCJ9Z2V0X3Nlc3Npb25fcmVwbGF5X3VybChlKXtpZighdGhpcy5zZXNzaW9uTWFuYWdlcilyZXR1cm5cIlwiO3ZhcntzZXNzaW9uSWQ6dCxzZXNzaW9uU3RhcnRUaW1lc3RhbXA6aX09dGhpcy5zZXNzaW9uTWFuYWdlci5jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCghMCkscj10aGlzLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJ1aVwiLFwiL3Byb2plY3QvXCIuY29uY2F0KHRoaXMuY29uZmlnLnRva2VuLFwiL3JlcGxheS9cIikuY29uY2F0KHQpKTtpZihudWxsIT1lJiZlLndpdGhUaW1lc3RhbXAmJmkpe3ZhciBzLG49bnVsbCE9PShzPWUudGltZXN0YW1wTG9va0JhY2spJiZ2b2lkIDAhPT1zP3M6MTA7aWYoIWkpcmV0dXJuIHI7dmFyIG89TWF0aC5tYXgoTWF0aC5mbG9vcigoKG5ldyBEYXRlKS5nZXRUaW1lKCktaSkvMWUzKS1uLDApO3IrPVwiP3Q9XCIuY29uY2F0KG8pfXJldHVybiByfWFsaWFzKGUsdCl7cmV0dXJuIGU9PT10aGlzLmdldF9wcm9wZXJ0eShsZSk/KGVlLmNyaXRpY2FsKFwiQXR0ZW1wdGluZyB0byBjcmVhdGUgYWxpYXMgZm9yIGV4aXN0aW5nIFBlb3BsZSB1c2VyIC0gYWJvcnRpbmcuXCIpLC0yKTp0aGlzLl9yZXF1aXJlUGVyc29uUHJvY2Vzc2luZyhcInBvc3Rob2cuYWxpYXNcIik/KHoodCkmJih0PXRoaXMuZ2V0X2Rpc3RpbmN0X2lkKCkpLGUhPT10Pyh0aGlzLl9yZWdpc3Rlcl9zaW5nbGUodWUsZSksdGhpcy5jYXB0dXJlKFwiJGNyZWF0ZV9hbGlhc1wiLHthbGlhczplLGRpc3RpbmN0X2lkOnR9KSk6KGVlLndhcm4oXCJhbGlhcyBtYXRjaGVzIGN1cnJlbnQgZGlzdGluY3RfaWQgLSBza2lwcGluZyBhcGkgY2FsbC5cIiksdGhpcy5pZGVudGlmeShlKSwtMSkpOnZvaWQgMH1zZXRfY29uZmlnKGUpe3ZhciB0LGkscixzLG49bmUoe30sdGhpcy5jb25maWcpO1UoZSkmJih3KHRoaXMuY29uZmlnLFNvKGUpKSxudWxsPT09KHQ9dGhpcy5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PXR8fHQudXBkYXRlX2NvbmZpZyh0aGlzLmNvbmZpZyxuKSx0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZT1cInNlc3Npb25TdG9yYWdlXCI9PT10aGlzLmNvbmZpZy5wZXJzaXN0ZW5jZXx8XCJtZW1vcnlcIj09PXRoaXMuY29uZmlnLnBlcnNpc3RlbmNlP3RoaXMucGVyc2lzdGVuY2U6bmV3IElpKG5lKG5lKHt9LHRoaXMuY29uZmlnKSx7fSx7cGVyc2lzdGVuY2U6XCJzZXNzaW9uU3RvcmFnZVwifSkpLGh0LmlzX3N1cHBvcnRlZCgpJiZcInRydWVcIj09PWh0LmdldChcInBoX2RlYnVnXCIpJiYodGhpcy5jb25maWcuZGVidWc9ITApLHRoaXMuY29uZmlnLmRlYnVnJiYocC5ERUJVRz0hMCxlZS5pbmZvKFwic2V0X2NvbmZpZ1wiLHtjb25maWc6ZSxvbGRDb25maWc6bixuZXdDb25maWc6bmUoe30sdGhpcy5jb25maWcpfSkpLG51bGw9PT0oaT10aGlzLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT1pfHxpLnN0YXJ0SWZFbmFibGVkT3JTdG9wKCksbnVsbD09PShyPXRoaXMuYXV0b2NhcHR1cmUpfHx2b2lkIDA9PT1yfHxyLnN0YXJ0SWZFbmFibGVkKCksbnVsbD09PShzPXRoaXMuaGVhdG1hcHMpfHx2b2lkIDA9PT1zfHxzLnN0YXJ0SWZFbmFibGVkKCksdGhpcy5zdXJ2ZXlzLmxvYWRJZkVuYWJsZWQoKSx0aGlzLl9zeW5jX29wdF9vdXRfd2l0aF9wZXJzaXN0ZW5jZSgpKX1zdGFydFNlc3Npb25SZWNvcmRpbmcoZSl7dmFyIHQ9ITA9PT1lLGk9e3NhbXBsaW5nOnR8fCEobnVsbD09ZXx8IWUuc2FtcGxpbmcpLGxpbmtlZF9mbGFnOnR8fCEobnVsbD09ZXx8IWUubGlua2VkX2ZsYWcpLHVybF90cmlnZ2VyOnR8fCEobnVsbD09ZXx8IWUudXJsX3RyaWdnZXIpLGV2ZW50X3RyaWdnZXI6dHx8IShudWxsPT1lfHwhZS5ldmVudF90cmlnZ2VyKX07aWYoT2JqZWN0LnZhbHVlcyhpKS5zb21lKEJvb2xlYW4pKXt2YXIgcixzLG4sbyxhO2lmKG51bGw9PT0ocj10aGlzLnNlc3Npb25NYW5hZ2VyKXx8dm9pZCAwPT09cnx8ci5jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCgpLGkuc2FtcGxpbmcpbnVsbD09PShzPXRoaXMuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PXN8fHMub3ZlcnJpZGVTYW1wbGluZygpO2lmKGkubGlua2VkX2ZsYWcpbnVsbD09PShuPXRoaXMuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PW58fG4ub3ZlcnJpZGVMaW5rZWRGbGFnKCk7aWYoaS51cmxfdHJpZ2dlciludWxsPT09KG89dGhpcy5zZXNzaW9uUmVjb3JkaW5nKXx8dm9pZCAwPT09b3x8by5vdmVycmlkZVRyaWdnZXIoXCJ1cmxcIik7aWYoaS5ldmVudF90cmlnZ2VyKW51bGw9PT0oYT10aGlzLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT1hfHxhLm92ZXJyaWRlVHJpZ2dlcihcImV2ZW50XCIpfXRoaXMuc2V0X2NvbmZpZyh7ZGlzYWJsZV9zZXNzaW9uX3JlY29yZGluZzohMX0pfXN0b3BTZXNzaW9uUmVjb3JkaW5nKCl7dGhpcy5zZXRfY29uZmlnKHtkaXNhYmxlX3Nlc3Npb25fcmVjb3JkaW5nOiEwfSl9c2Vzc2lvblJlY29yZGluZ1N0YXJ0ZWQoKXt2YXIgZTtyZXR1cm4hKG51bGw9PT0oZT10aGlzLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT1lfHwhZS5zdGFydGVkKX1jYXB0dXJlRXhjZXB0aW9uKGUsdCl7dmFyIGkscj1uZXcgRXJyb3IoXCJQb3N0SG9nIHN5bnRoZXRpY0V4Y2VwdGlvblwiKSxzPUgobnVsbD09PShpPV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09aT92b2lkIDA6aS5wYXJzZUVycm9yQXNQcm9wZXJ0aWVzKT9uZShuZSh7fSxfLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXy5wYXJzZUVycm9yQXNQcm9wZXJ0aWVzKFtlLm1lc3NhZ2Usdm9pZCAwLHZvaWQgMCx2b2lkIDAsZV0se3N5bnRoZXRpY0V4Y2VwdGlvbjpyfSkpLHQpOm5lKHskZXhjZXB0aW9uX2xldmVsOlwiZXJyb3JcIiwkZXhjZXB0aW9uX2xpc3Q6W3t0eXBlOmUubmFtZSx2YWx1ZTplLm1lc3NhZ2UsbWVjaGFuaXNtOntoYW5kbGVkOiEwLHN5bnRoZXRpYzohMX19XX0sdCk7dGhpcy5leGNlcHRpb25zLnNlbmRFeGNlcHRpb25FdmVudChzKX1sb2FkVG9vbGJhcihlKXtyZXR1cm4gdGhpcy50b29sYmFyLmxvYWRUb29sYmFyKGUpfWdldF9wcm9wZXJ0eShlKXt2YXIgdDtyZXR1cm4gbnVsbD09PSh0PXRoaXMucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnByb3BzW2VdfWdldFNlc3Npb25Qcm9wZXJ0eShlKXt2YXIgdDtyZXR1cm4gbnVsbD09PSh0PXRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5wcm9wc1tlXX10b1N0cmluZygpe3ZhciBlLHQ9bnVsbCE9PShlPXRoaXMuY29uZmlnLm5hbWUpJiZ2b2lkIDAhPT1lP2U6Ym87cmV0dXJuIHQhPT1ibyYmKHQ9Ym8rXCIuXCIrdCksdH1faXNJZGVudGlmaWVkKCl7dmFyIGUsdDtyZXR1cm5cImlkZW50aWZpZWRcIj09PShudWxsPT09KGU9dGhpcy5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuZ2V0X3Byb3BlcnR5KEFlKSl8fFwiaWRlbnRpZmllZFwiPT09KG51bGw9PT0odD10aGlzLnNlc3Npb25QZXJzaXN0ZW5jZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0X3Byb3BlcnR5KEFlKSl9X2hhc1BlcnNvblByb2Nlc3NpbmcoKXt2YXIgZSx0LGkscjtyZXR1cm4hKFwibmV2ZXJcIj09PXRoaXMuY29uZmlnLnBlcnNvbl9wcm9maWxlc3x8XCJpZGVudGlmaWVkX29ubHlcIj09PXRoaXMuY29uZmlnLnBlcnNvbl9wcm9maWxlcyYmIXRoaXMuX2lzSWRlbnRpZmllZCgpJiZqKHRoaXMuZ2V0R3JvdXBzKCkpJiYobnVsbD09PShlPXRoaXMucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1lfHxudWxsPT09KHQ9ZS5wcm9wcyl8fHZvaWQgMD09PXR8fCF0W3VlXSkmJihudWxsPT09KGk9dGhpcy5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWl8fG51bGw9PT0ocj1pLnByb3BzKXx8dm9pZCAwPT09cnx8IXJbSGVdKSl9X3Nob3VsZENhcHR1cmVQYWdlbGVhdmUoKXtyZXR1cm4hMD09PXRoaXMuY29uZmlnLmNhcHR1cmVfcGFnZWxlYXZlfHxcImlmX2NhcHR1cmVfcGFnZXZpZXdcIj09PXRoaXMuY29uZmlnLmNhcHR1cmVfcGFnZWxlYXZlJiZ0aGlzLmNvbmZpZy5jYXB0dXJlX3BhZ2V2aWV3fWNyZWF0ZVBlcnNvblByb2ZpbGUoKXt0aGlzLl9oYXNQZXJzb25Qcm9jZXNzaW5nKCl8fHRoaXMuX3JlcXVpcmVQZXJzb25Qcm9jZXNzaW5nKFwicG9zdGhvZy5jcmVhdGVQZXJzb25Qcm9maWxlXCIpJiZ0aGlzLnNldFBlcnNvblByb3BlcnRpZXMoe30se30pfV9yZXF1aXJlUGVyc29uUHJvY2Vzc2luZyhlKXtyZXR1cm5cIm5ldmVyXCI9PT10aGlzLmNvbmZpZy5wZXJzb25fcHJvZmlsZXM/KGVlLmVycm9yKGUrJyB3YXMgY2FsbGVkLCBidXQgcHJvY2Vzc19wZXJzb24gaXMgc2V0IHRvIFwibmV2ZXJcIi4gVGhpcyBjYWxsIHdpbGwgYmUgaWdub3JlZC4nKSwhMSk6KHRoaXMuX3JlZ2lzdGVyX3NpbmdsZShIZSwhMCksITApfV9zeW5jX29wdF9vdXRfd2l0aF9wZXJzaXN0ZW5jZSgpe3ZhciBlLHQsaSxyLHM9dGhpcy5jb25zZW50LmlzT3B0ZWRPdXQoKSxuPXRoaXMuY29uZmlnLm9wdF9vdXRfcGVyc2lzdGVuY2VfYnlfZGVmYXVsdCxvPXRoaXMuY29uZmlnLmRpc2FibGVfcGVyc2lzdGVuY2V8fHMmJiEhbjsobnVsbD09PShlPXRoaXMucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmRpc2FibGVkKSE9PW8mJihudWxsPT09KGk9dGhpcy5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWl8fGkuc2V0X2Rpc2FibGVkKG8pKTsobnVsbD09PSh0PXRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5kaXNhYmxlZCkhPT1vJiYobnVsbD09PShyPXRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlKXx8dm9pZCAwPT09cnx8ci5zZXRfZGlzYWJsZWQobykpfW9wdF9pbl9jYXB0dXJpbmcoZSl7dmFyIHQ7KHRoaXMuY29uc2VudC5vcHRJbk91dCghMCksdGhpcy5fc3luY19vcHRfb3V0X3dpdGhfcGVyc2lzdGVuY2UoKSx6KG51bGw9PWU/dm9pZCAwOmUuY2FwdHVyZUV2ZW50TmFtZSl8fG51bGwhPWUmJmUuY2FwdHVyZUV2ZW50TmFtZSkmJnRoaXMuY2FwdHVyZShudWxsIT09KHQ9bnVsbD09ZT92b2lkIDA6ZS5jYXB0dXJlRXZlbnROYW1lKSYmdm9pZCAwIT09dD90OlwiJG9wdF9pblwiLG51bGw9PWU/dm9pZCAwOmUuY2FwdHVyZVByb3BlcnRpZXMse3NlbmRfaW5zdGFudGx5OiEwfSk7dGhpcy5jb25maWcuY2FwdHVyZV9wYWdldmlldyYmdGhpcy5fY2FwdHVyZUluaXRpYWxQYWdldmlldygpfW9wdF9vdXRfY2FwdHVyaW5nKCl7dGhpcy5jb25zZW50Lm9wdEluT3V0KCExKSx0aGlzLl9zeW5jX29wdF9vdXRfd2l0aF9wZXJzaXN0ZW5jZSgpfWhhc19vcHRlZF9pbl9jYXB0dXJpbmcoKXtyZXR1cm4gdGhpcy5jb25zZW50LmlzT3B0ZWRJbigpfWhhc19vcHRlZF9vdXRfY2FwdHVyaW5nKCl7cmV0dXJuIHRoaXMuY29uc2VudC5pc09wdGVkT3V0KCl9Y2xlYXJfb3B0X2luX291dF9jYXB0dXJpbmcoKXt0aGlzLmNvbnNlbnQucmVzZXQoKSx0aGlzLl9zeW5jX29wdF9vdXRfd2l0aF9wZXJzaXN0ZW5jZSgpfV9pc19ib3QoKXtyZXR1cm4gbz9ObihvLHRoaXMuY29uZmlnLmN1c3RvbV9ibG9ja2VkX3VzZXJhZ2VudHMpOnZvaWQgMH1fY2FwdHVyZUluaXRpYWxQYWdldmlldygpe2EmJiF0aGlzLl9pbml0aWFsUGFnZXZpZXdDYXB0dXJlZCYmKHRoaXMuX2luaXRpYWxQYWdldmlld0NhcHR1cmVkPSEwLHRoaXMuY2FwdHVyZShcIiRwYWdldmlld1wiLHt0aXRsZTphLnRpdGxlfSx7c2VuZF9pbnN0YW50bHk6ITB9KSl9ZGVidWcoZSl7ITE9PT1lPyhudWxsPT10fHx0LmNvbnNvbGUubG9nKFwiWW91J3ZlIGRpc2FibGVkIGRlYnVnIG1vZGUuXCIpLGxvY2FsU3RvcmFnZSYmbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJwaF9kZWJ1Z1wiKSx0aGlzLnNldF9jb25maWcoe2RlYnVnOiExfSkpOihudWxsPT10fHx0LmNvbnNvbGUubG9nKFwiWW91J3JlIG5vdyBpbiBkZWJ1ZyBtb2RlLiBBbGwgY2FsbHMgdG8gUG9zdEhvZyB3aWxsIGJlIGxvZ2dlZCBpbiB5b3VyIGNvbnNvbGUuXFxuWW91IGNhbiBkaXNhYmxlIHRoaXMgd2l0aCBgcG9zdGhvZy5kZWJ1ZyhmYWxzZSlgLlwiKSxsb2NhbFN0b3JhZ2UmJmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicGhfZGVidWdcIixcInRydWVcIiksdGhpcy5zZXRfY29uZmlnKHtkZWJ1ZzohMH0pKX1fcnVuQmVmb3JlU2VuZChlKXtpZihKKHRoaXMuY29uZmlnLmJlZm9yZV9zZW5kKSlyZXR1cm4gZTt2YXIgdD1CKHRoaXMuY29uZmlnLmJlZm9yZV9zZW5kKT90aGlzLmNvbmZpZy5iZWZvcmVfc2VuZDpbdGhpcy5jb25maWcuYmVmb3JlX3NlbmRdLGk9ZTtmb3IodmFyIHIgb2YgdCl7aWYoaT1yKGkpLEooaSkpe3ZhciBzPVwiRXZlbnQgJ1wiLmNvbmNhdChlLmV2ZW50LFwiJyB3YXMgcmVqZWN0ZWQgaW4gYmVmb3JlU2VuZCBmdW5jdGlvblwiKTtyZXR1cm4gUShlLmV2ZW50KT9lZS53YXJuKFwiXCIuY29uY2F0KHMsXCIuIFRoaXMgY2FuIGNhdXNlIHVuZXhwZWN0ZWQgYmVoYXZpb3IuXCIpKTplZS5pbmZvKHMpLG51bGx9aS5wcm9wZXJ0aWVzJiYhaihpLnByb3BlcnRpZXMpfHxlZS53YXJuKFwiRXZlbnQgJ1wiLmNvbmNhdChlLmV2ZW50LFwiJyBoYXMgbm8gcHJvcGVydGllcyBhZnRlciBiZWZvcmVTZW5kIGZ1bmN0aW9uLCB0aGlzIGlzIGxpa2VseSBhbiBlcnJvci5cIikpfXJldHVybiBpfWdldFBhZ2VWaWV3SWQoKXt2YXIgZTtyZXR1cm4gbnVsbD09PShlPXRoaXMucGFnZVZpZXdNYW5hZ2VyLl9jdXJyZW50UGFnZXZpZXcpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnBhZ2VWaWV3SWR9fSFmdW5jdGlvbihlLHQpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKWUucHJvdG90eXBlW3RbaV1dPXgoZS5wcm90b3R5cGVbdFtpXV0pfShFbyxbXCJpZGVudGlmeVwiXSk7dmFyIHhvLElvPSh4bz1mb1tib109bmV3IEVvLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe2UuZG9uZXx8KGUuZG9uZT0hMCx5bz0hMSx5KGZvLChmdW5jdGlvbihlKXtlLl9kb21fbG9hZGVkKCl9KSkpfW51bGwhPWEmJmEuYWRkRXZlbnRMaXN0ZW5lcj9cImNvbXBsZXRlXCI9PT1hLnJlYWR5U3RhdGU/ZSgpOlIoYSxcIkRPTUNvbnRlbnRMb2FkZWRcIixlLHtjYXB0dXJlOiExfSk6dCYmZWUuZXJyb3IoXCJCcm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcmAgc28gUG9zdEhvZyBjb3VsZG4ndCBiZSBpbml0aWFsaXplZFwiKX0oKSx4byk7ZXhwb3J0e3YgYXMgQ09QWV9BVVRPQ0FQVFVSRV9FVkVOVCxlIGFzIENvbXByZXNzaW9uLEVvIGFzIFBvc3RIb2csa24gYXMgU3VydmV5UXVlc3Rpb25CcmFuY2hpbmdUeXBlLFNuIGFzIFN1cnZleVF1ZXN0aW9uVHlwZSx3biBhcyBTdXJ2ZXlUeXBlLElvIGFzIGRlZmF1bHQsZyBhcyBrbm93blVuc2FmZUVkaXRhYmxlRXZlbnQsSW8gYXMgcG9zdGhvZyxmIGFzIHNldmVyaXR5TGV2ZWxzfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vZHVsZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/posthog-js/dist/module.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/posthog-js/react/dist/esm/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/posthog-js/react/dist/esm/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PostHogContext: () => (/* binding */ PostHogContext),\n/* harmony export */   PostHogFeature: () => (/* binding */ PostHogFeature),\n/* harmony export */   PostHogProvider: () => (/* binding */ PostHogProvider),\n/* harmony export */   useActiveFeatureFlags: () => (/* binding */ useActiveFeatureFlags),\n/* harmony export */   useFeatureFlagEnabled: () => (/* binding */ useFeatureFlagEnabled),\n/* harmony export */   useFeatureFlagPayload: () => (/* binding */ useFeatureFlagPayload),\n/* harmony export */   useFeatureFlagVariantKey: () => (/* binding */ useFeatureFlagVariantKey),\n/* harmony export */   usePostHog: () => (/* binding */ usePostHog)\n/* harmony export */ });\n/* harmony import */ var posthog_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! posthog-js */ \"(ssr)/./node_modules/posthog-js/dist/module.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nvar PostHogContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({ client: posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] });\n\nfunction isDeepEqual(obj1, obj2, visited) {\r\n    if (visited === void 0) { visited = new WeakMap(); }\r\n    if (obj1 === obj2) {\r\n        return true;\r\n    }\r\n    if (typeof obj1 !== 'object' || obj1 === null || typeof obj2 !== 'object' || obj2 === null) {\r\n        return false;\r\n    }\r\n    if (visited.has(obj1) && visited.get(obj1) === obj2) {\r\n        return true;\r\n    }\r\n    visited.set(obj1, obj2);\r\n    var keys1 = Object.keys(obj1);\r\n    var keys2 = Object.keys(obj2);\r\n    if (keys1.length !== keys2.length) {\r\n        return false;\r\n    }\r\n    for (var _i = 0, keys1_1 = keys1; _i < keys1_1.length; _i++) {\r\n        var key = keys1_1[_i];\r\n        if (!keys2.includes(key)) {\r\n            return false;\r\n        }\r\n        if (!isDeepEqual(obj1[key], obj2[key], visited)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\n\nfunction PostHogProvider(_a) {\r\n    var children = _a.children, client = _a.client, apiKey = _a.apiKey, options = _a.options;\r\n    var _b = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), alreadyInitialized = _b[0], setAlreadyInitialized = _b[1];\r\n    var posthog = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\r\n        if (client) {\r\n            if (apiKey) {\r\n                console.warn('[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`.');\r\n            }\r\n            if (options) {\r\n                console.warn('[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`.');\r\n            }\r\n            if (client.__loaded) {\r\n                console.warn('[PostHog.js] `client` was already loaded elsewhere. This may cause issues.');\r\n            }\r\n            return client;\r\n        }\r\n        if (apiKey) {\r\n            if (alreadyInitialized !== false) {\r\n                if (apiKey !== alreadyInitialized.previousAPIKey) {\r\n                    console.warn(\"[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop.\");\r\n                }\r\n                if (options && !isDeepEqual(options, alreadyInitialized.previousOptions)) {\r\n                    posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].set_config(options);\r\n                }\r\n                setAlreadyInitialized({\r\n                    previousAPIKey: apiKey,\r\n                    previousOptions: options !== null && options !== void 0 ? options : {},\r\n                });\r\n                return posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n            }\r\n            if (posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].__loaded) {\r\n                console.warn('[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues.');\r\n            }\r\n            posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].init(apiKey, options);\r\n            setAlreadyInitialized({\r\n                previousAPIKey: apiKey,\r\n                previousOptions: options !== null && options !== void 0 ? options : {},\r\n            });\r\n            return posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n        }\r\n        console.warn('[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior.');\r\n        return posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n    }, [client, apiKey, JSON.stringify(options)]);\r\n    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement(PostHogContext.Provider, { value: { client: posthog } }, children);\r\n}\n\nvar usePostHog = function () {\r\n    var client = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(PostHogContext).client;\r\n    return client;\r\n};\n\nfunction useFeatureFlagEnabled(flag) {\r\n    var client = usePostHog();\r\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () { return client.isFeatureEnabled(flag); }), featureEnabled = _a[0], setFeatureEnabled = _a[1];\r\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n        return client.onFeatureFlags(function () {\r\n            setFeatureEnabled(client.isFeatureEnabled(flag));\r\n        });\r\n    }, [client, flag]);\r\n    return featureEnabled;\r\n}\n\nfunction useFeatureFlagPayload(flag) {\r\n    var client = usePostHog();\r\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () { return client.getFeatureFlagPayload(flag); }), featureFlagPayload = _a[0], setFeatureFlagPayload = _a[1];\r\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n        return client.onFeatureFlags(function () {\r\n            setFeatureFlagPayload(client.getFeatureFlagPayload(flag));\r\n        });\r\n    }, [client, flag]);\r\n    return featureFlagPayload;\r\n}\n\nfunction useActiveFeatureFlags() {\r\n    var client = usePostHog();\r\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () { return client.featureFlags.getFlags(); }), featureFlags = _a[0], setFeatureFlags = _a[1];\r\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n        return client.onFeatureFlags(function (flags) {\r\n            setFeatureFlags(flags);\r\n        });\r\n    }, [client]);\r\n    return featureFlags;\r\n}\n\nfunction useFeatureFlagVariantKey(flag) {\r\n    var client = usePostHog();\r\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () {\r\n        return client.getFeatureFlag(flag);\r\n    }), featureFlagVariantKey = _a[0], setFeatureFlagVariantKey = _a[1];\r\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n        return client.onFeatureFlags(function () {\r\n            setFeatureFlagVariantKey(client.getFeatureFlag(flag));\r\n        });\r\n    }, [client, flag]);\r\n    return featureFlagVariantKey;\r\n}\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nvar isFunction = function (f) {\r\n    return typeof f === 'function';\r\n};\r\nvar isUndefined = function (x) {\r\n    return x === void 0;\r\n};\r\nvar isNull = function (x) {\r\n    return x === null;\r\n};\n\nfunction PostHogFeature(_a) {\r\n    var flag = _a.flag, match = _a.match, children = _a.children, fallback = _a.fallback, visibilityObserverOptions = _a.visibilityObserverOptions, trackInteraction = _a.trackInteraction, trackView = _a.trackView, props = __rest(_a, [\"flag\", \"match\", \"children\", \"fallback\", \"visibilityObserverOptions\", \"trackInteraction\", \"trackView\"]);\r\n    var payload = useFeatureFlagPayload(flag);\r\n    var variant = useFeatureFlagVariantKey(flag);\r\n    var shouldTrackInteraction = trackInteraction !== null && trackInteraction !== void 0 ? trackInteraction : true;\r\n    var shouldTrackView = trackView !== null && trackView !== void 0 ? trackView : true;\r\n    if (isUndefined(match) || variant === match) {\r\n        var childNode = isFunction(children) ? children(payload) : children;\r\n        return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(VisibilityAndClickTrackers, __assign({ flag: flag, options: visibilityObserverOptions, trackInteraction: shouldTrackInteraction, trackView: shouldTrackView }, props), childNode));\r\n    }\r\n    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, fallback);\r\n}\r\nfunction captureFeatureInteraction(flag, posthog) {\r\n    var _a;\r\n    posthog.capture('$feature_interaction', { feature_flag: flag, $set: (_a = {}, _a[\"$feature_interaction/\".concat(flag)] = true, _a) });\r\n}\r\nfunction captureFeatureView(flag, posthog) {\r\n    posthog.capture('$feature_view', { feature_flag: flag });\r\n}\r\nfunction VisibilityAndClickTracker(_a) {\r\n    var flag = _a.flag, children = _a.children, onIntersect = _a.onIntersect, onClick = _a.onClick, trackView = _a.trackView, options = _a.options, props = __rest(_a, [\"flag\", \"children\", \"onIntersect\", \"onClick\", \"trackView\", \"options\"]);\r\n    var ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\r\n    var posthog = usePostHog();\r\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n        if (isNull(ref.current) || !trackView)\r\n            return;\r\n        var observer = new IntersectionObserver(function (_a) {\r\n            var entry = _a[0];\r\n            return onIntersect(entry);\r\n        }, __assign({ threshold: 0.1 }, options));\r\n        observer.observe(ref.current);\r\n        return function () { return observer.disconnect(); };\r\n    }, [flag, options, posthog, ref, trackView, onIntersect]);\r\n    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", __assign({ ref: ref }, props, { onClick: onClick }), children));\r\n}\r\nfunction VisibilityAndClickTrackers(_a) {\r\n    var flag = _a.flag, children = _a.children, trackInteraction = _a.trackInteraction, trackView = _a.trackView, options = _a.options, props = __rest(_a, [\"flag\", \"children\", \"trackInteraction\", \"trackView\", \"options\"]);\r\n    var clickTrackedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\r\n    var visibilityTrackedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\r\n    var posthog = usePostHog();\r\n    var cachedOnClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function () {\r\n        if (!clickTrackedRef.current && trackInteraction) {\r\n            captureFeatureInteraction(flag, posthog);\r\n            clickTrackedRef.current = true;\r\n        }\r\n    }, [flag, posthog, trackInteraction]);\r\n    var onIntersect = function (entry) {\r\n        if (!visibilityTrackedRef.current && entry.isIntersecting) {\r\n            captureFeatureView(flag, posthog);\r\n            visibilityTrackedRef.current = true;\r\n        }\r\n    };\r\n    var trackedChildren = react__WEBPACK_IMPORTED_MODULE_1__.Children.map(children, function (child) {\r\n        return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(VisibilityAndClickTracker, __assign({ flag: flag, onClick: cachedOnClick, onIntersect: onIntersect, trackView: trackView, options: options }, props), child));\r\n    });\r\n    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, trackedChildren);\r\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcG9zdGhvZy1qcy9yZWFjdC9kaXN0L2VzbS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFtQztBQUNtRjs7QUFFdEgscUJBQXFCLG9EQUFhLEdBQUcsUUFBUSxrREFBUyxFQUFFOztBQUV4RDtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MscUJBQXFCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLCtDQUFRO0FBQ3JCLGtCQUFrQiw4Q0FBTztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isa0RBQVM7QUFDN0I7QUFDQTtBQUNBO0FBQ0EsMEZBQTBGO0FBQzFGLGlCQUFpQjtBQUNqQix1QkFBdUIsa0RBQVM7QUFDaEM7QUFDQSxnQkFBZ0Isa0RBQVM7QUFDekI7QUFDQTtBQUNBLFlBQVksa0RBQVM7QUFDckI7QUFDQTtBQUNBLHNGQUFzRjtBQUN0RixhQUFhO0FBQ2IsbUJBQW1CLGtEQUFTO0FBQzVCO0FBQ0E7QUFDQSxlQUFlLGtEQUFTO0FBQ3hCLEtBQUs7QUFDTCxXQUFXLDBEQUFtQiw0QkFBNEIsU0FBUyxtQkFBbUI7QUFDdEY7O0FBRUE7QUFDQSxpQkFBaUIsaURBQVU7QUFDM0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSwrQ0FBUSxlQUFlLHVDQUF1QztBQUMzRSxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSwrQ0FBUSxlQUFlLDRDQUE0QztBQUNoRixJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSwrQ0FBUSxlQUFlLHdDQUF3QztBQUM1RSxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSwrQ0FBUTtBQUNyQjtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsY0FBYztBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDBEQUFtQix3Q0FBd0Msc0hBQXNIO0FBQ2pNO0FBQ0EsV0FBVywwREFBbUIsQ0FBQyx1REFBYztBQUM3QztBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsa0NBQWtDLHdEQUF3RDtBQUN4STtBQUNBO0FBQ0EsdUNBQXVDLG9CQUFvQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQSxjQUFjLDZDQUFNO0FBQ3BCO0FBQ0EsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGFBQWEsZ0JBQWdCO0FBQ3RDO0FBQ0EsNkJBQTZCO0FBQzdCLEtBQUs7QUFDTCxZQUFZLDBEQUFtQixtQkFBbUIsVUFBVSxXQUFXLGtCQUFrQjtBQUN6RjtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsNkNBQU07QUFDaEMsK0JBQStCLDZDQUFNO0FBQ3JDO0FBQ0Esd0JBQXdCLGtEQUFXO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiwyQ0FBUTtBQUNsQyxnQkFBZ0IsMERBQW1CLHVDQUF1QyxzR0FBc0c7QUFDaEwsS0FBSztBQUNMLFdBQVcsMERBQW1CLENBQUMsdURBQWM7QUFDN0M7O0FBRXNLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWluZC1tZW50b3IvLi9ub2RlX21vZHVsZXMvcG9zdGhvZy1qcy9yZWFjdC9kaXN0L2VzbS9pbmRleC5qcz8wN2IxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwb3N0aG9nSnMgZnJvbSAncG9zdGhvZy1qcyc7XG5pbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlU3RhdGUsIHVzZU1lbW8sIHVzZUNvbnRleHQsIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VDYWxsYmFjaywgQ2hpbGRyZW4gfSBmcm9tICdyZWFjdCc7XG5cbnZhciBQb3N0SG9nQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoeyBjbGllbnQ6IHBvc3Rob2dKcyB9KTtcblxuZnVuY3Rpb24gaXNEZWVwRXF1YWwob2JqMSwgb2JqMiwgdmlzaXRlZCkge1xyXG4gICAgaWYgKHZpc2l0ZWQgPT09IHZvaWQgMCkgeyB2aXNpdGVkID0gbmV3IFdlYWtNYXAoKTsgfVxyXG4gICAgaWYgKG9iajEgPT09IG9iajIpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2Ygb2JqMSAhPT0gJ29iamVjdCcgfHwgb2JqMSA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqMiAhPT0gJ29iamVjdCcgfHwgb2JqMiA9PT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmICh2aXNpdGVkLmhhcyhvYmoxKSAmJiB2aXNpdGVkLmdldChvYmoxKSA9PT0gb2JqMikge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgdmlzaXRlZC5zZXQob2JqMSwgb2JqMik7XHJcbiAgICB2YXIga2V5czEgPSBPYmplY3Qua2V5cyhvYmoxKTtcclxuICAgIHZhciBrZXlzMiA9IE9iamVjdC5rZXlzKG9iajIpO1xyXG4gICAgaWYgKGtleXMxLmxlbmd0aCAhPT0ga2V5czIubGVuZ3RoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgZm9yICh2YXIgX2kgPSAwLCBrZXlzMV8xID0ga2V5czE7IF9pIDwga2V5czFfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICB2YXIga2V5ID0ga2V5czFfMVtfaV07XHJcbiAgICAgICAgaWYgKCFrZXlzMi5pbmNsdWRlcyhrZXkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFpc0RlZXBFcXVhbChvYmoxW2tleV0sIG9iajJba2V5XSwgdmlzaXRlZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59XG5cbmZ1bmN0aW9uIFBvc3RIb2dQcm92aWRlcihfYSkge1xyXG4gICAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIGNsaWVudCA9IF9hLmNsaWVudCwgYXBpS2V5ID0gX2EuYXBpS2V5LCBvcHRpb25zID0gX2Eub3B0aW9ucztcclxuICAgIHZhciBfYiA9IHVzZVN0YXRlKGZhbHNlKSwgYWxyZWFkeUluaXRpYWxpemVkID0gX2JbMF0sIHNldEFscmVhZHlJbml0aWFsaXplZCA9IF9iWzFdO1xyXG4gICAgdmFyIHBvc3Rob2cgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoY2xpZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChhcGlLZXkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignW1Bvc3RIb2cuanNdIFlvdSBoYXZlIHByb3ZpZGVkIGJvdGggYGNsaWVudGAgYW5kIGBhcGlLZXlgIHRvIGBQb3N0SG9nUHJvdmlkZXJgLiBgYXBpS2V5YCB3aWxsIGJlIGlnbm9yZWQgaW4gZmF2b3VyIG9mIGBjbGllbnRgLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tQb3N0SG9nLmpzXSBZb3UgaGF2ZSBwcm92aWRlZCBib3RoIGBjbGllbnRgIGFuZCBgb3B0aW9uc2AgdG8gYFBvc3RIb2dQcm92aWRlcmAuIGBvcHRpb25zYCB3aWxsIGJlIGlnbm9yZWQgaW4gZmF2b3VyIG9mIGBjbGllbnRgLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjbGllbnQuX19sb2FkZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignW1Bvc3RIb2cuanNdIGBjbGllbnRgIHdhcyBhbHJlYWR5IGxvYWRlZCBlbHNld2hlcmUuIFRoaXMgbWF5IGNhdXNlIGlzc3Vlcy4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY2xpZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYXBpS2V5KSB7XHJcbiAgICAgICAgICAgIGlmIChhbHJlYWR5SW5pdGlhbGl6ZWQgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXBpS2V5ICE9PSBhbHJlYWR5SW5pdGlhbGl6ZWQucHJldmlvdXNBUElLZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJbUG9zdEhvZy5qc10gWW91IGhhdmUgcHJvdmlkZWQgYSBkaWZmZXJlbnQgYGFwaUtleWAgdG8gYFBvc3RIb2dQcm92aWRlcmAgdGhhbiB0aGUgb25lIHRoYXQgd2FzIGFscmVhZHkgaW5pdGlhbGl6ZWQuIFRoaXMgaXMgbm90IHN1cHBvcnRlZCBieSBvdXIgcHJvdmlkZXIgYW5kIHdlJ2xsIGtlZXAgdXNpbmcgdGhlIHByZXZpb3VzIGtleS4gSWYgeW91IG5lZWQgdG8gdG9nZ2xlIGJldHdlZW4gQVBJIEtleXMgeW91IG5lZWQgdG8gY29udHJvbCB0aGUgYGNsaWVudGAgeW91cnNlbGYgYW5kIHBhc3MgaXQgaW4gYXMgYSBwcm9wIHJhdGhlciB0aGFuIGFuIGBhcGlLZXlgIHByb3AuXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMgJiYgIWlzRGVlcEVxdWFsKG9wdGlvbnMsIGFscmVhZHlJbml0aWFsaXplZC5wcmV2aW91c09wdGlvbnMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zdGhvZ0pzLnNldF9jb25maWcob3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzZXRBbHJlYWR5SW5pdGlhbGl6ZWQoe1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzQVBJS2V5OiBhcGlLZXksXHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNPcHRpb25zOiBvcHRpb25zICE9PSBudWxsICYmIG9wdGlvbnMgIT09IHZvaWQgMCA/IG9wdGlvbnMgOiB7fSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvc3Rob2dKcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocG9zdGhvZ0pzLl9fbG9hZGVkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tQb3N0SG9nLmpzXSBgcG9zdGhvZ2Agd2FzIGFscmVhZHkgbG9hZGVkIGVsc2V3aGVyZS4gVGhpcyBtYXkgY2F1c2UgaXNzdWVzLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBvc3Rob2dKcy5pbml0KGFwaUtleSwgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgIHNldEFscmVhZHlJbml0aWFsaXplZCh7XHJcbiAgICAgICAgICAgICAgICBwcmV2aW91c0FQSUtleTogYXBpS2V5LFxyXG4gICAgICAgICAgICAgICAgcHJldmlvdXNPcHRpb25zOiBvcHRpb25zICE9PSBudWxsICYmIG9wdGlvbnMgIT09IHZvaWQgMCA/IG9wdGlvbnMgOiB7fSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBwb3N0aG9nSnM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUud2FybignW1Bvc3RIb2cuanNdIE5vIGBhcGlLZXlgIG9yIGBjbGllbnRgIHdlcmUgcHJvdmlkZWQgdG8gYFBvc3RIb2dQcm92aWRlcmAuIFVzaW5nIGRlZmF1bHQgZ2xvYmFsIGB3aW5kb3cucG9zdGhvZ2AgaW5zdGFuY2UuIFlvdSBtdXN0IGluaXRpYWxpemUgaXQgbWFudWFsbHkuIFRoaXMgaXMgbm90IHJlY29tbWVuZGVkIGJlaGF2aW9yLicpO1xyXG4gICAgICAgIHJldHVybiBwb3N0aG9nSnM7XHJcbiAgICB9LCBbY2xpZW50LCBhcGlLZXksIEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpXSk7XHJcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChQb3N0SG9nQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogeyBjbGllbnQ6IHBvc3Rob2cgfSB9LCBjaGlsZHJlbik7XHJcbn1cblxudmFyIHVzZVBvc3RIb2cgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgY2xpZW50ID0gdXNlQ29udGV4dChQb3N0SG9nQ29udGV4dCkuY2xpZW50O1xyXG4gICAgcmV0dXJuIGNsaWVudDtcclxufTtcblxuZnVuY3Rpb24gdXNlRmVhdHVyZUZsYWdFbmFibGVkKGZsYWcpIHtcclxuICAgIHZhciBjbGllbnQgPSB1c2VQb3N0SG9nKCk7XHJcbiAgICB2YXIgX2EgPSB1c2VTdGF0ZShmdW5jdGlvbiAoKSB7IHJldHVybiBjbGllbnQuaXNGZWF0dXJlRW5hYmxlZChmbGFnKTsgfSksIGZlYXR1cmVFbmFibGVkID0gX2FbMF0sIHNldEZlYXR1cmVFbmFibGVkID0gX2FbMV07XHJcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBjbGllbnQub25GZWF0dXJlRmxhZ3MoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZXRGZWF0dXJlRW5hYmxlZChjbGllbnQuaXNGZWF0dXJlRW5hYmxlZChmbGFnKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCBbY2xpZW50LCBmbGFnXSk7XHJcbiAgICByZXR1cm4gZmVhdHVyZUVuYWJsZWQ7XHJcbn1cblxuZnVuY3Rpb24gdXNlRmVhdHVyZUZsYWdQYXlsb2FkKGZsYWcpIHtcclxuICAgIHZhciBjbGllbnQgPSB1c2VQb3N0SG9nKCk7XHJcbiAgICB2YXIgX2EgPSB1c2VTdGF0ZShmdW5jdGlvbiAoKSB7IHJldHVybiBjbGllbnQuZ2V0RmVhdHVyZUZsYWdQYXlsb2FkKGZsYWcpOyB9KSwgZmVhdHVyZUZsYWdQYXlsb2FkID0gX2FbMF0sIHNldEZlYXR1cmVGbGFnUGF5bG9hZCA9IF9hWzFdO1xyXG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gY2xpZW50Lm9uRmVhdHVyZUZsYWdzKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2V0RmVhdHVyZUZsYWdQYXlsb2FkKGNsaWVudC5nZXRGZWF0dXJlRmxhZ1BheWxvYWQoZmxhZykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSwgW2NsaWVudCwgZmxhZ10pO1xyXG4gICAgcmV0dXJuIGZlYXR1cmVGbGFnUGF5bG9hZDtcclxufVxuXG5mdW5jdGlvbiB1c2VBY3RpdmVGZWF0dXJlRmxhZ3MoKSB7XHJcbiAgICB2YXIgY2xpZW50ID0gdXNlUG9zdEhvZygpO1xyXG4gICAgdmFyIF9hID0gdXNlU3RhdGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gY2xpZW50LmZlYXR1cmVGbGFncy5nZXRGbGFncygpOyB9KSwgZmVhdHVyZUZsYWdzID0gX2FbMF0sIHNldEZlYXR1cmVGbGFncyA9IF9hWzFdO1xyXG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gY2xpZW50Lm9uRmVhdHVyZUZsYWdzKGZ1bmN0aW9uIChmbGFncykge1xyXG4gICAgICAgICAgICBzZXRGZWF0dXJlRmxhZ3MoZmxhZ3MpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSwgW2NsaWVudF0pO1xyXG4gICAgcmV0dXJuIGZlYXR1cmVGbGFncztcclxufVxuXG5mdW5jdGlvbiB1c2VGZWF0dXJlRmxhZ1ZhcmlhbnRLZXkoZmxhZykge1xyXG4gICAgdmFyIGNsaWVudCA9IHVzZVBvc3RIb2coKTtcclxuICAgIHZhciBfYSA9IHVzZVN0YXRlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gY2xpZW50LmdldEZlYXR1cmVGbGFnKGZsYWcpO1xyXG4gICAgfSksIGZlYXR1cmVGbGFnVmFyaWFudEtleSA9IF9hWzBdLCBzZXRGZWF0dXJlRmxhZ1ZhcmlhbnRLZXkgPSBfYVsxXTtcclxuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGNsaWVudC5vbkZlYXR1cmVGbGFncyhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNldEZlYXR1cmVGbGFnVmFyaWFudEtleShjbGllbnQuZ2V0RmVhdHVyZUZsYWcoZmxhZykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSwgW2NsaWVudCwgZmxhZ10pO1xyXG4gICAgcmV0dXJuIGZlYXR1cmVGbGFnVmFyaWFudEtleTtcclxufVxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuXHJcbnZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cblxudmFyIGlzRnVuY3Rpb24gPSBmdW5jdGlvbiAoZikge1xyXG4gICAgcmV0dXJuIHR5cGVvZiBmID09PSAnZnVuY3Rpb24nO1xyXG59O1xyXG52YXIgaXNVbmRlZmluZWQgPSBmdW5jdGlvbiAoeCkge1xyXG4gICAgcmV0dXJuIHggPT09IHZvaWQgMDtcclxufTtcclxudmFyIGlzTnVsbCA9IGZ1bmN0aW9uICh4KSB7XHJcbiAgICByZXR1cm4geCA9PT0gbnVsbDtcclxufTtcblxuZnVuY3Rpb24gUG9zdEhvZ0ZlYXR1cmUoX2EpIHtcclxuICAgIHZhciBmbGFnID0gX2EuZmxhZywgbWF0Y2ggPSBfYS5tYXRjaCwgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgZmFsbGJhY2sgPSBfYS5mYWxsYmFjaywgdmlzaWJpbGl0eU9ic2VydmVyT3B0aW9ucyA9IF9hLnZpc2liaWxpdHlPYnNlcnZlck9wdGlvbnMsIHRyYWNrSW50ZXJhY3Rpb24gPSBfYS50cmFja0ludGVyYWN0aW9uLCB0cmFja1ZpZXcgPSBfYS50cmFja1ZpZXcsIHByb3BzID0gX19yZXN0KF9hLCBbXCJmbGFnXCIsIFwibWF0Y2hcIiwgXCJjaGlsZHJlblwiLCBcImZhbGxiYWNrXCIsIFwidmlzaWJpbGl0eU9ic2VydmVyT3B0aW9uc1wiLCBcInRyYWNrSW50ZXJhY3Rpb25cIiwgXCJ0cmFja1ZpZXdcIl0pO1xyXG4gICAgdmFyIHBheWxvYWQgPSB1c2VGZWF0dXJlRmxhZ1BheWxvYWQoZmxhZyk7XHJcbiAgICB2YXIgdmFyaWFudCA9IHVzZUZlYXR1cmVGbGFnVmFyaWFudEtleShmbGFnKTtcclxuICAgIHZhciBzaG91bGRUcmFja0ludGVyYWN0aW9uID0gdHJhY2tJbnRlcmFjdGlvbiAhPT0gbnVsbCAmJiB0cmFja0ludGVyYWN0aW9uICE9PSB2b2lkIDAgPyB0cmFja0ludGVyYWN0aW9uIDogdHJ1ZTtcclxuICAgIHZhciBzaG91bGRUcmFja1ZpZXcgPSB0cmFja1ZpZXcgIT09IG51bGwgJiYgdHJhY2tWaWV3ICE9PSB2b2lkIDAgPyB0cmFja1ZpZXcgOiB0cnVlO1xyXG4gICAgaWYgKGlzVW5kZWZpbmVkKG1hdGNoKSB8fCB2YXJpYW50ID09PSBtYXRjaCkge1xyXG4gICAgICAgIHZhciBjaGlsZE5vZGUgPSBpc0Z1bmN0aW9uKGNoaWxkcmVuKSA/IGNoaWxkcmVuKHBheWxvYWQpIDogY2hpbGRyZW47XHJcbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFZpc2liaWxpdHlBbmRDbGlja1RyYWNrZXJzLCBfX2Fzc2lnbih7IGZsYWc6IGZsYWcsIG9wdGlvbnM6IHZpc2liaWxpdHlPYnNlcnZlck9wdGlvbnMsIHRyYWNrSW50ZXJhY3Rpb246IHNob3VsZFRyYWNrSW50ZXJhY3Rpb24sIHRyYWNrVmlldzogc2hvdWxkVHJhY2tWaWV3IH0sIHByb3BzKSwgY2hpbGROb2RlKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgZmFsbGJhY2spO1xyXG59XHJcbmZ1bmN0aW9uIGNhcHR1cmVGZWF0dXJlSW50ZXJhY3Rpb24oZmxhZywgcG9zdGhvZykge1xyXG4gICAgdmFyIF9hO1xyXG4gICAgcG9zdGhvZy5jYXB0dXJlKCckZmVhdHVyZV9pbnRlcmFjdGlvbicsIHsgZmVhdHVyZV9mbGFnOiBmbGFnLCAkc2V0OiAoX2EgPSB7fSwgX2FbXCIkZmVhdHVyZV9pbnRlcmFjdGlvbi9cIi5jb25jYXQoZmxhZyldID0gdHJ1ZSwgX2EpIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGNhcHR1cmVGZWF0dXJlVmlldyhmbGFnLCBwb3N0aG9nKSB7XHJcbiAgICBwb3N0aG9nLmNhcHR1cmUoJyRmZWF0dXJlX3ZpZXcnLCB7IGZlYXR1cmVfZmxhZzogZmxhZyB9KTtcclxufVxyXG5mdW5jdGlvbiBWaXNpYmlsaXR5QW5kQ2xpY2tUcmFja2VyKF9hKSB7XHJcbiAgICB2YXIgZmxhZyA9IF9hLmZsYWcsIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIG9uSW50ZXJzZWN0ID0gX2Eub25JbnRlcnNlY3QsIG9uQ2xpY2sgPSBfYS5vbkNsaWNrLCB0cmFja1ZpZXcgPSBfYS50cmFja1ZpZXcsIG9wdGlvbnMgPSBfYS5vcHRpb25zLCBwcm9wcyA9IF9fcmVzdChfYSwgW1wiZmxhZ1wiLCBcImNoaWxkcmVuXCIsIFwib25JbnRlcnNlY3RcIiwgXCJvbkNsaWNrXCIsIFwidHJhY2tWaWV3XCIsIFwib3B0aW9uc1wiXSk7XHJcbiAgICB2YXIgcmVmID0gdXNlUmVmKG51bGwpO1xyXG4gICAgdmFyIHBvc3Rob2cgPSB1c2VQb3N0SG9nKCk7XHJcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChpc051bGwocmVmLmN1cnJlbnQpIHx8ICF0cmFja1ZpZXcpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgIHZhciBlbnRyeSA9IF9hWzBdO1xyXG4gICAgICAgICAgICByZXR1cm4gb25JbnRlcnNlY3QoZW50cnkpO1xyXG4gICAgICAgIH0sIF9fYXNzaWduKHsgdGhyZXNob2xkOiAwLjEgfSwgb3B0aW9ucykpO1xyXG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUocmVmLmN1cnJlbnQpO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBvYnNlcnZlci5kaXNjb25uZWN0KCk7IH07XHJcbiAgICB9LCBbZmxhZywgb3B0aW9ucywgcG9zdGhvZywgcmVmLCB0cmFja1ZpZXcsIG9uSW50ZXJzZWN0XSk7XHJcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19hc3NpZ24oeyByZWY6IHJlZiB9LCBwcm9wcywgeyBvbkNsaWNrOiBvbkNsaWNrIH0pLCBjaGlsZHJlbikpO1xyXG59XHJcbmZ1bmN0aW9uIFZpc2liaWxpdHlBbmRDbGlja1RyYWNrZXJzKF9hKSB7XHJcbiAgICB2YXIgZmxhZyA9IF9hLmZsYWcsIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIHRyYWNrSW50ZXJhY3Rpb24gPSBfYS50cmFja0ludGVyYWN0aW9uLCB0cmFja1ZpZXcgPSBfYS50cmFja1ZpZXcsIG9wdGlvbnMgPSBfYS5vcHRpb25zLCBwcm9wcyA9IF9fcmVzdChfYSwgW1wiZmxhZ1wiLCBcImNoaWxkcmVuXCIsIFwidHJhY2tJbnRlcmFjdGlvblwiLCBcInRyYWNrVmlld1wiLCBcIm9wdGlvbnNcIl0pO1xyXG4gICAgdmFyIGNsaWNrVHJhY2tlZFJlZiA9IHVzZVJlZihmYWxzZSk7XHJcbiAgICB2YXIgdmlzaWJpbGl0eVRyYWNrZWRSZWYgPSB1c2VSZWYoZmFsc2UpO1xyXG4gICAgdmFyIHBvc3Rob2cgPSB1c2VQb3N0SG9nKCk7XHJcbiAgICB2YXIgY2FjaGVkT25DbGljayA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIWNsaWNrVHJhY2tlZFJlZi5jdXJyZW50ICYmIHRyYWNrSW50ZXJhY3Rpb24pIHtcclxuICAgICAgICAgICAgY2FwdHVyZUZlYXR1cmVJbnRlcmFjdGlvbihmbGFnLCBwb3N0aG9nKTtcclxuICAgICAgICAgICAgY2xpY2tUcmFja2VkUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH0sIFtmbGFnLCBwb3N0aG9nLCB0cmFja0ludGVyYWN0aW9uXSk7XHJcbiAgICB2YXIgb25JbnRlcnNlY3QgPSBmdW5jdGlvbiAoZW50cnkpIHtcclxuICAgICAgICBpZiAoIXZpc2liaWxpdHlUcmFja2VkUmVmLmN1cnJlbnQgJiYgZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcclxuICAgICAgICAgICAgY2FwdHVyZUZlYXR1cmVWaWV3KGZsYWcsIHBvc3Rob2cpO1xyXG4gICAgICAgICAgICB2aXNpYmlsaXR5VHJhY2tlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdmFyIHRyYWNrZWRDaGlsZHJlbiA9IENoaWxkcmVuLm1hcChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XHJcbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFZpc2liaWxpdHlBbmRDbGlja1RyYWNrZXIsIF9fYXNzaWduKHsgZmxhZzogZmxhZywgb25DbGljazogY2FjaGVkT25DbGljaywgb25JbnRlcnNlY3Q6IG9uSW50ZXJzZWN0LCB0cmFja1ZpZXc6IHRyYWNrVmlldywgb3B0aW9uczogb3B0aW9ucyB9LCBwcm9wcyksIGNoaWxkKSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCB0cmFja2VkQ2hpbGRyZW4pO1xyXG59XG5cbmV4cG9ydCB7IFBvc3RIb2dDb250ZXh0LCBQb3N0SG9nRmVhdHVyZSwgUG9zdEhvZ1Byb3ZpZGVyLCB1c2VBY3RpdmVGZWF0dXJlRmxhZ3MsIHVzZUZlYXR1cmVGbGFnRW5hYmxlZCwgdXNlRmVhdHVyZUZsYWdQYXlsb2FkLCB1c2VGZWF0dXJlRmxhZ1ZhcmlhbnRLZXksIHVzZVBvc3RIb2cgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/posthog-js/react/dist/esm/index.js\n");

/***/ })

};
;